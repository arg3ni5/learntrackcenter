import{r as o,e as h,j as t,D as m}from"./index-lcYHgldp.js";import{f as C,a as p,d as f,u as g}from"./courseService-DwyhEZem.js";const x=()=>{const[u,a]=o.useState([]),[n,d]=o.useState(!0),[c,s]=o.useState(null),r=async()=>{try{d(!0);const e=await C();return a(e),e}catch{return s("Error fetching courses"),[]}finally{d(!1)}};return o.useEffect(()=>{r()},[]),{courses:u,loadCourses:r,loading:n,error:c,setError:s,handleAddCourse:async e=>{try{await p(e),r()}catch{s("Error adding course")}},handleDeleteCourse:async e=>{try{await f(e),r()}catch{s("Error deleting course")}},handleUpdateCourse:async(e,l)=>{try{await g(e,l),r()}catch{s("Error updating course")}}}},y=()=>{const{courses:u,loading:a,error:n,handleAddCourse:d,handleDeleteCourse:c,handleUpdateCourse:s}=x(),{setIsLoading:r}=h();o.useEffect(()=>{r(a)},[a,r]);const i=[{name:"name",placeholder:"name"},{name:"description",placeholder:"description"},{name:"duration",placeholder:"Duration (weeks)",size:15},{name:"hours",placeholder:"Hours per week",size:15}];return t.jsxs(t.Fragment,{children:[t.jsx(m,{title:"Manage Courses",fields:i,items:u,handlers:{onItemAdded:d,onItemDeleted:c,onItemUpdated:s},ableImport:!0,loading:a,showForm:!1}),n&&t.jsx("div",{className:"error",children:n})," "]})},A=()=>t.jsx("div",{children:t.jsx(y,{})});export{A as default};
