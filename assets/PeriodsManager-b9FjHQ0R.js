import{j as e,o as m,C as P}from"./index-BaZKZUog.js";import{u as S}from"./useStudentCourses-CvS9slwc.js";const A=({student:a,onEdit:i,onDelete:r})=>e.jsxs("div",{className:"student-card",children:[e.jsx("h3",{children:a.fullName}),a.identificationNumber&&e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",a.identificationNumber]}),a.email&&e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",a.email]}),e.jsxs("div",{className:"student-card-actions",children:[i&&e.jsx("button",{onClick:()=>i(a),className:"edit-button",children:"Edit"}),r&&a.id&&e.jsx("button",{onClick:()=>r(a.id),className:"delete-button",children:"Delete"})]})]}),D=({student:a})=>{const[i,r]=m("selectedPeriodId",null),[n,t]=m("selectedCourseId",null),{error:c,availableCourses:d,availablePeriods:h,studentCourses:u,handleAddCourse:x,handleDeleteCourse:j,setPeriodId:N}=S(a.id),C=async()=>{if(i&&n){const{id:s,duration:l,hours:k,...v}=d.filter(f=>f.id===n)[0],I={...v,periodId:i,periodCourseId:n,courseId:n,status:"Not Started",finalGrade:0,assignmentsIds:[]};await x(a.id,I)}},b=s=>{r(s),N(s),t(null)},o=(s,l)=>s&&l&&String(s)===String(l),p=[{name:"name",placeholder:"name"},{name:"description",placeholder:"description"},{name:"duration",placeholder:"duration"},{name:"hours",placeholder:"hours"},{name:"status",placeholder:"status"},{name:"teacherName",placeholder:"teacherName"},{name:"assignmentsIds",placeholder:"Assignments",type:"array"}],g=async s=>{await j(a.id,s)};return c?e.jsx("div",{className:"error",children:c}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"item",children:[e.jsx("h3",{children:"Periods"}),e.jsx("div",{className:"buttons-container",children:h.map(s=>e.jsx("button",{className:`button ${o(i,s.id)?"active":""}`,onClick:()=>b(s.id),children:s.code},s.id))})]}),i&&e.jsxs("div",{className:"item",children:[e.jsx("h3",{children:"Available Courses"}),e.jsx("div",{className:"buttons-container",children:d.map(s=>e.jsx("button",{className:`button ${o(n,s.id)?"active":""}`,onClick:()=>t(s.id),children:s.name},s.id))}),d.length===0&&e.jsx("div",{className:"empty",children:"No courses available for this period"})]}),i&&n&&e.jsx("button",{className:"edit-button",onClick:C,children:"Assign course"})]}),e.jsx("div",{className:"container-grid",children:u.map(s=>e.jsx("div",{className:"grow1",children:e.jsx(P,{titleName:"name",fields:p,data:s,handlers:{onDelete:g},ableDelete:s.assignmentsIds.length===0})},`div-${s.id}`))})]})};export{D as P,A as S};
