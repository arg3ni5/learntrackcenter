import{b as i,j as t}from"./index-g1SReERP.js";import{r as s}from"./vendor-react-CrVlFZLu.js";import{D as m}from"./DataManagementModule-3FyRWLSI.js";import{f as u,a as p,d as T,u as f}from"./teacherService-rIMiBxmN.js";import"./vendor-firebase-DPqF2cx7.js";import"./vendor-ui-Cz82L-V6.js";import"./Card-CSivsItZ.js";import"./vendor-utils-CMv371St.js";const g=()=>{const[c,d]=s.useState([]),[o,n]=s.useState(!0),[h,a]=s.useState(null),r=async()=>{try{n(!0);const e=await u();return d(e),e}catch{return a("Error fetching teachers"),[]}finally{n(!1)}};return s.useEffect(()=>{r()},[]),{teachers:c,loadTeachers:r,loading:o,error:h,handleAddTeacher:async e=>{try{await p(e),r()}catch{a("Error adding teacher")}},handleDeleteTeacher:async e=>{try{await T(e),r()}catch{a("Error deleting teacher")}},handleUpdateTeacher:async(e,l)=>{try{await f(e,l),r()}catch{a("Error adding teacher")}}}},y=()=>{const{loading:c,teachers:d,handleAddTeacher:o,handleDeleteTeacher:n,handleUpdateTeacher:h}=g(),{setIsLoading:a}=i();s.useEffect(()=>{a(c)},[c,a]);const r=[{name:"name",placeholder:"Full Name"},{name:"idNumber",placeholder:"Id"},{name:"specialty",placeholder:"specialty"}];return t.jsx(t.Fragment,{children:t.jsx(m,{title:"Manage Teacher",fields:r,items:d,handlers:{onItemAdded:o,onItemDeleted:n,onItemUpdated:h},loading:c,showForm:!1})})},b=()=>t.jsx(t.Fragment,{children:t.jsx(y,{})});export{b as default};
