import{f as r,i as I,w as y,l as i,k as l,h as e,x as g,m as C,v as D,F as S,G as u}from"./index-B1GdCpt6.js";const P=async s=>{const t=r(e,"students");await I(t,s)},q=async s=>{const t=y(e),n=r(e,"students");s.forEach(a=>{const c=i(n);t.set(c,a)});try{await t.commit()}catch(a){throw console.error("Error committing batch:",a),new Error("Error adding students")}},x=async()=>{const s=r(e,"students");return(await l(s)).docs.map(n=>({id:n.id,fullName:n.data().fullName,identificationNumber:n.data().identificationNumber,email:n.data().email}))},p=async s=>{try{const t=i(e,"students",s),n=await g(t);return n.exists()?{id:n.id,...n.data()}:(console.log("No such document!"),null)}catch(t){throw console.error("Error fetching student:",t),t}},B=async s=>{const t=i(e,"students",s);await C(t)},R=async(s,t)=>{const{id:n,...a}=t,c=i(e,"students",s);await D(c,a)},k=async(s,t)=>{const n=r(e,"enrollments"),a=S(n,u("periodId","==",s),u("courseId","==",t)),m=(await l(a)).docs.map(d=>d.data().studentId).map(d=>p(d));return(await Promise.all(m)).filter(d=>d!==null)},v=async(s,t)=>{const n=r(e,"students"),c=(await l(n)).docs.map(o=>o.id),h=r(e,"enrollments"),m=S(h,u("periodId","==",s),u("courseId","==",t)),d=(await l(m)).docs.map(o=>o.data().studentId),w=c.filter(o=>!d.includes(o)).map(o=>p(o));return(await Promise.all(w)).filter(o=>o!==null)};export{p as a,P as b,q as c,B as d,v as e,x as f,k as g,R as u};
