import{c as h,j as t,D as m}from"./index-CQusFBuD.js";import{r as a}from"./vendor-react-BWjxQFbR.js";import{f as p,a as C,d as f,u as g}from"./courseService-CYMN9yBe.js";import"./vendor-firebase-BZIgVnDU.js";import"./vendor-ui-CZ9GI7ht.js";import"./vendor-utils-CMv371St.js";const x=()=>{const[u,o]=a.useState([]),[n,d]=a.useState(!0),[c,s]=a.useState(null),r=async()=>{try{d(!0);const e=await p();return o(e),e}catch{return s("Error fetching courses"),[]}finally{d(!1)}};return a.useEffect(()=>{r()},[]),{courses:u,loadCourses:r,loading:n,error:c,setError:s,handleAddCourse:async e=>{try{await C(e),r()}catch{s("Error adding course")}},handleDeleteCourse:async e=>{try{await f(e),r()}catch{s("Error deleting course")}},handleUpdateCourse:async(e,l)=>{try{await g(e,l),r()}catch{s("Error updating course")}}}},y=()=>{const{courses:u,loading:o,error:n,handleAddCourse:d,handleDeleteCourse:c,handleUpdateCourse:s}=x(),{setIsLoading:r}=h();a.useEffect(()=>{r(o)},[o,r]);const i=[{name:"name",placeholder:"name"},{name:"description",placeholder:"description"},{name:"duration",placeholder:"Duration (weeks)",size:15},{name:"hours",placeholder:"Hours per week",size:15}];return t.jsxs(t.Fragment,{children:[t.jsx(m,{title:"Manage Courses",fields:i,items:u,handlers:{onItemAdded:d,onItemDeleted:c,onItemUpdated:s},ableImport:!0,loading:o,showForm:!1}),n&&t.jsx("div",{className:"error",children:n})," "]})},S=()=>t.jsx("div",{children:t.jsx(y,{})});export{S as default};
