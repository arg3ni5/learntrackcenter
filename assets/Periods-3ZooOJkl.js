import{f as p,h as l,i as m,k as u,l as P,m as f,r as t,j as r,L as D}from"./index-xBWYQws9.js";import{B as g}from"./BaseModule-aTlGCpHK.js";const x=async()=>{const e=p(l,"periods");return(await m(e)).docs.map(d=>({id:d.id,...d.data()}))},y=async e=>{const o=p(l,"periods");await u(o,e)},j=async e=>{const o=P(l,"periods",e);await f(o)},E=()=>{const[e,o]=t.useState([]),[a,d]=t.useState(!0),[i,n]=t.useState(null),c=async()=>{try{d(!0);const s=await x();o(s)}catch{n("Error fetching periods")}finally{d(!1)}};return t.useEffect(()=>{c()},[]),{periods:e,loading:a,error:i,handleAddPeriod:async s=>{try{await y(s),c()}catch{n("Error adding period")}},handleDeletePeriod:async s=>{try{await j(s),c()}catch{n("Error deleting period")}}}},w=()=>{const{periods:e,loading:o,error:a,handleAddPeriod:d,handleDeletePeriod:i}=E();return r.jsxs(r.Fragment,{children:[r.jsx(g,{collectionName:"periods",title:"Manage Academic Periods",fields:[{name:"periodId",placeholder:"ID Periodo"},{name:"periodName",placeholder:"Nombre del Periodo"},{name:"startDate",placeholder:"Fecha de Inicio"},{name:"endDate",placeholder:"Fecha de Fin"},{name:"status",placeholder:"Estado"}],fetchItems:async()=>e,onItemAdded:d,onItemDeleted:i,initialFormData:null,loading:o}),o&&r.jsx("div",{className:"loading",children:r.jsx(D,{})})," ",a&&r.jsx("div",{className:"error",children:a})," "]})},N=()=>r.jsx("div",{children:r.jsx(w,{})});export{N as default};
