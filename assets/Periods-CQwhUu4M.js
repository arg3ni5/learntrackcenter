import{r as i,o as P,c as m,j as r,B as f,L as g}from"./index-BozJdoqh.js";import{f as x,a as j,d as y,u as E}from"./periodService-COUu7smY.js";const w=()=>{const[n,o]=i.useState([]),[t,s]=i.useState(!0),[l,d]=i.useState(null),a=async()=>{try{s(!0);const e=await x();return o(e),e}catch{return d("Error fetching periods"),[]}finally{s(!1)}};return i.useEffect(()=>{a()},[]),{periods:n,loadPeriods:a,loading:t,error:l,handleAddPeriod:async e=>{try{await j(e),a()}catch{d("Error adding period")}},handleDeletePeriod:async e=>{try{await y(e),a()}catch{d("Error deleting period")}},handleUpdatePeriod:async(e,h)=>{try{await E(e,h),a()}catch{d("Error updating period")}}}},D=()=>{const{periods:n,loading:o,error:t,handleAddPeriod:s,handleDeletePeriod:l,handleUpdatePeriod:d}=w(),[,a]=P("selectPeriod",null),u=m(),p=c=>{u(`/period/${c.id}/courses`),a(c)};return r.jsxs(r.Fragment,{children:[r.jsx(f,{title:"Manage Academic Periods",fields:[{name:"code",placeholder:"Code of Period"},{name:"name",placeholder:"Name of Period"},{name:"startDate",placeholder:"Fecha de Inicio"},{name:"endDate",placeholder:"Fecha de Fin"},{name:"status",placeholder:"Status"}],items:n,onItemAdded:s,onItemDeleted:l,onItemUpdated:d,initialFormData:null,viewLinks:[{label:"Courses",format:"/period/:id/courses"}],onView:p,loading:o,showForm:!1}),o&&r.jsx("div",{className:"loading",children:r.jsx(g,{})})," ",t&&r.jsx("div",{className:"error",children:t})," "]})},A=()=>r.jsx("div",{children:r.jsx(D,{})});export{A as default};
