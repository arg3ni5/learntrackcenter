import{r as n,o as p,u as P,j as a,D as f,L as g}from"./index-CU6ZBsdJ.js";import{f as x,a as D,d as E,u as j}from"./periodService-BfPo35n1.js";const y=()=>{const[i,t]=n.useState([]),[o,s]=n.useState(!0),[l,d]=n.useState(null),r=async()=>{try{s(!0);const e=await x();return t(e),e}catch{return d("Error fetching periods"),[]}finally{s(!1)}};return n.useEffect(()=>{r()},[]),{periods:i,loadPeriods:r,loading:o,error:l,handleAddPeriod:async e=>{try{await D(e),r()}catch{d("Error adding period")}},handleDeletePeriod:async e=>{try{await E(e),r()}catch{d("Error deleting period")}},handleUpdatePeriod:async(e,u)=>{try{await j(e,u),r()}catch{d("Error updating period")}}}},S=()=>{const{periods:i,loading:t,error:o,handleAddPeriod:s,handleDeletePeriod:l,handleUpdatePeriod:d}=y(),[,r]=p("selectPeriod",null),h=P(),m=c=>{h(`/period/${c.id}/courses`),r(c)};return a.jsxs(a.Fragment,{children:[a.jsx(f,{title:"Manage Academic Periods",fields:[{name:"code",placeholder:"Code of Period",label:"Code"},{name:"name",placeholder:"Name of Period",label:"Name",size:20},{name:"startDate",placeholder:"Start Date"},{name:"endDate",placeholder:"End Date"},{name:"status",placeholder:"Status"}],items:i,handlers:{onItemAdded:s,onItemDeleted:l,onItemUpdated:d,onSelect:r,onView:m},initialFormData:null,viewLinks:[{label:"Courses",format:"/period/:id/courses"}],loading:t,showForm:!1}),t&&a.jsx("div",{className:"loading",children:a.jsx(g,{})})," ",o&&a.jsx("div",{className:"error",children:o})," "]})},L=()=>a.jsx("div",{children:a.jsx(S,{})});export{L as default};
