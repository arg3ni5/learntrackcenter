import{r as i,p as P,q as m,t as g,v as f,w as x,c as j,j as r,B as y,L as E}from"./index-DEMmFNCR.js";const w=()=>{const[n,t]=i.useState([]),[o,s]=i.useState(!0),[c,d]=i.useState(null),a=async()=>{try{s(!0);const e=await P();return t(e),e}catch{return d("Error fetching periods"),[]}finally{s(!1)}};return i.useEffect(()=>{a()},[]),{periods:n,loadPeriods:a,loading:o,error:c,handleAddPeriod:async e=>{try{await m(e),a()}catch{d("Error adding period")}},handleDeletePeriod:async e=>{try{await g(e),a()}catch{d("Error deleting period")}},handleUpdatePeriod:async(e,h)=>{try{await f(e,h),a()}catch{d("Error updating period")}}}},v=()=>{const{periods:n,loading:t,error:o,handleAddPeriod:s,handleDeletePeriod:c,handleUpdatePeriod:d}=w(),[,a]=x("selectPeriod",null),u=j(),p=l=>{u(`/periods/${l.id}/courses`),a(l)};return r.jsxs(r.Fragment,{children:[r.jsx(y,{title:"Manage Academic Periods",fields:[{name:"code",placeholder:"Code of Period"},{name:"name",placeholder:"Name of Period"},{name:"startDate",placeholder:"Fecha de Inicio"},{name:"endDate",placeholder:"Fecha de Fin"},{name:"status",placeholder:"Status"}],items:n,onItemAdded:s,onItemDeleted:c,onItemUpdated:d,initialFormData:null,viewLinkFormat:"/periods/:id/courses",onView:p,loading:t,showForm:!1}),t&&r.jsx("div",{className:"loading",children:r.jsx(E,{})})," ",o&&r.jsx("div",{className:"error",children:o})," "]})},S=()=>r.jsx("div",{children:r.jsx(v,{})});export{S as default};
