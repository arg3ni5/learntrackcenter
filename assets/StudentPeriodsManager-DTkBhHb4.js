import{j as s,C as u,e as m}from"./index-5hgYMxn5.js";import{u as S}from"./useStudentCourses-W8RkFiU2.js";const y=[{name:"identificationNumber",placeholder:"Identification"},{name:"email",placeholder:"Email Address"}],D=({student:t,onDelete:a,onEdit:d})=>s.jsx(s.Fragment,{children:s.jsx(u,{titleName:"fullName",fields:y,data:t,handlers:{onDelete:a,onItemUpdated:d}})}),E=({student:t})=>{const[a,d]=m("selectedPeriodId",null),[n,l]=m("selectedCourseId",null),{error:o,availableCourses:i,availablePeriods:h,studentCourses:x,handleAddCourse:j,handleDeleteCourse:p,setPeriodId:N}=S(t.id),C=async()=>{if(a&&n){const{id:e,duration:r,hours:A,...I}=i.filter(P=>P.id===n)[0],f={...I,periodId:a,periodCourseId:n,courseId:n,status:"Not Started",finalGrade:0,assignmentsIds:[]};await j(t.id,f)}},g=e=>{d(e),N(e),l(null)},c=(e,r)=>e&&r&&String(e)===String(r),v=[{name:"name",placeholder:"name"},{name:"description",placeholder:"description"},{name:"duration",placeholder:"duration"},{name:"hours",placeholder:"hours"},{name:"status",placeholder:"status"},{name:"teacherName",placeholder:"teacherName"},{name:"assignmentsIds",placeholder:"Assignments",type:"array"}],b=async e=>{await p(e,n,a)};return o?s.jsx("div",{className:"error",children:o}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"item",children:[s.jsx("h3",{children:"Periods"}),s.jsx("div",{className:"buttons-container",children:h.map(e=>s.jsx("button",{className:`button ${c(a,e.id)?"active":""}`,onClick:()=>g(e.id),children:e.code},e.id))})]}),a&&s.jsxs("div",{className:"item",children:[s.jsx("h3",{children:"Available Courses"}),s.jsx("div",{className:"buttons-container",children:i.map(e=>s.jsx("button",{className:`button ${c(n,e.id)?"active":""}`,onClick:()=>l(e.id),children:e.name},e.id))}),i.length===0&&s.jsx("div",{className:"empty",children:"No courses available for this period"})]}),a&&n&&s.jsx("button",{className:"edit-button",onClick:C,children:"Assign course"})]}),s.jsx("div",{className:"container-grid",children:x.map(e=>s.jsx("div",{className:"grow1",children:s.jsx(u,{titleName:"name",fields:v,data:e,handlers:{onDelete:b},ableDelete:e.assignmentsIds.length===0})},`div-${e.id}`))})]})};export{E as P,D as S};
