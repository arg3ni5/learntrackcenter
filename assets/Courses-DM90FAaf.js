import{r as n,e as h,j as t,D as m}from"./index-CU6ZBsdJ.js";import{f as C,a as p,d as f,u as g}from"./courseService-BCTqeeUd.js";const x=()=>{const[d,u]=n.useState([]),[a,o]=n.useState(!0),[c,r]=n.useState(null),s=async()=>{try{o(!0);const e=await C();return u(e),e}catch{return r("Error fetching courses"),[]}finally{o(!1)}};return n.useEffect(()=>{s()},[]),{courses:d,loadCourses:s,loading:a,error:c,setError:r,handleAddCourse:async e=>{try{await p(e),s()}catch{r("Error adding course")}},handleDeleteCourse:async e=>{try{await f(e),s()}catch{r("Error deleting course")}},handleUpdateCourse:async(e,l)=>{try{await g(e,l),s()}catch{r("Error updating course")}}}},y=()=>{const{setIsLoading:d}=h(),{courses:u,loading:a,error:o,handleAddCourse:c,handleDeleteCourse:r,handleUpdateCourse:s}=x();n.useEffect(()=>{d(a)},[a,d]);const i=[{name:"name",placeholder:"name"},{name:"description",placeholder:"description"},{name:"duration",placeholder:"Duration (weeks)",size:15},{name:"hours",placeholder:"Hours per week",size:15}];return t.jsxs(t.Fragment,{children:[t.jsx(m,{title:"Course Management",fields:i,items:u,handlers:{onItemAdded:c,onItemDeleted:r,onItemUpdated:s},ableImport:!0,loading:a,showForm:!1}),o&&t.jsx("div",{className:"error",children:o})," "]})},A=()=>t.jsx("div",{children:t.jsx(y,{})});export{A as default};
