import{f as h,h as l,i as m,k as P,l as u,m as D,n as f,r as c,j as d,L as y}from"./index-D4yMUOb2.js";import{B as g}from"./BaseModule-D2lKYpIr.js";const x=async()=>{const e=h(l,"periods");return(await m(e)).docs.map(r=>({id:r.id,...r.data()}))},j=async e=>{const o=h(l,"periods");await P(o,e)},E=async e=>{const o=u(l,"periods",e);await D(o)},w=async(e,o)=>{const{id:t,...r}=o,n=u(l,"periods",e);await f(n,r)},I=()=>{const[e,o]=c.useState([]),[t,r]=c.useState(!0),[n,s]=c.useState(null),i=async()=>{try{r(!0);const a=await x();return o(a),a}catch{return s("Error fetching periods"),[]}finally{r(!1)}};return c.useEffect(()=>{i()},[]),{periods:e,loadPeriods:i,loading:t,error:n,handleAddPeriod:async a=>{try{await j(a),i()}catch{s("Error adding period")}},handleDeletePeriod:async a=>{try{await E(a),i()}catch{s("Error deleting period")}},handleUpdateCourse:async(a,p)=>{try{await w(a,p),i()}catch{s("Error updating period")}}}},A=()=>{const{loadPeriods:e,loading:o,error:t,handleAddPeriod:r,handleDeletePeriod:n,handleUpdateCourse:s}=I();return d.jsxs(d.Fragment,{children:[d.jsx(g,{title:"Manage Academic Periods",fields:[{name:"periodId",placeholder:"ID Periodo"},{name:"periodName",placeholder:"Nombre del Periodo"},{name:"startDate",placeholder:"Fecha de Inicio"},{name:"endDate",placeholder:"Fecha de Fin"},{name:"status",placeholder:"Estado"}],fetchItems:e,onItemAdded:r,onItemDeleted:n,onItemUpdated:s,initialFormData:null,loading:o}),o&&d.jsx("div",{className:"loading",children:d.jsx(y,{})})," ",t&&d.jsx("div",{className:"error",children:t})," "]})},v=()=>d.jsx("div",{children:d.jsx(A,{})});export{v as default};
