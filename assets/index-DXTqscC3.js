const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Register-C8tPwRU8.js","assets/Register-Duh75M7k.css","assets/Dashboard-B5fNXjS4.js","assets/Dashboard-BREJmAyz.css","assets/Students-QYcJy0_W.js","assets/Students-CGM-46cA.css"])))=>i.map(i=>d[i]);
function OT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function DT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mf={exports:{}},ll={},gf={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function NT(){if(Mv)return Ne;Mv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function I(z,Y,le){this.props=z,this.context=Y,this.refs=k,this.updater=le||C}I.prototype.isReactComponent={},I.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},I.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=I.prototype;function j(z,Y,le){this.props=z,this.context=Y,this.refs=k,this.updater=le||C}var H=j.prototype=new D;H.constructor=j,R(H,I.prototype),H.isPureReactComponent=!0;var X=Array.isArray,B=Object.prototype.hasOwnProperty,J={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function P(z,Y,le){var Te,Ie={},Pe=null,Oe=null;if(Y!=null)for(Te in Y.ref!==void 0&&(Oe=Y.ref),Y.key!==void 0&&(Pe=""+Y.key),Y)B.call(Y,Te)&&!x.hasOwnProperty(Te)&&(Ie[Te]=Y[Te]);var xe=arguments.length-2;if(xe===1)Ie.children=le;else if(1<xe){for(var qe=Array(xe),gt=0;gt<xe;gt++)qe[gt]=arguments[gt+2];Ie.children=qe}if(z&&z.defaultProps)for(Te in xe=z.defaultProps,xe)Ie[Te]===void 0&&(Ie[Te]=xe[Te]);return{$$typeof:n,type:z,key:Pe,ref:Oe,props:Ie,_owner:J.current}}function b(z,Y){return{$$typeof:n,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return Y[le]})}var $=/\/+/g;function N(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):Y.toString(36)}function We(z,Y,le,Te,Ie){var Pe=typeof z;(Pe==="undefined"||Pe==="boolean")&&(z=null);var Oe=!1;if(z===null)Oe=!0;else switch(Pe){case"string":case"number":Oe=!0;break;case"object":switch(z.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=z,Ie=Ie(Oe),z=Te===""?"."+N(Oe,0):Te,X(Ie)?(le="",z!=null&&(le=z.replace($,"$&/")+"/"),We(Ie,Y,le,"",function(gt){return gt})):Ie!=null&&(V(Ie)&&(Ie=b(Ie,le+(!Ie.key||Oe&&Oe.key===Ie.key?"":(""+Ie.key).replace($,"$&/")+"/")+z)),Y.push(Ie)),1;if(Oe=0,Te=Te===""?".":Te+":",X(z))for(var xe=0;xe<z.length;xe++){Pe=z[xe];var qe=Te+N(Pe,xe);Oe+=We(Pe,Y,le,qe,Ie)}else if(qe=E(z),typeof qe=="function")for(z=qe.call(z),xe=0;!(Pe=z.next()).done;)Pe=Pe.value,qe=Te+N(Pe,xe++),Oe+=We(Pe,Y,le,qe,Ie);else if(Pe==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Fe(z,Y,le){if(z==null)return z;var Te=[],Ie=0;return We(z,Te,"","",function(Pe){return Y.call(le,Pe,Ie++)}),Te}function Ve(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var De={current:null},ie={transition:null},fe={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ie,ReactCurrentOwner:J};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Fe,forEach:function(z,Y,le){Fe(z,function(){Y.apply(this,arguments)},le)},count:function(z){var Y=0;return Fe(z,function(){Y++}),Y},toArray:function(z){return Fe(z,function(Y){return Y})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ne.Component=I,Ne.Fragment=t,Ne.Profiler=s,Ne.PureComponent=j,Ne.StrictMode=r,Ne.Suspense=d,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ne.act=ae,Ne.cloneElement=function(z,Y,le){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Te=R({},z.props),Ie=z.key,Pe=z.ref,Oe=z._owner;if(Y!=null){if(Y.ref!==void 0&&(Pe=Y.ref,Oe=J.current),Y.key!==void 0&&(Ie=""+Y.key),z.type&&z.type.defaultProps)var xe=z.type.defaultProps;for(qe in Y)B.call(Y,qe)&&!x.hasOwnProperty(qe)&&(Te[qe]=Y[qe]===void 0&&xe!==void 0?xe[qe]:Y[qe])}var qe=arguments.length-2;if(qe===1)Te.children=le;else if(1<qe){xe=Array(qe);for(var gt=0;gt<qe;gt++)xe[gt]=arguments[gt+2];Te.children=xe}return{$$typeof:n,type:z.type,key:Ie,ref:Pe,props:Te,_owner:Oe}},Ne.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Ne.createElement=P,Ne.createFactory=function(z){var Y=P.bind(null,z);return Y.type=z,Y},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(z){return{$$typeof:f,render:z}},Ne.isValidElement=V,Ne.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:Ve}},Ne.memo=function(z,Y){return{$$typeof:p,type:z,compare:Y===void 0?null:Y}},Ne.startTransition=function(z){var Y=ie.transition;ie.transition={};try{z()}finally{ie.transition=Y}},Ne.unstable_act=ae,Ne.useCallback=function(z,Y){return De.current.useCallback(z,Y)},Ne.useContext=function(z){return De.current.useContext(z)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(z){return De.current.useDeferredValue(z)},Ne.useEffect=function(z,Y){return De.current.useEffect(z,Y)},Ne.useId=function(){return De.current.useId()},Ne.useImperativeHandle=function(z,Y,le){return De.current.useImperativeHandle(z,Y,le)},Ne.useInsertionEffect=function(z,Y){return De.current.useInsertionEffect(z,Y)},Ne.useLayoutEffect=function(z,Y){return De.current.useLayoutEffect(z,Y)},Ne.useMemo=function(z,Y){return De.current.useMemo(z,Y)},Ne.useReducer=function(z,Y,le){return De.current.useReducer(z,Y,le)},Ne.useRef=function(z){return De.current.useRef(z)},Ne.useState=function(z){return De.current.useState(z)},Ne.useSyncExternalStore=function(z,Y,le){return De.current.useSyncExternalStore(z,Y,le)},Ne.useTransition=function(){return De.current.useTransition()},Ne.version="18.3.1",Ne}var Fv;function Ep(){return Fv||(Fv=1,gf.exports=NT()),gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function VT(){if(Uv)return ll;Uv=1;var n=Ep(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,p){var y,w={},E=null,C=null;p!==void 0&&(E=""+p),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(C=d.ref);for(y in d)r.call(d,y)&&!a.hasOwnProperty(y)&&(w[y]=d[y]);if(f&&f.defaultProps)for(y in d=f.defaultProps,d)w[y]===void 0&&(w[y]=d[y]);return{$$typeof:e,type:f,key:E,ref:C,props:w,_owner:s.current}}return ll.Fragment=t,ll.jsx=u,ll.jsxs=u,ll}var jv;function LT(){return jv||(jv=1,mf.exports=VT()),mf.exports}var F=LT(),A=Ep();const Xr=DT(A),$v=OT({__proto__:null,default:Xr},[A]);var uc={},vf={exports:{}},hn={},yf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function MT(){return zv||(zv=1,function(n){function e(ie,fe){var ae=ie.length;ie.push(fe);e:for(;0<ae;){var z=ae-1>>>1,Y=ie[z];if(0<s(Y,fe))ie[z]=fe,ie[ae]=Y,ae=z;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var fe=ie[0],ae=ie.pop();if(ae!==fe){ie[0]=ae;e:for(var z=0,Y=ie.length,le=Y>>>1;z<le;){var Te=2*(z+1)-1,Ie=ie[Te],Pe=Te+1,Oe=ie[Pe];if(0>s(Ie,ae))Pe<Y&&0>s(Oe,Ie)?(ie[z]=Oe,ie[Pe]=ae,z=Pe):(ie[z]=Ie,ie[Te]=ae,z=Te);else if(Pe<Y&&0>s(Oe,ae))ie[z]=Oe,ie[Pe]=ae,z=Pe;else break e}}return fe}function s(ie,fe){var ae=ie.sortIndex-fe.sortIndex;return ae!==0?ae:ie.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],p=[],y=1,w=null,E=3,C=!1,R=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(ie){for(var fe=t(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=ie)r(p),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(p)}}function X(ie){if(k=!1,H(ie),!R)if(t(d)!==null)R=!0,Ve(B);else{var fe=t(p);fe!==null&&De(X,fe.startTime-ie)}}function B(ie,fe){R=!1,k&&(k=!1,D(P),P=-1),C=!0;var ae=E;try{for(H(fe),w=t(d);w!==null&&(!(w.expirationTime>fe)||ie&&!L());){var z=w.callback;if(typeof z=="function"){w.callback=null,E=w.priorityLevel;var Y=z(w.expirationTime<=fe);fe=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(d)&&r(d),H(fe)}else r(d);w=t(d)}if(w!==null)var le=!0;else{var Te=t(p);Te!==null&&De(X,Te.startTime-fe),le=!1}return le}finally{w=null,E=ae,C=!1}}var J=!1,x=null,P=-1,b=5,V=-1;function L(){return!(n.unstable_now()-V<b)}function $(){if(x!==null){var ie=n.unstable_now();V=ie;var fe=!0;try{fe=x(!0,ie)}finally{fe?N():(J=!1,x=null)}}else J=!1}var N;if(typeof j=="function")N=function(){j($)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,Fe=We.port2;We.port1.onmessage=$,N=function(){Fe.postMessage(null)}}else N=function(){I($,0)};function Ve(ie){x=ie,J||(J=!0,N())}function De(ie,fe){P=I(function(){ie(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){R||C||(R=!0,Ve(B))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var ae=E;E=fe;try{return ie()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,fe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=E;E=ie;try{return fe()}finally{E=ae}},n.unstable_scheduleCallback=function(ie,fe,ae){var z=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?z+ae:z):ae=z,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,ie={id:y++,callback:fe,priorityLevel:ie,startTime:ae,expirationTime:Y,sortIndex:-1},ae>z?(ie.sortIndex=ae,e(p,ie),t(d)===null&&ie===t(p)&&(k?(D(P),P=-1):k=!0,De(X,ae-z))):(ie.sortIndex=Y,e(d,ie),R||C||(R=!0,Ve(B))),ie},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ie){var fe=E;return function(){var ae=E;E=fe;try{return ie.apply(this,arguments)}finally{E=ae}}}}(_f)),_f}var Bv;function FT(){return Bv||(Bv=1,yf.exports=MT()),yf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function UT(){if(Hv)return hn;Hv=1;var n=Ep(),e=FT();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function E(i){return d.call(w,i)?!0:d.call(y,i)?!1:p.test(i)?w[i]=!0:(y[i]=!0,!1)}function C(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,l,h){if(o===null||typeof o>"u"||C(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(i,o,l,h,m,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){I[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];I[o]=new k(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){I[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){I[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){I[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){I[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){I[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){I[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){I[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(D,j);I[o]=new k(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(D,j);I[o]=new k(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(D,j);I[o]=new k(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){I[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),I.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){I[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function H(i,o,l,h){var m=I.hasOwnProperty(o)?I[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),J=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),ie=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,z;function Y(i){if(z===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+i}var le=!1;function Te(i,o){if(!i||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var h=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){h=G}i.call(o.prototype)}else{try{throw Error()}catch(G){h=G}i()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),v=h.stack.split(`
`),S=m.length-1,O=v.length-1;1<=S&&0<=O&&m[S]!==v[O];)O--;for(;1<=S&&0<=O;S--,O--)if(m[S]!==v[O]){if(S!==1||O!==1)do if(S--,O--,0>O||m[S]!==v[O]){var M=`
`+m[S].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=S&&0<=O);break}}}finally{le=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function Ie(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Te(i.type,!1),i;case 11:return i=Te(i.type.render,!1),i;case 1:return i=Te(i.type,!0),i;default:return""}}function Pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case J:return"Portal";case b:return"Profiler";case P:return"StrictMode";case N:return"Suspense";case We:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Fe:return o=i.displayName||null,o!==null?o:Pe(i.type)||"Memo";case Ve:o=i._payload,i=i._init;try{return Pe(i(o))}catch{}}return null}function Oe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function xe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function gt(i){var o=qe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,v.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Pn(i){i._valueTracker||(i._valueTracker=gt(i))}function kr(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=qe(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function ir(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function sr(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ui(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=xe(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function pa(i,o){o=o.checked,o!=null&&H(i,"checked",o,!1)}function ma(i,o){pa(i,o);var l=xe(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?zs(i,o.type,l):o.hasOwnProperty("defaultValue")&&zs(i,o.type,xe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Gl(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function zs(i,o,l){(o!=="number"||ir(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var br=Array.isArray;function xr(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+xe(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function ga(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Bs(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(br(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:xe(l)}}function Hs(i,o){var l=xe(o.value),h=xe(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function va(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Et(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Et(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Or,ya=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Or.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ci(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ts=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(i){ts.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),es[o]=es[i]})});function _a(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||es.hasOwnProperty(i)&&es[i]?(""+o).trim():o+"px"}function wa(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=_a(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var Ea=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(i,o){if(o){if(Ea[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ta(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function Ws(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var qs=null,An=null,or=null;function Ks(i){if(i=Ka(i)){if(typeof qs!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Iu(o),qs(i.stateNode,i.type,o))}}function ar(i){An?or?or.push(i):or=[i]:An=i}function Ia(){if(An){var i=An,o=or;if(or=An=null,Ks(i),o)for(i=0;i<o.length;i++)Ks(o[i])}}function rs(i,o){return i(o)}function Ca(){}var Dr=!1;function Ra(i,o,l){if(Dr)return i(o,l);Dr=!0;try{return rs(i,o,l)}finally{Dr=!1,(An!==null||or!==null)&&(Ca(),Ia())}}function ft(i,o){var l=i.stateNode;if(l===null)return null;var h=Iu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Gs=!1;if(f)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Gs=!1}function is(i,o,l,h,m,v,S,O,M){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(te){this.onError(te)}}var ss=!1,Qs=null,Un=!1,Pa=null,zh={onError:function(i){ss=!0,Qs=i}};function Ys(i,o,l,h,m,v,S,O,M){ss=!1,Qs=null,is.apply(zh,arguments)}function Ql(i,o,l,h,m,v,S,O,M){if(Ys.apply(this,arguments),ss){if(ss){var G=Qs;ss=!1,Qs=null}else throw Error(t(198));Un||(Un=!0,Pa=G)}}function jn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function os(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function $n(i){if(jn(i)!==i)throw Error(t(188))}function Yl(i){var o=i.alternate;if(!o){if(o=jn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return $n(m),i;if(v===h)return $n(m),o;v=v.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=v;else{for(var S=!1,O=m.child;O;){if(O===l){S=!0,l=m,h=v;break}if(O===h){S=!0,h=m,l=v;break}O=O.sibling}if(!S){for(O=v.child;O;){if(O===l){S=!0,l=v,h=m;break}if(O===h){S=!0,h=v,l=m;break}O=O.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Aa(i){return i=Yl(i),i!==null?Xs(i):null}function Xs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Xs(i);if(o!==null)return o;i=i.sibling}return null}var Js=e.unstable_scheduleCallback,ka=e.unstable_cancelCallback,Xl=e.unstable_shouldYield,Bh=e.unstable_requestPaint,et=e.unstable_now,Jl=e.unstable_getCurrentPriorityLevel,as=e.unstable_ImmediatePriority,hi=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,ba=e.unstable_LowPriority,Zl=e.unstable_IdlePriority,ls=null,gn=null;function eu(i){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ls,i,void 0,(i.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:nu,xa=Math.log,tu=Math.LN2;function nu(i){return i>>>=0,i===0?32:31-(xa(i)/tu|0)|0}var Zs=64,eo=4194304;function di(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function us(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,v=i.pingedLanes,S=l&268435455;if(S!==0){var O=S&~m;O!==0?h=di(O):(v&=S,v!==0&&(h=di(v)))}else S=l&~m,S!==0?h=di(S):v!==0&&(h=di(v));if(h===0)return 0;if(o!==0&&o!==h&&!(o&m)&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(h&4&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-Zt(o),m=1<<l,h|=i[l],o&=~m;return h}function Hh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var S=31-Zt(v),O=1<<S,M=m[S];M===-1?(!(O&l)||O&h)&&(m[S]=Hh(O,o)):M<=o&&(i.expiredLanes|=O),v&=~O}}function vn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function cs(){var i=Zs;return Zs<<=1,!(Zs&4194240)&&(Zs=64),i}function fi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function pi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Zt(o),i[o]=l}function Ze(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Zt(l),v=1<<m;o[m]=0,h[m]=-1,i[m]=-1,l&=~v}}function mi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Zt(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}var Ue=0;function gi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var ru,to,iu,su,ou,Oa=!1,lr=[],Nt=null,zn=null,Bn=null,vi=new Map,bn=new Map,ur=[],Wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(i,o){switch(i){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":vi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(o.pointerId)}}function rn(i,o,l,h,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Ka(o),o!==null&&to(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function qh(i,o,l,h,m){switch(o){case"focusin":return Nt=rn(Nt,i,o,l,h,m),!0;case"dragenter":return zn=rn(zn,i,o,l,h,m),!0;case"mouseover":return Bn=rn(Bn,i,o,l,h,m),!0;case"pointerover":var v=m.pointerId;return vi.set(v,rn(vi.get(v)||null,i,o,l,h,m)),!0;case"gotpointercapture":return v=m.pointerId,bn.set(v,rn(bn.get(v)||null,i,o,l,h,m)),!0}return!1}function lu(i){var o=ms(i.target);if(o!==null){var l=jn(o);if(l!==null){if(o=l.tag,o===13){if(o=os(l),o!==null){i.blockedOn=o,ou(i.priority,function(){iu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=no(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ns=h,l.target.dispatchEvent(h),ns=null}else return o=Ka(l),o!==null&&to(o),i.blockedOn=l,!1;o.shift()}return!0}function hs(i,o,l){Vr(i)&&l.delete(o)}function uu(){Oa=!1,Nt!==null&&Vr(Nt)&&(Nt=null),zn!==null&&Vr(zn)&&(zn=null),Bn!==null&&Vr(Bn)&&(Bn=null),vi.forEach(hs),bn.forEach(hs)}function Hn(i,o){i.blockedOn===o&&(i.blockedOn=null,Oa||(Oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uu)))}function Wn(i){function o(m){return Hn(m,i)}if(0<lr.length){Hn(lr[0],i);for(var l=1;l<lr.length;l++){var h=lr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Nt!==null&&Hn(Nt,i),zn!==null&&Hn(zn,i),Bn!==null&&Hn(Bn,i),vi.forEach(o),bn.forEach(o),l=0;l<ur.length;l++)h=ur[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<ur.length&&(l=ur[0],l.blockedOn===null);)lu(l),l.blockedOn===null&&ur.shift()}var Lr=X.ReactCurrentBatchConfig,yi=!0;function it(i,o,l,h){var m=Ue,v=Lr.transition;Lr.transition=null;try{Ue=1,Da(i,o,l,h)}finally{Ue=m,Lr.transition=v}}function Kh(i,o,l,h){var m=Ue,v=Lr.transition;Lr.transition=null;try{Ue=4,Da(i,o,l,h)}finally{Ue=m,Lr.transition=v}}function Da(i,o,l,h){if(yi){var m=no(i,o,l,h);if(m===null)id(i,o,h,ds,l),au(i,h);else if(qh(m,i,o,l,h))h.stopPropagation();else if(au(i,h),o&4&&-1<Wh.indexOf(i)){for(;m!==null;){var v=Ka(m);if(v!==null&&ru(v),v=no(i,o,l,h),v===null&&id(i,o,h,ds,l),v===m)break;m=v}m!==null&&h.stopPropagation()}else id(i,o,h,null,l)}}var ds=null;function no(i,o,l,h){if(ds=null,i=Ws(h),i=ms(i),i!==null)if(o=jn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=os(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ds=i,null}function Na(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jl()){case as:return 1;case hi:return 4;case kn:case ba:return 16;case Zl:return 536870912;default:return 16}default:return 16}}var yn=null,ro=null,sn=null;function Va(){if(sn)return sn;var i,o=ro,l=o.length,h,m="value"in yn?yn.value:yn.textContent,v=m.length;for(i=0;i<l&&o[i]===m[i];i++);var S=l-i;for(h=1;h<=S&&o[l-h]===m[v-h];h++);return sn=m.slice(i,1<h?1-h:void 0)}function io(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function cr(){return!0}function La(){return!1}function Vt(i){function o(l,h,m,v,S){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?cr:La,this.isPropagationStopped=La,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),o}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=Vt(qn),hr=ae({},qn,{view:0,detail:0}),Gh=Vt(hr),oo,Mr,_i,fs=ae({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_i&&(_i&&i.type==="mousemove"?(oo=i.screenX-_i.screenX,Mr=i.screenY-_i.screenY):Mr=oo=0,_i=i),oo)},movementY:function(i){return"movementY"in i?i.movementY:Mr}}),ao=Vt(fs),Ma=ae({},fs,{dataTransfer:0}),cu=Vt(Ma),lo=ae({},hr,{relatedTarget:0}),uo=Vt(lo),hu=ae({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fr=Vt(hu),du=ae({},qn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fu=Vt(du),pu=ae({},qn,{data:0}),Fa=Vt(pu),co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=mu[i])?!!o[i]:!1}function dr(){return gu}var c=ae({},hr,{key:function(i){if(i.key){var o=co[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=io(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?en[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(i){return i.type==="keypress"?io(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?io(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Vt(c),_=ae({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Vt(_),W=ae({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),Q=Vt(W),oe=ae({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=Vt(oe),Tt=ae({},fs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Vt(Tt),kt=[9,13,27,32],vt=f&&"CompositionEvent"in window,xn=null;f&&"documentMode"in document&&(xn=document.documentMode);var _n=f&&"TextEvent"in window&&!xn,ps=f&&(!vt||xn&&8<xn&&11>=xn),ho=" ",xm=!1;function Om(i,o){switch(i){case"keyup":return kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fo=!1;function bS(i,o){switch(i){case"compositionend":return Dm(o);case"keypress":return o.which!==32?null:(xm=!0,ho);case"textInput":return i=o.data,i===ho&&xm?null:i;default:return null}}function xS(i,o){if(fo)return i==="compositionend"||!vt&&Om(i,o)?(i=Va(),sn=ro=yn=null,fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ps&&o.locale!=="ko"?null:o.data;default:return null}}var OS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!OS[i.type]:o==="textarea"}function Vm(i,o,l,h){ar(h),o=Eu(o,"onChange"),0<o.length&&(l=new so("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var Ua=null,ja=null;function DS(i){Zm(i,0)}function vu(i){var o=yo(i);if(kr(o))return i}function NS(i,o){if(i==="change")return o}var Lm=!1;if(f){var Qh;if(f){var Yh="oninput"in document;if(!Yh){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),Yh=typeof Mm.oninput=="function"}Qh=Yh}else Qh=!1;Lm=Qh&&(!document.documentMode||9<document.documentMode)}function Fm(){Ua&&(Ua.detachEvent("onpropertychange",Um),ja=Ua=null)}function Um(i){if(i.propertyName==="value"&&vu(ja)){var o=[];Vm(o,ja,i,Ws(i)),Ra(DS,o)}}function VS(i,o,l){i==="focusin"?(Fm(),Ua=o,ja=l,Ua.attachEvent("onpropertychange",Um)):i==="focusout"&&Fm()}function LS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vu(ja)}function MS(i,o){if(i==="click")return vu(o)}function FS(i,o){if(i==="input"||i==="change")return vu(o)}function US(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Kn=typeof Object.is=="function"?Object.is:US;function $a(i,o){if(Kn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!d.call(o,m)||!Kn(i[m],o[m]))return!1}return!0}function jm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $m(i,o){var l=jm(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jm(l)}}function zm(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?zm(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Bm(){for(var i=window,o=ir();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=ir(i.document)}return o}function Xh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function jS(i){var o=Bm(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&zm(l.ownerDocument.documentElement,l)){if(h!==null&&Xh(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!i.extend&&v>h&&(m=h,h=v,v=m),m=$m(l,v);var S=$m(l,h);m&&S&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>h?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var $S=f&&"documentMode"in document&&11>=document.documentMode,po=null,Jh=null,za=null,Zh=!1;function Hm(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zh||po==null||po!==ir(h)||(h=po,"selectionStart"in h&&Xh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),za&&$a(za,h)||(za=h,h=Eu(Jh,"onSelect"),0<h.length&&(o=new so("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=po)))}function yu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var mo={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},ed={},Wm={};f&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function _u(i){if(ed[i])return ed[i];if(!mo[i])return i;var o=mo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Wm)return ed[i]=o[l];return i}var qm=_u("animationend"),Km=_u("animationiteration"),Gm=_u("animationstart"),Qm=_u("transitionend"),Ym=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(i,o){Ym.set(i,o),a(o,[i])}for(var td=0;td<Xm.length;td++){var nd=Xm[td],zS=nd.toLowerCase(),BS=nd[0].toUpperCase()+nd.slice(1);wi(zS,"on"+BS)}wi(qm,"onAnimationEnd"),wi(Km,"onAnimationIteration"),wi(Gm,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(Qm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function Jm(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,Ql(h,o,void 0,i),i.currentTarget=null}function Zm(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var S=h.length-1;0<=S;S--){var O=h[S],M=O.instance,G=O.currentTarget;if(O=O.listener,M!==v&&m.isPropagationStopped())break e;Jm(m,O,G),v=M}else for(S=0;S<h.length;S++){if(O=h[S],M=O.instance,G=O.currentTarget,O=O.listener,M!==v&&m.isPropagationStopped())break e;Jm(m,O,G),v=M}}}if(Un)throw i=Pa,Un=!1,Pa=null,i}function nt(i,o){var l=o[cd];l===void 0&&(l=o[cd]=new Set);var h=i+"__bubble";l.has(h)||(eg(o,i,2,!1),l.add(h))}function rd(i,o,l){var h=0;o&&(h|=4),eg(l,i,h,o)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Ha(i){if(!i[wu]){i[wu]=!0,r.forEach(function(l){l!=="selectionchange"&&(HS.has(l)||rd(l,!1,i),rd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[wu]||(o[wu]=!0,rd("selectionchange",!1,o))}}function eg(i,o,l,h){switch(Na(o)){case 1:var m=it;break;case 4:m=Kh;break;default:m=Da}l=m.bind(null,o,l,i),m=void 0,!Gs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function id(i,o,l,h,m){var v=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var O=h.stateNode.containerInfo;if(O===m||O.nodeType===8&&O.parentNode===m)break;if(S===4)for(S=h.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;S=S.return}for(;O!==null;){if(S=ms(O),S===null)return;if(M=S.tag,M===5||M===6){h=v=S;continue e}O=O.parentNode}}h=h.return}Ra(function(){var G=v,te=Ws(l),re=[];e:{var ee=Ym.get(i);if(ee!==void 0){var ue=so,de=i;switch(i){case"keypress":if(io(l)===0)break e;case"keydown":case"keyup":ue=g;break;case"focusin":de="focus",ue=uo;break;case"focusout":de="blur",ue=uo;break;case"beforeblur":case"afterblur":ue=uo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Q;break;case qm:case Km:case Gm:ue=Fr;break;case Qm:ue=Xe;break;case"scroll":ue=Gh;break;case"wheel":ue=$e;break;case"copy":case"cut":case"paste":ue=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=T}var pe=(o&4)!==0,pt=!pe&&i==="scroll",q=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var U=G,K;U!==null;){K=U;var se=K.stateNode;if(K.tag===5&&se!==null&&(K=se,q!==null&&(se=ft(U,q),se!=null&&pe.push(Wa(U,se,K)))),pt)break;U=U.return}0<pe.length&&(ee=new ue(ee,de,null,l,te),re.push({event:ee,listeners:pe}))}}if(!(o&7)){e:{if(ee=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ee&&l!==ns&&(de=l.relatedTarget||l.fromElement)&&(ms(de)||de[Ur]))break e;if((ue||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(de=l.relatedTarget||l.toElement,ue=G,de=de?ms(de):null,de!==null&&(pt=jn(de),de!==pt||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=G),ue!==de)){if(pe=ao,se="onMouseLeave",q="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(pe=T,se="onPointerLeave",q="onPointerEnter",U="pointer"),pt=ue==null?ee:yo(ue),K=de==null?ee:yo(de),ee=new pe(se,U+"leave",ue,l,te),ee.target=pt,ee.relatedTarget=K,se=null,ms(te)===G&&(pe=new pe(q,U+"enter",de,l,te),pe.target=K,pe.relatedTarget=pt,se=pe),pt=se,ue&&de)t:{for(pe=ue,q=de,U=0,K=pe;K;K=go(K))U++;for(K=0,se=q;se;se=go(se))K++;for(;0<U-K;)pe=go(pe),U--;for(;0<K-U;)q=go(q),K--;for(;U--;){if(pe===q||q!==null&&pe===q.alternate)break t;pe=go(pe),q=go(q)}pe=null}else pe=null;ue!==null&&tg(re,ee,ue,pe,!1),de!==null&&pt!==null&&tg(re,pt,de,pe,!0)}}e:{if(ee=G?yo(G):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var me=NS;else if(Nm(ee))if(Lm)me=FS;else{me=LS;var ye=VS}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(me=MS);if(me&&(me=me(i,G))){Vm(re,me,l,te);break e}ye&&ye(i,ee,G),i==="focusout"&&(ye=ee._wrapperState)&&ye.controlled&&ee.type==="number"&&zs(ee,"number",ee.value)}switch(ye=G?yo(G):window,i){case"focusin":(Nm(ye)||ye.contentEditable==="true")&&(po=ye,Jh=G,za=null);break;case"focusout":za=Jh=po=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Hm(re,l,te);break;case"selectionchange":if($S)break;case"keydown":case"keyup":Hm(re,l,te)}var _e;if(vt)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else fo?Om(i,l)&&(Ce="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(ps&&l.locale!=="ko"&&(fo||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&fo&&(_e=Va()):(yn=te,ro="value"in yn?yn.value:yn.textContent,fo=!0)),ye=Eu(G,Ce),0<ye.length&&(Ce=new Fa(Ce,i,null,l,te),re.push({event:Ce,listeners:ye}),_e?Ce.data=_e:(_e=Dm(l),_e!==null&&(Ce.data=_e)))),(_e=_n?bS(i,l):xS(i,l))&&(G=Eu(G,"onBeforeInput"),0<G.length&&(te=new Fa("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:G}),te.data=_e))}Zm(re,o)})}function Wa(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Eu(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ft(i,l),v!=null&&h.unshift(Wa(i,v,m)),v=ft(i,o),v!=null&&h.push(Wa(i,v,m))),i=i.return}return h}function go(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function tg(i,o,l,h,m){for(var v=o._reactName,S=[];l!==null&&l!==h;){var O=l,M=O.alternate,G=O.stateNode;if(M!==null&&M===h)break;O.tag===5&&G!==null&&(O=G,m?(M=ft(l,v),M!=null&&S.unshift(Wa(l,M,O))):m||(M=ft(l,v),M!=null&&S.push(Wa(l,M,O)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var WS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function ng(i){return(typeof i=="string"?i:""+i).replace(WS,`
`).replace(qS,"")}function Su(i,o,l){if(o=ng(o),ng(i)!==o&&l)throw Error(t(425))}function Tu(){}var sd=null,od=null;function ad(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ld=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(i){return rg.resolve(null).then(i).catch(QS)}:ld;function QS(i){setTimeout(function(){throw i})}function ud(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),Wn(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Wn(o)}function Ei(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function ig(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var vo=Math.random().toString(36).slice(2),fr="__reactFiber$"+vo,qa="__reactProps$"+vo,Ur="__reactContainer$"+vo,cd="__reactEvents$"+vo,YS="__reactListeners$"+vo,XS="__reactHandles$"+vo;function ms(i){var o=i[fr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Ur]||l[fr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=ig(i);i!==null;){if(l=i[fr])return l;i=ig(i)}return o}i=l,l=i.parentNode}return null}function Ka(i){return i=i[fr]||i[Ur],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function yo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Iu(i){return i[qa]||null}var hd=[],_o=-1;function Si(i){return{current:i}}function rt(i){0>_o||(i.current=hd[_o],hd[_o]=null,_o--)}function tt(i,o){_o++,hd[_o]=i.current,i.current=o}var Ti={},zt=Si(Ti),on=Si(!1),gs=Ti;function wo(i,o){var l=i.type.contextTypes;if(!l)return Ti;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function an(i){return i=i.childContextTypes,i!=null}function Cu(){rt(on),rt(zt)}function sg(i,o,l){if(zt.current!==Ti)throw Error(t(168));tt(zt,o),tt(on,l)}function og(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Oe(i)||"Unknown",m));return ae({},l,h)}function Ru(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ti,gs=zt.current,tt(zt,i),tt(on,on.current),!0}function ag(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=og(i,o,gs),h.__reactInternalMemoizedMergedChildContext=i,rt(on),rt(zt),tt(zt,i)):rt(on),tt(on,l)}var jr=null,Pu=!1,dd=!1;function lg(i){jr===null?jr=[i]:jr.push(i)}function JS(i){Pu=!0,lg(i)}function Ii(){if(!dd&&jr!==null){dd=!0;var i=0,o=Ue;try{var l=jr;for(Ue=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}jr=null,Pu=!1}catch(m){throw jr!==null&&(jr=jr.slice(i+1)),Js(as,Ii),m}finally{Ue=o,dd=!1}}return null}var Eo=[],So=0,Au=null,ku=0,On=[],Dn=0,vs=null,$r=1,zr="";function ys(i,o){Eo[So++]=ku,Eo[So++]=Au,Au=i,ku=o}function ug(i,o,l){On[Dn++]=$r,On[Dn++]=zr,On[Dn++]=vs,vs=i;var h=$r;i=zr;var m=32-Zt(h)-1;h&=~(1<<m),l+=1;var v=32-Zt(o)+m;if(30<v){var S=m-m%5;v=(h&(1<<S)-1).toString(32),h>>=S,m-=S,$r=1<<32-Zt(o)+m|l<<m|h,zr=v+i}else $r=1<<v|l<<m|h,zr=i}function fd(i){i.return!==null&&(ys(i,1),ug(i,1,0))}function pd(i){for(;i===Au;)Au=Eo[--So],Eo[So]=null,ku=Eo[--So],Eo[So]=null;for(;i===vs;)vs=On[--Dn],On[Dn]=null,zr=On[--Dn],On[Dn]=null,$r=On[--Dn],On[Dn]=null}var wn=null,En=null,st=!1,Gn=null;function cg(i,o){var l=Mn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function hg(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,wn=i,En=Ei(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,wn=i,En=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=vs!==null?{id:$r,overflow:zr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Mn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,wn=i,En=null,!0):!1;default:return!1}}function md(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gd(i){if(st){var o=En;if(o){var l=o;if(!hg(i,o)){if(md(i))throw Error(t(418));o=Ei(l.nextSibling);var h=wn;o&&hg(i,o)?cg(h,l):(i.flags=i.flags&-4097|2,st=!1,wn=i)}}else{if(md(i))throw Error(t(418));i.flags=i.flags&-4097|2,st=!1,wn=i}}}function dg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;wn=i}function bu(i){if(i!==wn)return!1;if(!st)return dg(i),st=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!ad(i.type,i.memoizedProps)),o&&(o=En)){if(md(i))throw fg(),Error(t(418));for(;o;)cg(i,o),o=Ei(o.nextSibling)}if(dg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){En=Ei(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}En=null}}else En=wn?Ei(i.stateNode.nextSibling):null;return!0}function fg(){for(var i=En;i;)i=Ei(i.nextSibling)}function To(){En=wn=null,st=!1}function vd(i){Gn===null?Gn=[i]:Gn.push(i)}var ZS=X.ReactCurrentBatchConfig;function Ga(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var O=m.refs;S===null?delete O[v]:O[v]=S},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function xu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function pg(i){var o=i._init;return o(i._payload)}function mg(i){function o(q,U){if(i){var K=q.deletions;K===null?(q.deletions=[U],q.flags|=16):K.push(U)}}function l(q,U){if(!i)return null;for(;U!==null;)o(q,U),U=U.sibling;return null}function h(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function m(q,U){return q=Oi(q,U),q.index=0,q.sibling=null,q}function v(q,U,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<U?(q.flags|=2,U):K):(q.flags|=2,U)):(q.flags|=1048576,U)}function S(q){return i&&q.alternate===null&&(q.flags|=2),q}function O(q,U,K,se){return U===null||U.tag!==6?(U=uf(K,q.mode,se),U.return=q,U):(U=m(U,K),U.return=q,U)}function M(q,U,K,se){var me=K.type;return me===x?te(q,U,K.props.children,se,K.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ve&&pg(me)===U.type)?(se=m(U,K.props),se.ref=Ga(q,U,K),se.return=q,se):(se=tc(K.type,K.key,K.props,null,q.mode,se),se.ref=Ga(q,U,K),se.return=q,se)}function G(q,U,K,se){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=cf(K,q.mode,se),U.return=q,U):(U=m(U,K.children||[]),U.return=q,U)}function te(q,U,K,se,me){return U===null||U.tag!==7?(U=Rs(K,q.mode,se,me),U.return=q,U):(U=m(U,K),U.return=q,U)}function re(q,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return U=uf(""+U,q.mode,K),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case B:return K=tc(U.type,U.key,U.props,null,q.mode,K),K.ref=Ga(q,null,U),K.return=q,K;case J:return U=cf(U,q.mode,K),U.return=q,U;case Ve:var se=U._init;return re(q,se(U._payload),K)}if(br(U)||fe(U))return U=Rs(U,q.mode,K,null),U.return=q,U;xu(q,U)}return null}function ee(q,U,K,se){var me=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return me!==null?null:O(q,U,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return K.key===me?M(q,U,K,se):null;case J:return K.key===me?G(q,U,K,se):null;case Ve:return me=K._init,ee(q,U,me(K._payload),se)}if(br(K)||fe(K))return me!==null?null:te(q,U,K,se,null);xu(q,K)}return null}function ue(q,U,K,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return q=q.get(K)||null,O(U,q,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case B:return q=q.get(se.key===null?K:se.key)||null,M(U,q,se,me);case J:return q=q.get(se.key===null?K:se.key)||null,G(U,q,se,me);case Ve:var ye=se._init;return ue(q,U,K,ye(se._payload),me)}if(br(se)||fe(se))return q=q.get(K)||null,te(U,q,se,me,null);xu(U,se)}return null}function de(q,U,K,se){for(var me=null,ye=null,_e=U,Ce=U=0,Ot=null;_e!==null&&Ce<K.length;Ce++){_e.index>Ce?(Ot=_e,_e=null):Ot=_e.sibling;var He=ee(q,_e,K[Ce],se);if(He===null){_e===null&&(_e=Ot);break}i&&_e&&He.alternate===null&&o(q,_e),U=v(He,U,Ce),ye===null?me=He:ye.sibling=He,ye=He,_e=Ot}if(Ce===K.length)return l(q,_e),st&&ys(q,Ce),me;if(_e===null){for(;Ce<K.length;Ce++)_e=re(q,K[Ce],se),_e!==null&&(U=v(_e,U,Ce),ye===null?me=_e:ye.sibling=_e,ye=_e);return st&&ys(q,Ce),me}for(_e=h(q,_e);Ce<K.length;Ce++)Ot=ue(_e,q,Ce,K[Ce],se),Ot!==null&&(i&&Ot.alternate!==null&&_e.delete(Ot.key===null?Ce:Ot.key),U=v(Ot,U,Ce),ye===null?me=Ot:ye.sibling=Ot,ye=Ot);return i&&_e.forEach(function(Di){return o(q,Di)}),st&&ys(q,Ce),me}function pe(q,U,K,se){var me=fe(K);if(typeof me!="function")throw Error(t(150));if(K=me.call(K),K==null)throw Error(t(151));for(var ye=me=null,_e=U,Ce=U=0,Ot=null,He=K.next();_e!==null&&!He.done;Ce++,He=K.next()){_e.index>Ce?(Ot=_e,_e=null):Ot=_e.sibling;var Di=ee(q,_e,He.value,se);if(Di===null){_e===null&&(_e=Ot);break}i&&_e&&Di.alternate===null&&o(q,_e),U=v(Di,U,Ce),ye===null?me=Di:ye.sibling=Di,ye=Di,_e=Ot}if(He.done)return l(q,_e),st&&ys(q,Ce),me;if(_e===null){for(;!He.done;Ce++,He=K.next())He=re(q,He.value,se),He!==null&&(U=v(He,U,Ce),ye===null?me=He:ye.sibling=He,ye=He);return st&&ys(q,Ce),me}for(_e=h(q,_e);!He.done;Ce++,He=K.next())He=ue(_e,q,Ce,He.value,se),He!==null&&(i&&He.alternate!==null&&_e.delete(He.key===null?Ce:He.key),U=v(He,U,Ce),ye===null?me=He:ye.sibling=He,ye=He);return i&&_e.forEach(function(xT){return o(q,xT)}),st&&ys(q,Ce),me}function pt(q,U,K,se){if(typeof K=="object"&&K!==null&&K.type===x&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case B:e:{for(var me=K.key,ye=U;ye!==null;){if(ye.key===me){if(me=K.type,me===x){if(ye.tag===7){l(q,ye.sibling),U=m(ye,K.props.children),U.return=q,q=U;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ve&&pg(me)===ye.type){l(q,ye.sibling),U=m(ye,K.props),U.ref=Ga(q,ye,K),U.return=q,q=U;break e}l(q,ye);break}else o(q,ye);ye=ye.sibling}K.type===x?(U=Rs(K.props.children,q.mode,se,K.key),U.return=q,q=U):(se=tc(K.type,K.key,K.props,null,q.mode,se),se.ref=Ga(q,U,K),se.return=q,q=se)}return S(q);case J:e:{for(ye=K.key;U!==null;){if(U.key===ye)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){l(q,U.sibling),U=m(U,K.children||[]),U.return=q,q=U;break e}else{l(q,U);break}else o(q,U);U=U.sibling}U=cf(K,q.mode,se),U.return=q,q=U}return S(q);case Ve:return ye=K._init,pt(q,U,ye(K._payload),se)}if(br(K))return de(q,U,K,se);if(fe(K))return pe(q,U,K,se);xu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,U!==null&&U.tag===6?(l(q,U.sibling),U=m(U,K),U.return=q,q=U):(l(q,U),U=uf(K,q.mode,se),U.return=q,q=U),S(q)):l(q,U)}return pt}var Io=mg(!0),gg=mg(!1),Ou=Si(null),Du=null,Co=null,yd=null;function _d(){yd=Co=Du=null}function wd(i){var o=Ou.current;rt(Ou),i._currentValue=o}function Ed(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function Ro(i,o){Du=i,yd=Co=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(ln=!0),i.firstContext=null)}function Nn(i){var o=i._currentValue;if(yd!==i)if(i={context:i,memoizedValue:o,next:null},Co===null){if(Du===null)throw Error(t(308));Co=i,Du.dependencies={lanes:0,firstContext:i}}else Co=Co.next=i;return o}var _s=null;function Sd(i){_s===null?_s=[i]:_s.push(i)}function vg(i,o,l,h){var m=o.interleaved;return m===null?(l.next=l,Sd(o)):(l.next=m.next,m.next=l),o.interleaved=l,Br(i,h)}function Br(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ci=!1;function Td(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Hr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ri(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,Be&2){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Br(i,l)}return m=h.interleaved,m===null?(o.next=o,Sd(h)):(o.next=m.next,m.next=o),h.interleaved=o,Br(i,l)}function Nu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,mi(i,l)}}function _g(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Vu(i,o,l,h){var m=i.updateQueue;Ci=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var M=O,G=M.next;M.next=null,S===null?v=G:S.next=G,S=M;var te=i.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==S&&(O===null?te.firstBaseUpdate=G:O.next=G,te.lastBaseUpdate=M))}if(v!==null){var re=m.baseState;S=0,te=G=M=null,O=v;do{var ee=O.lane,ue=O.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var de=i,pe=O;switch(ee=o,ue=l,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){re=de.call(ue,re,ee);break e}re=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,ee=typeof de=="function"?de.call(ue,re,ee):de,ee==null)break e;re=ae({},re,ee);break e;case 2:Ci=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[O]:ee.push(O))}else ue={eventTime:ue,lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(G=te=ue,M=re):te=te.next=ue,S|=ee;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(M=re),m.baseState=M,m.firstBaseUpdate=G,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ss|=S,i.lanes=S,i.memoizedState=re}}function wg(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Qa={},pr=Si(Qa),Ya=Si(Qa),Xa=Si(Qa);function ws(i){if(i===Qa)throw Error(t(174));return i}function Id(i,o){switch(tt(Xa,o),tt(Ya,i),tt(pr,Qa),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:St(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=St(o,i)}rt(pr),tt(pr,o)}function Po(){rt(pr),rt(Ya),rt(Xa)}function Eg(i){ws(Xa.current);var o=ws(pr.current),l=St(o,i.type);o!==l&&(tt(Ya,i),tt(pr,l))}function Cd(i){Ya.current===i&&(rt(pr),rt(Ya))}var lt=Si(0);function Lu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Rd=[];function Pd(){for(var i=0;i<Rd.length;i++)Rd[i]._workInProgressVersionPrimary=null;Rd.length=0}var Mu=X.ReactCurrentDispatcher,Ad=X.ReactCurrentBatchConfig,Es=0,ut=null,It=null,bt=null,Fu=!1,Ja=!1,Za=0,eT=0;function Bt(){throw Error(t(321))}function kd(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Kn(i[l],o[l]))return!1;return!0}function bd(i,o,l,h,m,v){if(Es=v,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Mu.current=i===null||i.memoizedState===null?iT:sT,i=l(h,m),Ja){v=0;do{if(Ja=!1,Za=0,25<=v)throw Error(t(301));v+=1,bt=It=null,o.updateQueue=null,Mu.current=oT,i=l(h,m)}while(Ja)}if(Mu.current=$u,o=It!==null&&It.next!==null,Es=0,bt=It=ut=null,Fu=!1,o)throw Error(t(300));return i}function xd(){var i=Za!==0;return Za=0,i}function mr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ut.memoizedState=bt=i:bt=bt.next=i,bt}function Vn(){if(It===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var o=bt===null?ut.memoizedState:bt.next;if(o!==null)bt=o,It=i;else{if(i===null)throw Error(t(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},bt===null?ut.memoizedState=bt=i:bt=bt.next=i}return bt}function el(i,o){return typeof o=="function"?o(i):o}function Od(i){var o=Vn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=It,m=h.baseQueue,v=l.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}h.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,h=h.baseState;var O=S=null,M=null,G=v;do{var te=G.lane;if((Es&te)===te)M!==null&&(M=M.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:i(h,G.action);else{var re={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};M===null?(O=M=re,S=h):M=M.next=re,ut.lanes|=te,Ss|=te}G=G.next}while(G!==null&&G!==v);M===null?S=h:M.next=O,Kn(h,o.memoizedState)||(ln=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=M,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do v=m.lane,ut.lanes|=v,Ss|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Dd(i){var o=Vn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do v=i(v,S.action),S=S.next;while(S!==m);Kn(v,o.memoizedState)||(ln=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,h]}function Sg(){}function Tg(i,o){var l=ut,h=Vn(),m=o(),v=!Kn(h.memoizedState,m);if(v&&(h.memoizedState=m,ln=!0),h=h.queue,Nd(Rg.bind(null,l,h,i),[i]),h.getSnapshot!==o||v||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,tl(9,Cg.bind(null,l,h,m,o),void 0,null),xt===null)throw Error(t(349));Es&30||Ig(l,o,m)}return m}function Ig(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Cg(i,o,l,h){o.value=l,o.getSnapshot=h,Pg(o)&&Ag(i)}function Rg(i,o,l){return l(function(){Pg(o)&&Ag(i)})}function Pg(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Kn(i,l)}catch{return!0}}function Ag(i){var o=Br(i,1);o!==null&&Jn(o,i,1,-1)}function kg(i){var o=mr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:i},o.queue=i,i=i.dispatch=rT.bind(null,ut,i),[o.memoizedState,i]}function tl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function bg(){return Vn().memoizedState}function Uu(i,o,l,h){var m=mr();ut.flags|=i,m.memoizedState=tl(1|o,l,void 0,h===void 0?null:h)}function ju(i,o,l,h){var m=Vn();h=h===void 0?null:h;var v=void 0;if(It!==null){var S=It.memoizedState;if(v=S.destroy,h!==null&&kd(h,S.deps)){m.memoizedState=tl(o,l,v,h);return}}ut.flags|=i,m.memoizedState=tl(1|o,l,v,h)}function xg(i,o){return Uu(8390656,8,i,o)}function Nd(i,o){return ju(2048,8,i,o)}function Og(i,o){return ju(4,2,i,o)}function Dg(i,o){return ju(4,4,i,o)}function Ng(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Vg(i,o,l){return l=l!=null?l.concat([i]):null,ju(4,4,Ng.bind(null,o,i),l)}function Vd(){}function Lg(i,o){var l=Vn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&kd(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function Mg(i,o){var l=Vn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&kd(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function Fg(i,o,l){return Es&21?(Kn(l,o)||(l=cs(),ut.lanes|=l,Ss|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,ln=!0),i.memoizedState=l)}function tT(i,o){var l=Ue;Ue=l!==0&&4>l?l:4,i(!0);var h=Ad.transition;Ad.transition={};try{i(!1),o()}finally{Ue=l,Ad.transition=h}}function Ug(){return Vn().memoizedState}function nT(i,o,l){var h=bi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},jg(i))$g(o,l);else if(l=vg(i,o,l,h),l!==null){var m=nn();Jn(l,i,h,m),zg(l,o,h)}}function rT(i,o,l){var h=bi(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(jg(i))$g(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,O=v(S,l);if(m.hasEagerState=!0,m.eagerState=O,Kn(O,S)){var M=o.interleaved;M===null?(m.next=m,Sd(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}l=vg(i,o,m,h),l!==null&&(m=nn(),Jn(l,i,h,m),zg(l,o,h))}}function jg(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function $g(i,o){Ja=Fu=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function zg(i,o,l){if(l&4194240){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,mi(i,l)}}var $u={readContext:Nn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},iT={readContext:Nn,useCallback:function(i,o){return mr().memoizedState=[i,o===void 0?null:o],i},useContext:Nn,useEffect:xg,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Uu(4194308,4,Ng.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Uu(4194308,4,i,o)},useInsertionEffect:function(i,o){return Uu(4,2,i,o)},useMemo:function(i,o){var l=mr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=mr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=nT.bind(null,ut,i),[h.memoizedState,i]},useRef:function(i){var o=mr();return i={current:i},o.memoizedState=i},useState:kg,useDebugValue:Vd,useDeferredValue:function(i){return mr().memoizedState=i},useTransition:function(){var i=kg(!1),o=i[0];return i=tT.bind(null,i[1]),mr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=ut,m=mr();if(st){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),xt===null)throw Error(t(349));Es&30||Ig(h,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,xg(Rg.bind(null,h,v,i),[i]),h.flags|=2048,tl(9,Cg.bind(null,h,v,l,o),void 0,null),l},useId:function(){var i=mr(),o=xt.identifierPrefix;if(st){var l=zr,h=$r;l=(h&~(1<<32-Zt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Za++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=eT++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},sT={readContext:Nn,useCallback:Lg,useContext:Nn,useEffect:Nd,useImperativeHandle:Vg,useInsertionEffect:Og,useLayoutEffect:Dg,useMemo:Mg,useReducer:Od,useRef:bg,useState:function(){return Od(el)},useDebugValue:Vd,useDeferredValue:function(i){var o=Vn();return Fg(o,It.memoizedState,i)},useTransition:function(){var i=Od(el)[0],o=Vn().memoizedState;return[i,o]},useMutableSource:Sg,useSyncExternalStore:Tg,useId:Ug,unstable_isNewReconciler:!1},oT={readContext:Nn,useCallback:Lg,useContext:Nn,useEffect:Nd,useImperativeHandle:Vg,useInsertionEffect:Og,useLayoutEffect:Dg,useMemo:Mg,useReducer:Dd,useRef:bg,useState:function(){return Dd(el)},useDebugValue:Vd,useDeferredValue:function(i){var o=Vn();return It===null?o.memoizedState=i:Fg(o,It.memoizedState,i)},useTransition:function(){var i=Dd(el)[0],o=Vn().memoizedState;return[i,o]},useMutableSource:Sg,useSyncExternalStore:Tg,useId:Ug,unstable_isNewReconciler:!1};function Qn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Ld(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var zu={isMounted:function(i){return(i=i._reactInternals)?jn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=nn(),m=bi(i),v=Hr(h,m);v.payload=o,l!=null&&(v.callback=l),o=Ri(i,v,m),o!==null&&(Jn(o,i,m,h),Nu(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=nn(),m=bi(i),v=Hr(h,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=Ri(i,v,m),o!==null&&(Jn(o,i,m,h),Nu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=nn(),h=bi(i),m=Hr(l,h);m.tag=2,o!=null&&(m.callback=o),o=Ri(i,m,h),o!==null&&(Jn(o,i,h,l),Nu(o,i,h))}};function Bg(i,o,l,h,m,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,S):o.prototype&&o.prototype.isPureReactComponent?!$a(l,h)||!$a(m,v):!0}function Hg(i,o,l){var h=!1,m=Ti,v=o.contextType;return typeof v=="object"&&v!==null?v=Nn(v):(m=an(o)?gs:zt.current,h=o.contextTypes,v=(h=h!=null)?wo(i,m):Ti),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=zu,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function Wg(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&zu.enqueueReplaceState(o,o.state,null)}function Md(i,o,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Td(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Nn(v):(v=an(o)?gs:zt.current,m.context=wo(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Ld(i,o,v,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&zu.enqueueReplaceState(m,m.state,null),Vu(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Ao(i,o){try{var l="",h=o;do l+=Ie(h),h=h.return;while(h);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Fd(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Ud(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var aT=typeof WeakMap=="function"?WeakMap:Map;function qg(i,o,l){l=Hr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Qu||(Qu=!0,ef=h),Ud(i,o)},l}function Kg(i,o,l){l=Hr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){Ud(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Ud(i,o),typeof h!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function Gg(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new aT;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),i=ET.bind(null,i,o,l),o.then(i,i))}function Qg(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Yg(i,o,l,h,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Hr(-1,1),o.tag=2,Ri(l,o,1))),l.lanes|=1),i)}var lT=X.ReactCurrentOwner,ln=!1;function tn(i,o,l,h){o.child=i===null?gg(o,null,l,h):Io(o,i.child,l,h)}function Xg(i,o,l,h,m){l=l.render;var v=o.ref;return Ro(o,m),h=bd(i,o,l,h,v,m),l=xd(),i!==null&&!ln?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Wr(i,o,m)):(st&&l&&fd(o),o.flags|=1,tn(i,o,h,m),o.child)}function Jg(i,o,l,h,m){if(i===null){var v=l.type;return typeof v=="function"&&!lf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,Zg(i,o,v,h,m)):(i=tc(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:$a,l(S,h)&&i.ref===o.ref)return Wr(i,o,m)}return o.flags|=1,i=Oi(v,h),i.ref=o.ref,i.return=o,o.child=i}function Zg(i,o,l,h,m){if(i!==null){var v=i.memoizedProps;if($a(v,h)&&i.ref===o.ref)if(ln=!1,o.pendingProps=h=v,(i.lanes&m)!==0)i.flags&131072&&(ln=!0);else return o.lanes=i.lanes,Wr(i,o,m)}return jd(i,o,l,h,m)}function ev(i,o,l){var h=o.pendingProps,m=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(bo,Sn),Sn|=l;else{if(!(l&1073741824))return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,tt(bo,Sn),Sn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,tt(bo,Sn),Sn|=h}else v!==null?(h=v.baseLanes|l,o.memoizedState=null):h=l,tt(bo,Sn),Sn|=h;return tn(i,o,m,l),o.child}function tv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function jd(i,o,l,h,m){var v=an(l)?gs:zt.current;return v=wo(o,v),Ro(o,m),l=bd(i,o,l,h,v,m),h=xd(),i!==null&&!ln?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Wr(i,o,m)):(st&&h&&fd(o),o.flags|=1,tn(i,o,l,m),o.child)}function nv(i,o,l,h,m){if(an(l)){var v=!0;Ru(o)}else v=!1;if(Ro(o,m),o.stateNode===null)Hu(i,o),Hg(o,l,h),Md(o,l,h,m),h=!0;else if(i===null){var S=o.stateNode,O=o.memoizedProps;S.props=O;var M=S.context,G=l.contextType;typeof G=="object"&&G!==null?G=Nn(G):(G=an(l)?gs:zt.current,G=wo(o,G));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function";re||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==h||M!==G)&&Wg(o,S,h,G),Ci=!1;var ee=o.memoizedState;S.state=ee,Vu(o,h,S,m),M=o.memoizedState,O!==h||ee!==M||on.current||Ci?(typeof te=="function"&&(Ld(o,l,te,h),M=o.memoizedState),(O=Ci||Bg(o,l,O,h,ee,M,G))?(re||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=M),S.props=h,S.state=M,S.context=G,h=O):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,yg(i,o),O=o.memoizedProps,G=o.type===o.elementType?O:Qn(o.type,O),S.props=G,re=o.pendingProps,ee=S.context,M=l.contextType,typeof M=="object"&&M!==null?M=Nn(M):(M=an(l)?gs:zt.current,M=wo(o,M));var ue=l.getDerivedStateFromProps;(te=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==re||ee!==M)&&Wg(o,S,h,M),Ci=!1,ee=o.memoizedState,S.state=ee,Vu(o,h,S,m);var de=o.memoizedState;O!==re||ee!==de||on.current||Ci?(typeof ue=="function"&&(Ld(o,l,ue,h),de=o.memoizedState),(G=Ci||Bg(o,l,G,h,ee,de,M)||!1)?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,de,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,de,M)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=de),S.props=h,S.state=de,S.context=M,h=G):(typeof S.componentDidUpdate!="function"||O===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),h=!1)}return $d(i,o,l,h,v,m)}function $d(i,o,l,h,m,v){tv(i,o);var S=(o.flags&128)!==0;if(!h&&!S)return m&&ag(o,l,!1),Wr(i,o,v);h=o.stateNode,lT.current=o;var O=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&S?(o.child=Io(o,i.child,null,v),o.child=Io(o,null,O,v)):tn(i,o,O,v),o.memoizedState=h.state,m&&ag(o,l,!0),o.child}function rv(i){var o=i.stateNode;o.pendingContext?sg(i,o.pendingContext,o.pendingContext!==o.context):o.context&&sg(i,o.context,!1),Id(i,o.containerInfo)}function iv(i,o,l,h,m){return To(),vd(m),o.flags|=256,tn(i,o,l,h),o.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function Bd(i){return{baseLanes:i,cachePool:null,transitions:null}}function sv(i,o,l){var h=o.pendingProps,m=lt.current,v=!1,S=(o.flags&128)!==0,O;if((O=S)||(O=i!==null&&i.memoizedState===null?!1:(m&2)!==0),O?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),tt(lt,m&1),i===null)return gd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(S=h.children,i=h.fallback,v?(h=o.mode,v=o.child,S={mode:"hidden",children:S},!(h&1)&&v!==null?(v.childLanes=0,v.pendingProps=S):v=nc(S,h,0,null),i=Rs(i,h,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Bd(l),o.memoizedState=zd,i):Hd(o,S));if(m=i.memoizedState,m!==null&&(O=m.dehydrated,O!==null))return uT(i,o,S,h,O,m,l);if(v){v=h.fallback,S=o.mode,m=i.child,O=m.sibling;var M={mode:"hidden",children:h.children};return!(S&1)&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=M,o.deletions=null):(h=Oi(m,M),h.subtreeFlags=m.subtreeFlags&14680064),O!==null?v=Oi(O,v):(v=Rs(v,S,l,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,S=i.child.memoizedState,S=S===null?Bd(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=i.childLanes&~l,o.memoizedState=zd,h}return v=i.child,i=v.sibling,h=Oi(v,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function Hd(i,o){return o=nc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Bu(i,o,l,h){return h!==null&&vd(h),Io(o,i.child,null,l),i=Hd(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function uT(i,o,l,h,m,v,S){if(l)return o.flags&256?(o.flags&=-257,h=Fd(Error(t(422))),Bu(i,o,S,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=nc({mode:"visible",children:h.children},m,0,null),v=Rs(v,m,S,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,o.mode&1&&Io(o,i.child,null,S),o.child.memoizedState=Bd(S),o.memoizedState=zd,v);if(!(o.mode&1))return Bu(i,o,S,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var O=h.dgst;return h=O,v=Error(t(419)),h=Fd(v,h,void 0),Bu(i,o,S,h)}if(O=(S&i.childLanes)!==0,ln||O){if(h=xt,h!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|S)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Br(i,m),Jn(h,i,m,-1))}return af(),h=Fd(Error(t(421))),Bu(i,o,S,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=ST.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,En=Ei(m.nextSibling),wn=o,st=!0,Gn=null,i!==null&&(On[Dn++]=$r,On[Dn++]=zr,On[Dn++]=vs,$r=i.id,zr=i.overflow,vs=o),o=Hd(o,h.children),o.flags|=4096,o)}function ov(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Ed(i.return,o,l)}function Wd(i,o,l,h,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=m)}function av(i,o,l){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(tn(i,o,h.children,l),h=lt.current,h&2)h=h&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ov(i,l,o);else if(i.tag===19)ov(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(tt(lt,h),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Lu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Wd(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Lu(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Wd(o,!0,l,null,v);break;case"together":Wd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Hu(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Wr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Ss|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Oi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Oi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function cT(i,o,l){switch(o.tag){case 3:rv(o),To();break;case 5:Eg(o);break;case 1:an(o.type)&&Ru(o);break;case 4:Id(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;tt(Ou,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(tt(lt,lt.current&1),o.flags|=128,null):l&o.child.childLanes?sv(i,o,l):(tt(lt,lt.current&1),i=Wr(i,o,l),i!==null?i.sibling:null);tt(lt,lt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,i.flags&128){if(h)return av(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(lt,lt.current),h)break;return null;case 22:case 23:return o.lanes=0,ev(i,o,l)}return Wr(i,o,l)}var lv,qd,uv,cv;lv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},qd=function(){},uv=function(i,o,l,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,ws(pr.current);var v=null;switch(l){case"input":m=sr(i,m),h=sr(i,h),v=[];break;case"select":m=ae({},m,{value:void 0}),h=ae({},h,{value:void 0}),v=[];break;case"textarea":m=ga(i,m),h=ga(i,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Tu)}Sa(l,h);var S;l=null;for(G in m)if(!h.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var O=m[G];for(S in O)O.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in h){var M=h[G];if(O=m!=null?m[G]:void 0,h.hasOwnProperty(G)&&M!==O&&(M!=null||O!=null))if(G==="style")if(O){for(S in O)!O.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in M)M.hasOwnProperty(S)&&O[S]!==M[S]&&(l||(l={}),l[S]=M[S])}else l||(v||(v=[]),v.push(G,l)),l=M;else G==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,O=O?O.__html:void 0,M!=null&&O!==M&&(v=v||[]).push(G,M)):G==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(G,""+M):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(M!=null&&G==="onScroll"&&nt("scroll",i),v||O===M||(v=[])):(v=v||[]).push(G,M))}l&&(v=v||[]).push("style",l);var G=v;(o.updateQueue=G)&&(o.flags|=4)}},cv=function(i,o,l,h){l!==h&&(o.flags|=4)};function nl(i,o){if(!st)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ht(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function hT(i,o,l){var h=o.pendingProps;switch(pd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return an(o.type)&&Cu(),Ht(o),null;case 3:return h=o.stateNode,Po(),rt(on),rt(zt),Pd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(bu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Gn!==null&&(rf(Gn),Gn=null))),qd(i,o),Ht(o),null;case 5:Cd(o);var m=ws(Xa.current);if(l=o.type,i!==null&&o.stateNode!=null)uv(i,o,l,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Ht(o),null}if(i=ws(pr.current),bu(o)){h=o.stateNode,l=o.type;var v=o.memoizedProps;switch(h[fr]=o,h[qa]=v,i=(o.mode&1)!==0,l){case"dialog":nt("cancel",h),nt("close",h);break;case"iframe":case"object":case"embed":nt("load",h);break;case"video":case"audio":for(m=0;m<Ba.length;m++)nt(Ba[m],h);break;case"source":nt("error",h);break;case"img":case"image":case"link":nt("error",h),nt("load",h);break;case"details":nt("toggle",h);break;case"input":ui(h,v),nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},nt("invalid",h);break;case"textarea":Bs(h,v),nt("invalid",h)}Sa(l,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var O=v[S];S==="children"?typeof O=="string"?h.textContent!==O&&(v.suppressHydrationWarning!==!0&&Su(h.textContent,O,i),m=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(v.suppressHydrationWarning!==!0&&Su(h.textContent,O,i),m=["children",""+O]):s.hasOwnProperty(S)&&O!=null&&S==="onScroll"&&nt("scroll",h)}switch(l){case"input":Pn(h),Gl(h,v,!0);break;case"textarea":Pn(h),va(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Tu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Et(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(l,{is:h.is}):(i=S.createElement(l),l==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,l),i[fr]=o,i[qa]=h,lv(i,o,!1,!1),o.stateNode=i;e:{switch(S=Ta(l,h),l){case"dialog":nt("cancel",i),nt("close",i),m=h;break;case"iframe":case"object":case"embed":nt("load",i),m=h;break;case"video":case"audio":for(m=0;m<Ba.length;m++)nt(Ba[m],i);m=h;break;case"source":nt("error",i),m=h;break;case"img":case"image":case"link":nt("error",i),nt("load",i),m=h;break;case"details":nt("toggle",i),m=h;break;case"input":ui(i,h),m=sr(i,h),nt("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=ae({},h,{value:void 0}),nt("invalid",i);break;case"textarea":Bs(i,h),m=ga(i,h),nt("invalid",i);break;default:m=h}Sa(l,m),O=m;for(v in O)if(O.hasOwnProperty(v)){var M=O[v];v==="style"?wa(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ya(i,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&ci(i,M):typeof M=="number"&&ci(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&nt("scroll",i):M!=null&&H(i,v,M,S))}switch(l){case"input":Pn(i),Gl(i,h,!1);break;case"textarea":Pn(i),va(i);break;case"option":h.value!=null&&i.setAttribute("value",""+xe(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?xr(i,!!h.multiple,v,!1):h.defaultValue!=null&&xr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Tu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(i&&o.stateNode!=null)cv(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=ws(Xa.current),ws(pr.current),bu(o)){if(h=o.stateNode,l=o.memoizedProps,h[fr]=o,(v=h.nodeValue!==l)&&(i=wn,i!==null))switch(i.tag){case 3:Su(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Su(h.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[fr]=o,o.stateNode=h}return Ht(o),null;case 13:if(rt(lt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(st&&En!==null&&o.mode&1&&!(o.flags&128))fg(),To(),o.flags|=98560,v=!1;else if(v=bu(o),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[fr]=o}else To(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ht(o),v=!1}else Gn!==null&&(rf(Gn),Gn=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(i===null||lt.current&1?Ct===0&&(Ct=3):af())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return Po(),qd(i,o),i===null&&Ha(o.stateNode.containerInfo),Ht(o),null;case 10:return wd(o.type._context),Ht(o),null;case 17:return an(o.type)&&Cu(),Ht(o),null;case 19:if(rt(lt),v=o.memoizedState,v===null)return Ht(o),null;if(h=(o.flags&128)!==0,S=v.rendering,S===null)if(h)nl(v,!1);else{if(Ct!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(S=Lu(i),S!==null){for(o.flags|=128,nl(v,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)v=l,i=h,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,i=S.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return tt(lt,lt.current&1|2),o.child}i=i.sibling}v.tail!==null&&et()>xo&&(o.flags|=128,h=!0,nl(v,!1),o.lanes=4194304)}else{if(!h)if(i=Lu(S),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),nl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!st)return Ht(o),null}else 2*et()-v.renderingStartTime>xo&&l!==1073741824&&(o.flags|=128,h=!0,nl(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(l=v.last,l!==null?l.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=et(),o.sibling=null,l=lt.current,tt(lt,h?l&1|2:l&1),o):(Ht(o),null);case 22:case 23:return of(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?Sn&1073741824&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function dT(i,o){switch(pd(o),o.tag){case 1:return an(o.type)&&Cu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Po(),rt(on),rt(zt),Pd(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Cd(o),null;case 13:if(rt(lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));To()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rt(lt),null;case 4:return Po(),null;case 10:return wd(o.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var Wu=!1,Wt=!1,fT=typeof WeakSet=="function"?WeakSet:Set,he=null;function ko(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ht(i,o,h)}else l.current=null}function Kd(i,o,l){try{l()}catch(h){ht(i,o,h)}}var hv=!1;function pT(i,o){if(sd=yi,i=Bm(),Xh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,O=-1,M=-1,G=0,te=0,re=i,ee=null;t:for(;;){for(var ue;re!==l||m!==0&&re.nodeType!==3||(O=S+m),re!==v||h!==0&&re.nodeType!==3||(M=S+h),re.nodeType===3&&(S+=re.nodeValue.length),(ue=re.firstChild)!==null;)ee=re,re=ue;for(;;){if(re===i)break t;if(ee===l&&++G===m&&(O=S),ee===v&&++te===h&&(M=S),(ue=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ue}l=O===-1||M===-1?null:{start:O,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(od={focusedElem:i,selectionRange:l},yi=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var de=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,pt=de.memoizedState,q=o.stateNode,U=q.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Qn(o.type,pe),pt);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ht(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return de=hv,hv=!1,de}function rl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Kd(o,l,v)}m=m.next}while(m!==h)}}function qu(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Gd(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function dv(i){var o=i.alternate;o!==null&&(i.alternate=null,dv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[fr],delete o[qa],delete o[cd],delete o[YS],delete o[XS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function fv(i){return i.tag===5||i.tag===3||i.tag===4}function pv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||fv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Tu));else if(h!==4&&(i=i.child,i!==null))for(Qd(i,o,l),i=i.sibling;i!==null;)Qd(i,o,l),i=i.sibling}function Yd(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Yd(i,o,l),i=i.sibling;i!==null;)Yd(i,o,l),i=i.sibling}var Lt=null,Yn=!1;function Pi(i,o,l){for(l=l.child;l!==null;)mv(i,o,l),l=l.sibling}function mv(i,o,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ls,l)}catch{}switch(l.tag){case 5:Wt||ko(l,o);case 6:var h=Lt,m=Yn;Lt=null,Pi(i,o,l),Lt=h,Yn=m,Lt!==null&&(Yn?(i=Lt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Yn?(i=Lt,l=l.stateNode,i.nodeType===8?ud(i.parentNode,l):i.nodeType===1&&ud(i,l),Wn(i)):ud(Lt,l.stateNode));break;case 4:h=Lt,m=Yn,Lt=l.stateNode.containerInfo,Yn=!0,Pi(i,o,l),Lt=h,Yn=m;break;case 0:case 11:case 14:case 15:if(!Wt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&(v&2||v&4)&&Kd(l,o,S),m=m.next}while(m!==h)}Pi(i,o,l);break;case 1:if(!Wt&&(ko(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(O){ht(l,o,O)}Pi(i,o,l);break;case 21:Pi(i,o,l);break;case 22:l.mode&1?(Wt=(h=Wt)||l.memoizedState!==null,Pi(i,o,l),Wt=h):Pi(i,o,l);break;default:Pi(i,o,l)}}function gv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new fT),o.forEach(function(h){var m=TT.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Xn(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var v=i,S=o,O=S;e:for(;O!==null;){switch(O.tag){case 5:Lt=O.stateNode,Yn=!1;break e;case 3:Lt=O.stateNode.containerInfo,Yn=!0;break e;case 4:Lt=O.stateNode.containerInfo,Yn=!0;break e}O=O.return}if(Lt===null)throw Error(t(160));mv(v,S,m),Lt=null,Yn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(G){ht(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)vv(o,i),o=o.sibling}function vv(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Xn(o,i),gr(i),h&4){try{rl(3,i,i.return),qu(3,i)}catch(pe){ht(i,i.return,pe)}try{rl(5,i,i.return)}catch(pe){ht(i,i.return,pe)}}break;case 1:Xn(o,i),gr(i),h&512&&l!==null&&ko(l,l.return);break;case 5:if(Xn(o,i),gr(i),h&512&&l!==null&&ko(l,l.return),i.flags&32){var m=i.stateNode;try{ci(m,"")}catch(pe){ht(i,i.return,pe)}}if(h&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,S=l!==null?l.memoizedProps:v,O=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{O==="input"&&v.type==="radio"&&v.name!=null&&pa(m,v),Ta(O,S);var G=Ta(O,v);for(S=0;S<M.length;S+=2){var te=M[S],re=M[S+1];te==="style"?wa(m,re):te==="dangerouslySetInnerHTML"?ya(m,re):te==="children"?ci(m,re):H(m,te,re,G)}switch(O){case"input":ma(m,v);break;case"textarea":Hs(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?xr(m,!!v.multiple,ue,!1):ee!==!!v.multiple&&(v.defaultValue!=null?xr(m,!!v.multiple,v.defaultValue,!0):xr(m,!!v.multiple,v.multiple?[]:"",!1))}m[qa]=v}catch(pe){ht(i,i.return,pe)}}break;case 6:if(Xn(o,i),gr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(pe){ht(i,i.return,pe)}}break;case 3:if(Xn(o,i),gr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Wn(o.containerInfo)}catch(pe){ht(i,i.return,pe)}break;case 4:Xn(o,i),gr(i);break;case 13:Xn(o,i),gr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Zd=et())),h&4&&gv(i);break;case 22:if(te=l!==null&&l.memoizedState!==null,i.mode&1?(Wt=(G=Wt)||te,Xn(o,i),Wt=G):Xn(o,i),gr(i),h&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!te&&i.mode&1)for(he=i,te=i.child;te!==null;){for(re=he=te;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:rl(4,ee,ee.return);break;case 1:ko(ee,ee.return);var de=ee.stateNode;if(typeof de.componentWillUnmount=="function"){h=ee,l=ee.return;try{o=h,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(pe){ht(h,l,pe)}}break;case 5:ko(ee,ee.return);break;case 22:if(ee.memoizedState!==null){wv(re);continue}}ue!==null?(ue.return=ee,he=ue):wv(re)}te=te.sibling}e:for(te=null,re=i;;){if(re.tag===5){if(te===null){te=re;try{m=re.stateNode,G?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(O=re.stateNode,M=re.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,O.style.display=_a("display",S))}catch(pe){ht(i,i.return,pe)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(pe){ht(i,i.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Xn(o,i),gr(i),h&4&&gv(i);break;case 21:break;default:Xn(o,i),gr(i)}}function gr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(fv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(ci(m,""),h.flags&=-33);var v=pv(i);Yd(i,v,m);break;case 3:case 4:var S=h.stateNode.containerInfo,O=pv(i);Qd(i,O,S);break;default:throw Error(t(161))}}catch(M){ht(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function mT(i,o,l){he=i,yv(i)}function yv(i,o,l){for(var h=(i.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&h){var S=m.memoizedState!==null||Wu;if(!S){var O=m.alternate,M=O!==null&&O.memoizedState!==null||Wt;O=Wu;var G=Wt;if(Wu=S,(Wt=M)&&!G)for(he=m;he!==null;)S=he,M=S.child,S.tag===22&&S.memoizedState!==null?Ev(m):M!==null?(M.return=S,he=M):Ev(m);for(;v!==null;)he=v,yv(v),v=v.sibling;he=m,Wu=O,Wt=G}_v(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,he=v):_v(i)}}function _v(i){for(;he!==null;){var o=he;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Wt||qu(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Wt)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Qn(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&wg(o,v,h);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}wg(o,S,l)}break;case 5:var O=o.stateNode;if(l===null&&o.flags&4){l=O;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Wn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||o.flags&512&&Gd(o)}catch(ee){ht(o,o.return,ee)}}if(o===i){he=null;break}if(l=o.sibling,l!==null){l.return=o.return,he=l;break}he=o.return}}function wv(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var l=o.sibling;if(l!==null){l.return=o.return,he=l;break}he=o.return}}function Ev(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{qu(4,o)}catch(M){ht(o,l,M)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(M){ht(o,m,M)}}var v=o.return;try{Gd(o)}catch(M){ht(o,v,M)}break;case 5:var S=o.return;try{Gd(o)}catch(M){ht(o,S,M)}}}catch(M){ht(o,o.return,M)}if(o===i){he=null;break}var O=o.sibling;if(O!==null){O.return=o.return,he=O;break}he=o.return}}var gT=Math.ceil,Ku=X.ReactCurrentDispatcher,Xd=X.ReactCurrentOwner,Ln=X.ReactCurrentBatchConfig,Be=0,xt=null,yt=null,Mt=0,Sn=0,bo=Si(0),Ct=0,il=null,Ss=0,Gu=0,Jd=0,sl=null,un=null,Zd=0,xo=1/0,qr=null,Qu=!1,ef=null,Ai=null,Yu=!1,ki=null,Xu=0,ol=0,tf=null,Ju=-1,Zu=0;function nn(){return Be&6?et():Ju!==-1?Ju:Ju=et()}function bi(i){return i.mode&1?Be&2&&Mt!==0?Mt&-Mt:ZS.transition!==null?(Zu===0&&(Zu=cs()),Zu):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:Na(i.type)),i):1}function Jn(i,o,l,h){if(50<ol)throw ol=0,tf=null,Error(t(185));pi(i,l,h),(!(Be&2)||i!==xt)&&(i===xt&&(!(Be&2)&&(Gu|=l),Ct===4&&xi(i,Mt)),cn(i,h),l===1&&Be===0&&!(o.mode&1)&&(xo=et()+500,Pu&&Ii()))}function cn(i,o){var l=i.callbackNode;Nr(i,o);var h=us(i,i===xt?Mt:0);if(h===0)l!==null&&ka(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&ka(l),o===1)i.tag===0?JS(Tv.bind(null,i)):lg(Tv.bind(null,i)),GS(function(){!(Be&6)&&Ii()}),l=null;else{switch(gi(h)){case 1:l=as;break;case 4:l=hi;break;case 16:l=kn;break;case 536870912:l=Zl;break;default:l=kn}l=xv(l,Sv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Sv(i,o){if(Ju=-1,Zu=0,Be&6)throw Error(t(327));var l=i.callbackNode;if(Oo()&&i.callbackNode!==l)return null;var h=us(i,i===xt?Mt:0);if(h===0)return null;if(h&30||h&i.expiredLanes||o)o=ec(i,h);else{o=h;var m=Be;Be|=2;var v=Cv();(xt!==i||Mt!==o)&&(qr=null,xo=et()+500,Is(i,o));do try{_T();break}catch(O){Iv(i,O)}while(!0);_d(),Ku.current=v,Be=m,yt!==null?o=0:(xt=null,Mt=0,o=Ct)}if(o!==0){if(o===2&&(m=vn(i),m!==0&&(h=m,o=nf(i,m))),o===1)throw l=il,Is(i,0),xi(i,h),cn(i,et()),l;if(o===6)xi(i,h);else{if(m=i.current.alternate,!(h&30)&&!vT(m)&&(o=ec(i,h),o===2&&(v=vn(i),v!==0&&(h=v,o=nf(i,v))),o===1))throw l=il,Is(i,0),xi(i,h),cn(i,et()),l;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Cs(i,un,qr);break;case 3:if(xi(i,h),(h&130023424)===h&&(o=Zd+500-et(),10<o)){if(us(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){nn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=ld(Cs.bind(null,i,un,qr),o);break}Cs(i,un,qr);break;case 4:if(xi(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var S=31-Zt(h);v=1<<S,S=o[S],S>m&&(m=S),h&=~v}if(h=m,h=et()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*gT(h/1960))-h,10<h){i.timeoutHandle=ld(Cs.bind(null,i,un,qr),h);break}Cs(i,un,qr);break;case 5:Cs(i,un,qr);break;default:throw Error(t(329))}}}return cn(i,et()),i.callbackNode===l?Sv.bind(null,i):null}function nf(i,o){var l=sl;return i.current.memoizedState.isDehydrated&&(Is(i,o).flags|=256),i=ec(i,o),i!==2&&(o=un,un=l,o!==null&&rf(o)),i}function rf(i){un===null?un=i:un.push.apply(un,i)}function vT(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],v=m.getSnapshot;m=m.value;try{if(!Kn(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function xi(i,o){for(o&=~Jd,o&=~Gu,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Zt(o),h=1<<l;i[l]=-1,o&=~h}}function Tv(i){if(Be&6)throw Error(t(327));Oo();var o=us(i,0);if(!(o&1))return cn(i,et()),null;var l=ec(i,o);if(i.tag!==0&&l===2){var h=vn(i);h!==0&&(o=h,l=nf(i,h))}if(l===1)throw l=il,Is(i,0),xi(i,o),cn(i,et()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Cs(i,un,qr),cn(i,et()),null}function sf(i,o){var l=Be;Be|=1;try{return i(o)}finally{Be=l,Be===0&&(xo=et()+500,Pu&&Ii())}}function Ts(i){ki!==null&&ki.tag===0&&!(Be&6)&&Oo();var o=Be;Be|=1;var l=Ln.transition,h=Ue;try{if(Ln.transition=null,Ue=1,i)return i()}finally{Ue=h,Ln.transition=l,Be=o,!(Be&6)&&Ii()}}function of(){Sn=bo.current,rt(bo)}function Is(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,KS(l)),yt!==null)for(l=yt.return;l!==null;){var h=l;switch(pd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Cu();break;case 3:Po(),rt(on),rt(zt),Pd();break;case 5:Cd(h);break;case 4:Po();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:wd(h.type._context);break;case 22:case 23:of()}l=l.return}if(xt=i,yt=i=Oi(i.current,null),Mt=Sn=o,Ct=0,il=null,Jd=Gu=Ss=0,un=sl=null,_s!==null){for(o=0;o<_s.length;o++)if(l=_s[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,v=l.pending;if(v!==null){var S=v.next;v.next=m,h.next=S}l.pending=h}_s=null}return i}function Iv(i,o){do{var l=yt;try{if(_d(),Mu.current=$u,Fu){for(var h=ut.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Fu=!1}if(Es=0,bt=It=ut=null,Ja=!1,Za=0,Xd.current=null,l===null||l.return===null){Ct=1,il=o,yt=null;break}e:{var v=i,S=l.return,O=l,M=o;if(o=Mt,O.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=M,te=O,re=te.tag;if(!(te.mode&1)&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=Qg(S);if(ue!==null){ue.flags&=-257,Yg(ue,S,O,v,o),ue.mode&1&&Gg(v,G,o),o=ue,M=G;var de=o.updateQueue;if(de===null){var pe=new Set;pe.add(M),o.updateQueue=pe}else de.add(M);break e}else{if(!(o&1)){Gg(v,G,o),af();break e}M=Error(t(426))}}else if(st&&O.mode&1){var pt=Qg(S);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Yg(pt,S,O,v,o),vd(Ao(M,O));break e}}v=M=Ao(M,O),Ct!==4&&(Ct=2),sl===null?sl=[v]:sl.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var q=qg(v,M,o);_g(v,q);break e;case 1:O=M;var U=v.type,K=v.stateNode;if(!(v.flags&128)&&(typeof U.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ai===null||!Ai.has(K)))){v.flags|=65536,o&=-o,v.lanes|=o;var se=Kg(v,O,o);_g(v,se);break e}}v=v.return}while(v!==null)}Pv(l)}catch(me){o=me,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function Cv(){var i=Ku.current;return Ku.current=$u,i===null?$u:i}function af(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),xt===null||!(Ss&268435455)&&!(Gu&268435455)||xi(xt,Mt)}function ec(i,o){var l=Be;Be|=2;var h=Cv();(xt!==i||Mt!==o)&&(qr=null,Is(i,o));do try{yT();break}catch(m){Iv(i,m)}while(!0);if(_d(),Be=l,Ku.current=h,yt!==null)throw Error(t(261));return xt=null,Mt=0,Ct}function yT(){for(;yt!==null;)Rv(yt)}function _T(){for(;yt!==null&&!Xl();)Rv(yt)}function Rv(i){var o=bv(i.alternate,i,Sn);i.memoizedProps=i.pendingProps,o===null?Pv(i):yt=o,Xd.current=null}function Pv(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=dT(l,o),l!==null){l.flags&=32767,yt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ct=6,yt=null;return}}else if(l=hT(l,o,Sn),l!==null){yt=l;return}if(o=o.sibling,o!==null){yt=o;return}yt=o=i}while(o!==null);Ct===0&&(Ct=5)}function Cs(i,o,l){var h=Ue,m=Ln.transition;try{Ln.transition=null,Ue=1,wT(i,o,l,h)}finally{Ln.transition=m,Ue=h}return null}function wT(i,o,l,h){do Oo();while(ki!==null);if(Be&6)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(Ze(i,v),i===xt&&(yt=xt=null,Mt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Yu||(Yu=!0,xv(kn,function(){return Oo(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=Ln.transition,Ln.transition=null;var S=Ue;Ue=1;var O=Be;Be|=4,Xd.current=null,pT(i,l),vv(l,i),jS(od),yi=!!sd,od=sd=null,i.current=l,mT(l),Bh(),Be=O,Ue=S,Ln.transition=v}else i.current=l;if(Yu&&(Yu=!1,ki=i,Xu=m),v=i.pendingLanes,v===0&&(Ai=null),eu(l.stateNode),cn(i,et()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Qu)throw Qu=!1,i=ef,ef=null,i;return Xu&1&&i.tag!==0&&Oo(),v=i.pendingLanes,v&1?i===tf?ol++:(ol=0,tf=i):ol=0,Ii(),null}function Oo(){if(ki!==null){var i=gi(Xu),o=Ln.transition,l=Ue;try{if(Ln.transition=null,Ue=16>i?16:i,ki===null)var h=!1;else{if(i=ki,ki=null,Xu=0,Be&6)throw Error(t(331));var m=Be;for(Be|=4,he=i.current;he!==null;){var v=he,S=v.child;if(he.flags&16){var O=v.deletions;if(O!==null){for(var M=0;M<O.length;M++){var G=O[M];for(he=G;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:rl(8,te,v)}var re=te.child;if(re!==null)re.return=te,he=re;else for(;he!==null;){te=he;var ee=te.sibling,ue=te.return;if(dv(te),te===G){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var de=v.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var pt=pe.sibling;pe.sibling=null,pe=pt}while(pe!==null)}}he=v}}if(v.subtreeFlags&2064&&S!==null)S.return=v,he=S;else e:for(;he!==null;){if(v=he,v.flags&2048)switch(v.tag){case 0:case 11:case 15:rl(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,he=q;break e}he=v.return}}var U=i.current;for(he=U;he!==null;){S=he;var K=S.child;if(S.subtreeFlags&2064&&K!==null)K.return=S,he=K;else e:for(S=U;he!==null;){if(O=he,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:qu(9,O)}}catch(me){ht(O,O.return,me)}if(O===S){he=null;break e}var se=O.sibling;if(se!==null){se.return=O.return,he=se;break e}he=O.return}}if(Be=m,Ii(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ls,i)}catch{}h=!0}return h}finally{Ue=l,Ln.transition=o}}return!1}function Av(i,o,l){o=Ao(l,o),o=qg(i,o,1),i=Ri(i,o,1),o=nn(),i!==null&&(pi(i,1,o),cn(i,o))}function ht(i,o,l){if(i.tag===3)Av(i,i,l);else for(;o!==null;){if(o.tag===3){Av(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ai===null||!Ai.has(h))){i=Ao(l,i),i=Kg(o,i,1),o=Ri(o,i,1),i=nn(),o!==null&&(pi(o,1,i),cn(o,i));break}}o=o.return}}function ET(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=nn(),i.pingedLanes|=i.suspendedLanes&l,xt===i&&(Mt&l)===l&&(Ct===4||Ct===3&&(Mt&130023424)===Mt&&500>et()-Zd?Is(i,0):Jd|=l),cn(i,o)}function kv(i,o){o===0&&(i.mode&1?(o=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):o=1);var l=nn();i=Br(i,o),i!==null&&(pi(i,o,l),cn(i,l))}function ST(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),kv(i,l)}function TT(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),kv(i,l)}var bv;bv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||on.current)ln=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return ln=!1,cT(i,o,l);ln=!!(i.flags&131072)}else ln=!1,st&&o.flags&1048576&&ug(o,ku,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Hu(i,o),i=o.pendingProps;var m=wo(o,zt.current);Ro(o,l),m=bd(null,o,h,i,m,l);var v=xd();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,an(h)?(v=!0,Ru(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Td(o),m.updater=zu,o.stateNode=m,m._reactInternals=o,Md(o,h,i,l),o=$d(null,o,h,!0,v,l)):(o.tag=0,st&&v&&fd(o),tn(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Hu(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=CT(h),i=Qn(h,i),m){case 0:o=jd(null,o,h,i,l);break e;case 1:o=nv(null,o,h,i,l);break e;case 11:o=Xg(null,o,h,i,l);break e;case 14:o=Jg(null,o,h,Qn(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Qn(h,m),jd(i,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Qn(h,m),nv(i,o,h,m,l);case 3:e:{if(rv(o),i===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,m=v.element,yg(i,o),Vu(o,h,null,l);var S=o.memoizedState;if(h=S.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Ao(Error(t(423)),o),o=iv(i,o,h,l,m);break e}else if(h!==m){m=Ao(Error(t(424)),o),o=iv(i,o,h,l,m);break e}else for(En=Ei(o.stateNode.containerInfo.firstChild),wn=o,st=!0,Gn=null,l=gg(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(To(),h===m){o=Wr(i,o,l);break e}tn(i,o,h,l)}o=o.child}return o;case 5:return Eg(o),i===null&&gd(o),h=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,S=m.children,ad(h,m)?S=null:v!==null&&ad(h,v)&&(o.flags|=32),tv(i,o),tn(i,o,S,l),o.child;case 6:return i===null&&gd(o),null;case 13:return sv(i,o,l);case 4:return Id(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Io(o,null,h,l):tn(i,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Qn(h,m),Xg(i,o,h,m,l);case 7:return tn(i,o,o.pendingProps,l),o.child;case 8:return tn(i,o,o.pendingProps.children,l),o.child;case 12:return tn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,S=m.value,tt(Ou,h._currentValue),h._currentValue=S,v!==null)if(Kn(v.value,S)){if(v.children===m.children&&!on.current){o=Wr(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var O=v.dependencies;if(O!==null){S=v.child;for(var M=O.firstContext;M!==null;){if(M.context===h){if(v.tag===1){M=Hr(-1,l&-l),M.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?M.next=M:(M.next=te.next,te.next=M),G.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),Ed(v.return,l,o),O.lanes|=l;break}M=M.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=l,O=S.alternate,O!==null&&(O.lanes|=l),Ed(S,l,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}tn(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Ro(o,l),m=Nn(m),h=h(m),o.flags|=1,tn(i,o,h,l),o.child;case 14:return h=o.type,m=Qn(h,o.pendingProps),m=Qn(h.type,m),Jg(i,o,h,m,l);case 15:return Zg(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Qn(h,m),Hu(i,o),o.tag=1,an(h)?(i=!0,Ru(o)):i=!1,Ro(o,l),Hg(o,h,m),Md(o,h,m,l),$d(null,o,h,!0,i,l);case 19:return av(i,o,l);case 22:return ev(i,o,l)}throw Error(t(156,o.tag))};function xv(i,o){return Js(i,o)}function IT(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,o,l,h){return new IT(i,o,l,h)}function lf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function CT(i){if(typeof i=="function")return lf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===Fe)return 14}return 2}function Oi(i,o){var l=i.alternate;return l===null?(l=Mn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function tc(i,o,l,h,m,v){var S=2;if(h=i,typeof i=="function")lf(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case x:return Rs(l.children,m,v,o);case P:S=8,m|=8;break;case b:return i=Mn(12,l,o,m|2),i.elementType=b,i.lanes=v,i;case N:return i=Mn(13,l,o,m),i.elementType=N,i.lanes=v,i;case We:return i=Mn(19,l,o,m),i.elementType=We,i.lanes=v,i;case De:return nc(l,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:S=10;break e;case L:S=9;break e;case $:S=11;break e;case Fe:S=14;break e;case Ve:S=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Mn(S,l,o,m),o.elementType=i,o.type=h,o.lanes=v,o}function Rs(i,o,l,h){return i=Mn(7,i,h,o),i.lanes=l,i}function nc(i,o,l,h){return i=Mn(22,i,h,o),i.elementType=De,i.lanes=l,i.stateNode={isHidden:!1},i}function uf(i,o,l){return i=Mn(6,i,null,o),i.lanes=l,i}function cf(i,o,l){return o=Mn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function RT(i,o,l,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fi(0),this.expirationTimes=fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function hf(i,o,l,h,m,v,S,O,M){return i=new RT(i,o,l,O,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Mn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Td(v),i}function PT(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function Ov(i){if(!i)return Ti;i=i._reactInternals;e:{if(jn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(an(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(an(l))return og(i,l,o)}return o}function Dv(i,o,l,h,m,v,S,O,M){return i=hf(l,h,!0,i,m,v,S,O,M),i.context=Ov(null),l=i.current,h=nn(),m=bi(l),v=Hr(h,m),v.callback=o??null,Ri(l,v,m),i.current.lanes=m,pi(i,m,h),cn(i,h),i}function rc(i,o,l,h){var m=o.current,v=nn(),S=bi(m);return l=Ov(l),o.context===null?o.context=l:o.pendingContext=l,o=Hr(v,S),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Ri(m,o,S),i!==null&&(Jn(i,m,S,v),Nu(i,m,S)),S}function ic(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Nv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function df(i,o){Nv(i,o),(i=i.alternate)&&Nv(i,o)}var Vv=typeof reportError=="function"?reportError:function(i){console.error(i)};function ff(i){this._internalRoot=i}sc.prototype.render=ff.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));rc(i,o,null,null)},sc.prototype.unmount=ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ts(function(){rc(null,i,null,null)}),o[Ur]=null}};function sc(i){this._internalRoot=i}sc.prototype.unstable_scheduleHydration=function(i){if(i){var o=su();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ur.length&&o!==0&&o<ur[l].priority;l++);ur.splice(l,0,i),l===0&&lu(i)}};function pf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function oc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function AT(i,o,l,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var G=ic(S);v.call(G)}}var S=Dv(o,h,i,0,null,!1,!1,"",Lv);return i._reactRootContainer=S,i[Ur]=S.current,Ha(i.nodeType===8?i.parentNode:i),Ts(),S}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var O=h;h=function(){var G=ic(M);O.call(G)}}var M=hf(i,0,!1,null,null,!1,!1,"",Lv);return i._reactRootContainer=M,i[Ur]=M.current,Ha(i.nodeType===8?i.parentNode:i),Ts(function(){rc(o,M,l,h)}),M}function ac(i,o,l,h,m){var v=l._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var O=m;m=function(){var M=ic(S);O.call(M)}}rc(o,S,i,m)}else S=AT(l,o,i,m,h);return ic(S)}ru=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=di(o.pendingLanes);l!==0&&(mi(o,l|1),cn(o,et()),!(Be&6)&&(xo=et()+500,Ii()))}break;case 13:Ts(function(){var h=Br(i,1);if(h!==null){var m=nn();Jn(h,i,1,m)}}),df(i,1)}},to=function(i){if(i.tag===13){var o=Br(i,134217728);if(o!==null){var l=nn();Jn(o,i,134217728,l)}df(i,134217728)}},iu=function(i){if(i.tag===13){var o=bi(i),l=Br(i,o);if(l!==null){var h=nn();Jn(l,i,o,h)}df(i,o)}},su=function(){return Ue},ou=function(i,o){var l=Ue;try{return Ue=i,o()}finally{Ue=l}},qs=function(i,o,l){switch(o){case"input":if(ma(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=Iu(h);if(!m)throw Error(t(90));kr(h),ma(h,m)}}}break;case"textarea":Hs(i,l);break;case"select":o=l.value,o!=null&&xr(i,!!l.multiple,o,!1)}},rs=sf,Ca=Ts;var kT={usingClientEntryPoint:!1,Events:[Ka,yo,Iu,ar,Ia,sf]},al={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bT={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Aa(i),i===null?null:i.stateNode},findFiberByHostInstance:al.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{ls=lc.inject(bT),gn=lc}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kT,hn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pf(o))throw Error(t(200));return PT(i,o,null,l)},hn.createRoot=function(i,o){if(!pf(i))throw Error(t(299));var l=!1,h="",m=Vv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=hf(i,1,!1,null,null,l,!1,h,m),i[Ur]=o.current,Ha(i.nodeType===8?i.parentNode:i),new ff(o)},hn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Aa(o),i=i===null?null:i.stateNode,i},hn.flushSync=function(i){return Ts(i)},hn.hydrate=function(i,o,l){if(!oc(o))throw Error(t(200));return ac(null,i,o,!0,l)},hn.hydrateRoot=function(i,o,l){if(!pf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,v="",S=Vv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=Dv(o,null,i,1,l??null,m,!1,v,S),i[Ur]=o.current,Ha(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new sc(o)},hn.render=function(i,o,l){if(!oc(o))throw Error(t(200));return ac(null,i,o,!1,l)},hn.unmountComponentAtNode=function(i){if(!oc(i))throw Error(t(40));return i._reactRootContainer?(Ts(function(){ac(null,null,i,!1,function(){i._reactRootContainer=null,i[Ur]=null})}),!0):!1},hn.unstable_batchedUpdates=sf,hn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!oc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ac(i,o,l,!1,h)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Wv;function Y_(){if(Wv)return vf.exports;Wv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vf.exports=UT(),vf.exports}var qv;function jT(){if(qv)return uc;qv=1;var n=Y_();return uc.createRoot=n.createRoot,uc.hydrateRoot=n.hydrateRoot,uc}var $T=jT(),ul={},Kv;function zT(){if(Kv)return ul;Kv=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.parse=u,ul.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,C){const R=new a,k=E.length;if(k<2)return R;const I=(C==null?void 0:C.decode)||y;let D=0;do{const j=E.indexOf("=",D);if(j===-1)break;const H=E.indexOf(";",D),X=H===-1?k:H;if(j>X){D=E.lastIndexOf(";",j-1)+1;continue}const B=f(E,D,j),J=d(E,j,B),x=E.slice(B,J);if(R[x]===void 0){let P=f(E,j+1,X),b=d(E,X,P);const V=I(E.slice(P,b));R[x]=V}D=X+1}while(D<k);return R}function f(E,C,R){do{const k=E.charCodeAt(C);if(k!==32&&k!==9)return C}while(++C<R);return R}function d(E,C,R){for(;C>R;){const k=E.charCodeAt(--C);if(k!==32&&k!==9)return C+1}return R}function p(E,C,R){const k=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const I=k(C);if(!e.test(I))throw new TypeError(`argument val is invalid: ${C}`);let D=E+"="+I;if(!R)return D;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);D+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);D+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);D+="; Path="+R.path}if(R.expires){if(!w(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);D+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(D+="; HttpOnly"),R.secure&&(D+="; Secure"),R.partitioned&&(D+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return D}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return s.call(E)==="[object Date]"}return ul}zT();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gv="popstate";function BT(n={}){function e(r,s){let{pathname:a,search:u,hash:f}=r.location;return zf("",{pathname:a,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Tl(s)}return WT(e,t,null,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HT(){return Math.random().toString(36).substring(2,10)}function Qv(n,e){return{usr:n.state,key:n.key,idx:e}}function zf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ta(e):e,state:t,key:e&&e.key||r||HT()}}function Tl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ta(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function WT(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,f="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function w(){f="POP";let I=y(),D=I==null?null:I-p;p=I,d&&d({action:f,location:k.location,delta:D})}function E(I,D){f="PUSH";let j=zf(k.location,I,D);p=y()+1;let H=Qv(j,p),X=k.createHref(j);try{u.pushState(H,"",X)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(X)}a&&d&&d({action:f,location:k.location,delta:1})}function C(I,D){f="REPLACE";let j=zf(k.location,I,D);p=y();let H=Qv(j,p),X=k.createHref(j);u.replaceState(H,"",X),a&&d&&d({action:f,location:k.location,delta:0})}function R(I){let D=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof I=="string"?I:Tl(I);return j=j.replace(/ $/,"%20"),at(D,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,D)}let k={get action(){return f},get location(){return n(s,u)},listen(I){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Gv,w),d=I,()=>{s.removeEventListener(Gv,w),d=null}},createHref(I){return e(s,I)},createURL:R,encodeLocation(I){let D=R(I);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:C,go(I){return u.go(I)}};return k}function X_(n,e,t="/"){return qT(n,e,t,!1)}function qT(n,e,t,r){let s=typeof e=="string"?ta(e):e,a=Hi(s.pathname||"/",t);if(a==null)return null;let u=J_(n);KT(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let p=i1(a);f=n1(u[d],p,r)}return f}function J_(n,e=[],t=[],r=""){let s=(a,u,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(at(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Jr([r,d.relativePath]),y=t.concat(d);a.children&&a.children.length>0&&(at(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),J_(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:e1(p,a.index),routesMeta:y})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,u);else for(let d of Z_(a.path))s(a,u,d)}),e}function Z_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=Z_(r.join("/")),f=[];return f.push(...u.map(d=>d===""?a:[a,d].join("/"))),s&&f.push(...u),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function KT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:t1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var GT=/^:[\w-]+$/,QT=3,YT=2,XT=1,JT=10,ZT=-2,Yv=n=>n==="*";function e1(n,e){let t=n.split("/"),r=t.length;return t.some(Yv)&&(r+=ZT),e&&(r+=YT),t.filter(s=>!Yv(s)).reduce((s,a)=>s+(GT.test(a)?QT:a===""?XT:JT),r)}function t1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function n1(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],p=f===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=Fc({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),E=d.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=Fc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Jr([a,w.pathname]),pathnameBase:l1(Jr([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=Jr([a,w.pathnameBase]))}return u}function Fc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=r1(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:w},E)=>{if(y==="*"){let R=f[E]||"";u=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const C=f[E];return w&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function r1(n,e=!1,t=!0){tr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function i1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function s1(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ta(n):n;return{pathname:t?t.startsWith("/")?t:o1(t,e):e,search:u1(r),hash:c1(s)}}function o1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function wf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sp(n){let e=a1(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Tp(n,e,t,r=!1){let s;typeof n=="string"?s=ta(n):(s={...n},at(!s.pathname||!s.pathname.includes("?"),wf("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),wf("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),wf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,f;if(u==null)f=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}f=w>=0?e[w]:"/"}let d=s1(s,f),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),l1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),u1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,c1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function h1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var e0=["POST","PUT","PATCH","DELETE"];new Set(e0);var d1=["GET",...e0];new Set(d1);var na=A.createContext(null);na.displayName="DataRouter";var dh=A.createContext(null);dh.displayName="DataRouterState";var t0=A.createContext({isTransitioning:!1});t0.displayName="ViewTransition";var f1=A.createContext(new Map);f1.displayName="Fetchers";var p1=A.createContext(null);p1.displayName="Await";var nr=A.createContext(null);nr.displayName="Navigation";var Dl=A.createContext(null);Dl.displayName="Location";var rr=A.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Ip=A.createContext(null);Ip.displayName="RouteError";function m1(n,{relative:e}={}){at(ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=A.useContext(nr),{hash:s,pathname:a,search:u}=Nl(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:Jr([t,a])),r.createHref({pathname:f,search:u,hash:s})}function ra(){return A.useContext(Dl)!=null}function Ar(){return at(ra(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Dl).location}var n0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r0(n){A.useContext(nr).static||A.useLayoutEffect(n)}function Cp(){let{isDataRoute:n}=A.useContext(rr);return n?A1():g1()}function g1(){at(ra(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(na),{basename:e,navigator:t}=A.useContext(nr),{matches:r}=A.useContext(rr),{pathname:s}=Ar(),a=JSON.stringify(Sp(r)),u=A.useRef(!1);return r0(()=>{u.current=!0}),A.useCallback((d,p={})=>{if(tr(u.current,n0),!u.current)return;if(typeof d=="number"){t.go(d);return}let y=Tp(d,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Jr([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,a,s,n])}A.createContext(null);function i0(){let{matches:n}=A.useContext(rr),e=n[n.length-1];return e?e.params:{}}function Nl(n,{relative:e}={}){let{matches:t}=A.useContext(rr),{pathname:r}=Ar(),s=JSON.stringify(Sp(t));return A.useMemo(()=>Tp(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function v1(n,e){return s0(n,e)}function s0(n,e,t,r){var D;at(ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=A.useContext(nr),{matches:a}=A.useContext(rr),u=a[a.length-1],f=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";o0(d,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=Ar(),E;if(e){let j=typeof e=="string"?ta(e):e;at(p==="/"||((D=j.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),E=j}else E=w;let C=E.pathname||"/",R=C;if(p!=="/"){let j=p.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=X_(n,{pathname:R});tr(y||k!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),tr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=S1(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Jr([p,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Jr([p,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,t,r);return e&&I?A.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},I):I}function y1(){let n=P1(),e=h1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:s},t):null,u)}var _1=A.createElement(y1,null),w1=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?A.createElement(rr.Provider,{value:this.props.routeContext},A.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E1({routeContext:n,match:e,children:t}){let r=A.useContext(na);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(rr.Provider,{value:n},t)}function S1(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);at(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:y,errors:w}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((d,p,y)=>{let w,E=!1,C=null,R=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,C=p.route.errorElement||_1,u&&(f<0&&y===0?(o0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):f===y&&(E=!0,R=p.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,y+1)),I=()=>{let D;return w?D=C:E?D=R:p.route.Component?D=A.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=d,A.createElement(E1,{match:p,routeContext:{outlet:d,matches:k,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?A.createElement(w1,{location:t.location,revalidation:t.revalidation,component:C,error:w,children:I(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):I()},null)}function Rp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T1(n){let e=A.useContext(na);return at(e,Rp(n)),e}function I1(n){let e=A.useContext(dh);return at(e,Rp(n)),e}function C1(n){let e=A.useContext(rr);return at(e,Rp(n)),e}function Pp(n){let e=C1(n),t=e.matches[e.matches.length-1];return at(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function R1(){return Pp("useRouteId")}function P1(){var r;let n=A.useContext(Ip),e=I1("useRouteError"),t=Pp("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function A1(){let{router:n}=T1("useNavigate"),e=Pp("useNavigate"),t=A.useRef(!1);return r0(()=>{t.current=!0}),A.useCallback(async(s,a={})=>{tr(t.current,n0),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var Xv={};function o0(n,e,t){!e&&!Xv[n]&&(Xv[n]=!0,tr(!1,t))}A.memo(k1);function k1({routes:n,future:e,state:t}){return s0(n,void 0,t,e)}function a0({to:n,replace:e,state:t,relative:r}){at(ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=A.useContext(nr);tr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=A.useContext(rr),{pathname:u}=Ar(),f=Cp(),d=Tp(n,Sp(a),u,r==="path"),p=JSON.stringify(d);return A.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function dn(n){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b1({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){at(!ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=ta(t));let{pathname:d="/",search:p="",hash:y="",state:w=null,key:E="default"}=t,C=A.useMemo(()=>{let R=Hi(d,u);return R==null?null:{location:{pathname:R,search:p,hash:y,state:w,key:E},navigationType:r}},[u,d,p,y,w,E,r]);return tr(C!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:A.createElement(nr.Provider,{value:f},A.createElement(Dl.Provider,{children:e,value:C}))}function x1({children:n,location:e}){return v1(Bf(n),e)}function Bf(n,e=[]){let t=[];return A.Children.forEach(n,(r,s)=>{if(!A.isValidElement(r))return;let a=[...e,s];if(r.type===A.Fragment){t.push.apply(t,Bf(r.props.children,a));return}at(r.type===dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Bf(r.props.children,a)),t.push(u)}),t}var Sc="get",Tc="application/x-www-form-urlencoded";function fh(n){return n!=null&&typeof n.tagName=="string"}function O1(n){return fh(n)&&n.tagName.toLowerCase()==="button"}function D1(n){return fh(n)&&n.tagName.toLowerCase()==="form"}function N1(n){return fh(n)&&n.tagName.toLowerCase()==="input"}function V1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function L1(n,e){return n.button===0&&(!e||e==="_self")&&!V1(n)}var cc=null;function M1(){if(cc===null)try{new FormData(document.createElement("form"),0),cc=!1}catch{cc=!0}return cc}var F1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ef(n){return n!=null&&!F1.has(n)?(tr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):n}function U1(n,e){let t,r,s,a,u;if(D1(n)){let f=n.getAttribute("action");r=f?Hi(f,e):null,t=n.getAttribute("method")||Sc,s=Ef(n.getAttribute("enctype"))||Tc,a=new FormData(n)}else if(O1(n)||N1(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(r=d?Hi(d,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Sc,s=Ef(n.getAttribute("formenctype"))||Ef(f.getAttribute("enctype"))||Tc,a=new FormData(f,n),!M1()){let{name:p,type:y,value:w}=n;if(y==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(fh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sc,r=null,s=Tc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function Ap(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function j1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function z1(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await j1(a,t);return u.links?u.links():[]}return[]}));return q1(r.flat(1).filter($1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Jv(n,e,t,r,s,a){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,f=(d,p)=>{var y;return t[p].pathname!==d.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>u(d,p)||f(d,p)):a==="data"?e.filter((d,p)=>{var w;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function B1(n,e){return H1(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function H1(n){return[...new Set(n)]}function W1(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function q1(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(W1(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function K1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function G1(){let n=A.useContext(na);return Ap(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Q1(){let n=A.useContext(dh);return Ap(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var kp=A.createContext(void 0);kp.displayName="FrameworkContext";function l0(){let n=A.useContext(kp);return Ap(n,"You must render this element inside a <HydratedRouter> element"),n}function Y1(n,e){let t=A.useContext(kp),[r,s]=A.useState(!1),[a,u]=A.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:w}=e,E=A.useRef(null);A.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let k=D=>{D.forEach(j=>{u(j.isIntersecting)})},I=new IntersectionObserver(k,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[n]),A.useEffect(()=>{if(r){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[r]);let C=()=>{s(!0)},R=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:cl(f,C),onBlur:cl(d,R),onMouseEnter:cl(p,C),onMouseLeave:cl(y,R),onTouchStart:cl(w,C)}]:[!1,E,{}]}function cl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function X1({page:n,...e}){let{router:t}=G1(),r=A.useMemo(()=>X_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?A.createElement(Z1,{page:n,matches:r,...e}):null}function J1(n){let{manifest:e,routeModules:t}=l0(),[r,s]=A.useState([]);return A.useEffect(()=>{let a=!1;return z1(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function Z1({page:n,matches:e,...t}){let r=Ar(),{manifest:s,routeModules:a}=l0(),{loaderData:u,matches:f}=Q1(),d=A.useMemo(()=>Jv(n,e,f,s,r,"data"),[n,e,f,s,r]),p=A.useMemo(()=>Jv(n,e,f,s,r,"assets"),[n,e,f,s,r]),y=A.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,R=!1;if(e.forEach(I=>{var j;let D=s.routes[I.route.id];!D||!D.hasLoader||(!d.some(H=>H.route.id===I.route.id)&&I.route.id in u&&((j=a[I.route.id])!=null&&j.shouldRevalidate)||D.hasClientLoader?R=!0:C.add(I.route.id))}),C.size===0)return[];let k=K1(n);return R&&C.size>0&&k.searchParams.set("_routes",e.filter(I=>C.has(I.route.id)).map(I=>I.route.id).join(",")),[k.pathname+k.search]},[u,r,s,d,e,n,a]),w=A.useMemo(()=>B1(p,s),[p,s]),E=J1(p);return A.createElement(A.Fragment,null,y.map(C=>A.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>A.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),E.map(({key:C,link:R})=>A.createElement("link",{key:C,...R})))}function eI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var u0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u0&&(window.__reactRouterVersion="7.1.1")}catch{}function tI({basename:n,children:e,window:t}){let r=A.useRef();r.current==null&&(r.current=BT({window:t,v5Compat:!0}));let s=r.current,[a,u]=A.useState({action:s.action,location:s.location}),f=A.useCallback(d=>{A.startTransition(()=>u(d))},[u]);return A.useLayoutEffect(()=>s.listen(f),[s,f]),A.createElement(b1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var c0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vl=A.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:f,target:d,to:p,preventScrollReset:y,viewTransition:w,...E},C){let{basename:R}=A.useContext(nr),k=typeof p=="string"&&c0.test(p),I,D=!1;if(typeof p=="string"&&k&&(I=p,u0))try{let b=new URL(window.location.href),V=p.startsWith("//")?new URL(b.protocol+p):new URL(p),L=Hi(V.pathname,R);V.origin===b.origin&&L!=null?p=L+V.search+V.hash:D=!0}catch{tr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=m1(p,{relative:s}),[H,X,B]=Y1(r,E),J=sI(p,{replace:u,state:f,target:d,preventScrollReset:y,relative:s,viewTransition:w});function x(b){e&&e(b),b.defaultPrevented||J(b)}let P=A.createElement("a",{...E,...B,href:I||j,onClick:D||a?e:x,ref:eI(C,X),target:d,"data-discover":!k&&t==="render"?"true":void 0});return H&&!k?A.createElement(A.Fragment,null,P,A.createElement(X1,{page:j})):P});Vl.displayName="Link";var nI=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:f,children:d,...p},y){let w=Nl(u,{relative:p.relative}),E=Ar(),C=A.useContext(dh),{navigator:R,basename:k}=A.useContext(nr),I=C!=null&&cI(w)&&f===!0,D=R.encodeLocation?R.encodeLocation(w).pathname:w.pathname,j=E.pathname,H=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(j=j.toLowerCase(),H=H?H.toLowerCase():null,D=D.toLowerCase()),H&&k&&(H=Hi(H,k)||H);const X=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let B=j===D||!s&&j.startsWith(D)&&j.charAt(X)==="/",J=H!=null&&(H===D||!s&&H.startsWith(D)&&H.charAt(D.length)==="/"),x={isActive:B,isPending:J,isTransitioning:I},P=B?e:void 0,b;typeof r=="function"?b=r(x):b=[r,B?"active":null,J?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(x):a;return A.createElement(Vl,{...p,"aria-current":P,className:b,ref:y,style:V,to:u,viewTransition:f},typeof d=="function"?d(x):d)});nI.displayName="NavLink";var rI=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Sc,action:f,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:w,...E},C)=>{let R=lI(),k=uI(f,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",D=typeof f=="string"&&c0.test(f),j=H=>{if(d&&d(H),H.defaultPrevented)return;H.preventDefault();let X=H.nativeEvent.submitter,B=(X==null?void 0:X.getAttribute("formmethod"))||u;R(X||H.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:s,state:a,relative:p,preventScrollReset:y,viewTransition:w})};return A.createElement("form",{ref:C,method:I,action:k,onSubmit:r?d:j,...E,"data-discover":!D&&n==="render"?"true":void 0})});rI.displayName="Form";function iI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h0(n){let e=A.useContext(na);return at(e,iI(n)),e}function sI(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let f=Cp(),d=Ar(),p=Nl(n,{relative:a});return A.useCallback(y=>{if(L1(y,e)){y.preventDefault();let w=t!==void 0?t:Tl(d)===Tl(p);f(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[d,f,p,t,r,e,n,s,a,u])}var oI=0,aI=()=>`__${String(++oI)}__`;function lI(){let{router:n}=h0("useSubmit"),{basename:e}=A.useContext(nr),t=R1();return A.useCallback(async(r,s={})=>{let{action:a,method:u,encType:f,formData:d,body:p}=U1(r,e);if(s.navigate===!1){let y=s.fetcherKey||aI();await n.fetch(y,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function uI(n,{relative:e}={}){let{basename:t}=A.useContext(nr),r=A.useContext(rr);at(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Nl(n||".",{relative:e})},u=Ar();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),d=f.getAll("index");if(d.some(y=>y==="")){f.delete("index"),d.filter(w=>w).forEach(w=>f.append("index",w));let y=f.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Jr([t,a.pathname])),Tl(a)}function cI(n,e={}){let t=A.useContext(t0);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=h0("useViewTransitionState"),s=Nl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Hi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Hi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Fc(s.pathname,u)!=null||Fc(s.pathname,a)!=null}new TextEncoder;var hI=Y_();const dI="modulepreload",fI=function(n){return"/learntrackcenter/"+n},Zv={},Yi=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(t.map(d=>{if(d=fI(d),d in Zv)return;Zv[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":dI,p||(w.as="script"),w.crossOrigin="",w.href=d,f&&w.setAttribute("nonce",f),document.head.appendChild(w),p)return new Promise((E,C)=>{w.addEventListener("load",E),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})};var ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},pI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],f=n[t++],d=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,f=u?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,y=a>>2,w=(a&3)<<4|f>>4;let E=(f&15)<<2|p>>6,C=p&63;d||(C=64,u||(E=64)),r.push(t[y],t[w],t[E],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||f==null||p==null||w==null)throw new mI;const E=a<<2|f>>4;if(r.push(E),p!==64){const C=f<<4&240|p>>2;if(r.push(C),w!==64){const R=p<<6&192|w;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gI=function(n){const e=d0(n);return f0.encodeByteArray(e,!0)},Uc=function(n){return gI(n).replace(/\./g,"")},p0=function(n){try{return f0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=()=>vI().__FIREBASE_DEFAULTS__,_I=()=>{if(typeof process>"u"||typeof ey>"u")return;const n=ey.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&p0(n[1]);return e&&JSON.parse(e)},ph=()=>{try{return yI()||_I()||wI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m0=n=>{var e,t;return(t=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},EI=n=>{const e=m0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},g0=()=>{var n;return(n=ph())===null||n===void 0?void 0:n.config},v0=n=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uc(JSON.stringify(t)),Uc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function II(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function CI(){var n;const e=(n=ph())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kI(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bI(){return!CI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xI(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="FirebaseError";class ai extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DI,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?NI(a,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new ai(s,f,r)}}function NI(n,e){return n.replace(VI,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VI=/\{\$([^}]+)}/g;function LI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(ty(a)&&ty(u)){if(!Bo(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function ty(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function MI(n,e){const t=new FI(n,e);return t.subscribe.bind(t)}class FI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");UI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Sf),s.error===void 0&&(s.error=Sf),s.complete===void 0&&(s.complete=Sf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){return n&&n._delegate?n._delegate:n}class xs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new SI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zI(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$I(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $I(n){return n===Ps?void 0:n}function zI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const HI={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},WI=Le.INFO,qI={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},KI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=qI[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=WI,this._logHandler=KI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const GI=(n,e)=>e.some(t=>n instanceof t);let ny,ry;function QI(){return ny||(ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YI(){return ry||(ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y0=new WeakMap,Hf=new WeakMap,_0=new WeakMap,Tf=new WeakMap,xp=new WeakMap;function XI(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ui(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&y0.set(t,n)}).catch(()=>{}),xp.set(e,n),e}function JI(n){if(Hf.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Hf.set(n,e)}let Wf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Hf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZI(n){Wf=n(Wf)}function eC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(If(this),e,...t);return _0.set(r,e.sort?e.sort():[e]),Ui(r)}:YI().includes(n)?function(...e){return n.apply(If(this),e),Ui(y0.get(this))}:function(...e){return Ui(n.apply(If(this),e))}}function tC(n){return typeof n=="function"?eC(n):(n instanceof IDBTransaction&&JI(n),GI(n,QI())?new Proxy(n,Wf):n)}function Ui(n){if(n instanceof IDBRequest)return XI(n);if(Tf.has(n))return Tf.get(n);const e=tC(n);return e!==n&&(Tf.set(n,e),xp.set(e,n)),e}const If=n=>xp.get(n);function nC(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),f=Ui(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ui(u.result),d.oldVersion,d.newVersion,Ui(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),f.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const rC=["get","getKey","getAll","getAllKeys","count"],iC=["put","add","delete","clear"],Cf=new Map;function iy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=iC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rC.includes(t)))return;const a=async function(u,...f){const d=this.transaction(u,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),s&&d.done]))[0]};return Cf.set(e,a),a}ZI(n=>({...n,get:(e,t,r)=>iy(e,t)||n.get(e,t,r),has:(e,t)=>!!iy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function oC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qf="@firebase/app",sy="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new bp("@firebase/app"),aC="@firebase/app-compat",lC="@firebase/analytics-compat",uC="@firebase/analytics",cC="@firebase/app-check-compat",hC="@firebase/app-check",dC="@firebase/auth",fC="@firebase/auth-compat",pC="@firebase/database",mC="@firebase/data-connect",gC="@firebase/database-compat",vC="@firebase/functions",yC="@firebase/functions-compat",_C="@firebase/installations",wC="@firebase/installations-compat",EC="@firebase/messaging",SC="@firebase/messaging-compat",TC="@firebase/performance",IC="@firebase/performance-compat",CC="@firebase/remote-config",RC="@firebase/remote-config-compat",PC="@firebase/storage",AC="@firebase/storage-compat",kC="@firebase/firestore",bC="@firebase/vertexai",xC="@firebase/firestore-compat",OC="firebase",DC="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",NC={[qf]:"fire-core",[aC]:"fire-core-compat",[uC]:"fire-analytics",[lC]:"fire-analytics-compat",[hC]:"fire-app-check",[cC]:"fire-app-check-compat",[dC]:"fire-auth",[fC]:"fire-auth-compat",[pC]:"fire-rtdb",[mC]:"fire-data-connect",[gC]:"fire-rtdb-compat",[vC]:"fire-fn",[yC]:"fire-fn-compat",[_C]:"fire-iid",[wC]:"fire-iid-compat",[EC]:"fire-fcm",[SC]:"fire-fcm-compat",[TC]:"fire-perf",[IC]:"fire-perf-compat",[CC]:"fire-rc",[RC]:"fire-rc-compat",[PC]:"fire-gcs",[AC]:"fire-gcs-compat",[kC]:"fire-fst",[xC]:"fire-fst-compat",[bC]:"fire-vertex","fire-js":"fire-js",[OC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,VC=new Map,Gf=new Map;function oy(n,e){try{n.container.addComponent(e)}catch(t){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ho(n){const e=n.name;if(Gf.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,n);for(const t of jc.values())oy(t,n);for(const t of VC.values())oy(t,n);return!0}function Op(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new Ll("app","Firebase",LC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=DC;function w0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ji.create("bad-app-name",{appName:String(s)});if(t||(t=g0()),!t)throw ji.create("no-options");const a=jc.get(s);if(a){if(Bo(t,a.options)&&Bo(r,a.config))return a;throw ji.create("duplicate-app",{appName:s})}const u=new BI(s);for(const d of Gf.values())u.addComponent(d);const f=new MC(t,r,u);return jc.set(s,f),f}function E0(n=Kf){const e=jc.get(n);if(!e&&n===Kf&&g0())return w0();if(!e)throw ji.create("no-app",{appName:n});return e}function $i(n,e,t){var r;let s=(r=NC[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(f.join(" "));return}Ho(new xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="firebase-heartbeat-database",UC=1,Il="firebase-heartbeat-store";let Rf=null;function S0(){return Rf||(Rf=nC(FC,UC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Il)}catch(t){console.warn(t)}}}}).catch(n=>{throw ji.create("idb-open",{originalErrorMessage:n.message})})),Rf}async function jC(n){try{const t=(await S0()).transaction(Il),r=await t.objectStore(Il).get(T0(n));return await t.done,r}catch(e){if(e instanceof ai)ti.warn(e.message);else{const t=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(t.message)}}}async function ay(n,e){try{const r=(await S0()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,T0(n)),await r.done}catch(t){if(t instanceof ai)ti.warn(t.message);else{const r=ji.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ti.warn(r.message)}}}function T0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=1024,zC=30*24*60*60*1e3;class BC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ly();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=zC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ly(),{heartbeatsToSend:r,unsentEntries:s}=HC(this._heartbeatsCache.heartbeats),a=Uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ti.warn(t),""}}}function ly(){return new Date().toISOString().substring(0,10)}function HC(n,e=$C){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),uy(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),uy(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class WC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xI()?OI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return ay(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return ay(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function uy(n){return Uc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n){Ho(new xs("platform-logger",e=>new sC(e),"PRIVATE")),Ho(new xs("heartbeat",e=>new BC(e),"PRIVATE")),$i(qf,sy,n),$i(qf,sy,"esm2017"),$i("fire-js","")}qC("");function Dp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KC=I0,C0=new Ll("auth","Firebase",I0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new bp("@firebase/auth");function GC(n,...e){$c.logLevel<=Le.WARN&&$c.warn(`Auth (${ia}): ${n}`,...e)}function Ic(n,...e){$c.logLevel<=Le.ERROR&&$c.error(`Auth (${ia}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(n,...e){throw Vp(n,...e)}function Zn(n,...e){return Vp(n,...e)}function Np(n,e,t){const r=Object.assign(Object.assign({},KC()),{[e]:t});return new Ll("auth","Firebase",r).create(e,{appName:n.name})}function zi(n){return Np(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QC(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cr(n,"argument-error"),Np(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return C0.create(n,...e)}function Ae(n,e,...t){if(!n)throw Vp(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ic(e),new Error(e)}function ni(n,e){n||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function YC(){return cy()==="http:"||cy()==="https:"}function cy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YC()||PI()||"connection"in navigator)?navigator.onLine:!0}function JC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ni(t>e,"Short delay should be less than long delay!"),this.isMobile=II()||AI()}get(){return XC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n,e){ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new Fl(3e4,6e4);function Ul(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ms(n,e,t,r,s={}){return P0(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Ml(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},a);return RI()||(p.referrerPolicy="no-referrer"),R0.fetch()(k0(n,n.config.apiHost,t,f),p)})}async function P0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZC),e);try{const s=new nR(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw hc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hc(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw hc(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw hc(n,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Np(n,y,p);Cr(n,y)}}catch(s){if(s instanceof ai)throw s;Cr(n,"network-request-failed",{message:String(s)})}}async function A0(n,e,t,r,s={}){const a=await Ms(n,e,t,r,s);return"mfaPendingCredential"in a&&Cr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function k0(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Lp(n.config,s):`${n.config.apiScheme}://${s}`}function tR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),eR.get())})}}function hc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Zn(n,e,r);return s.customData._tokenResponse=t,s}function hy(n){return n!==void 0&&n.enterprise!==void 0}class rR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iR(n,e){return Ms(n,"GET","/v2/recaptchaConfig",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(n,e){return Ms(n,"POST","/v1/accounts:delete",e)}async function b0(n,e){return Ms(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oR(n,e=!1){const t=Xt(n),r=await t.getIdToken(e),s=Mp(r);Ae(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:yl(Pf(s.auth_time)),issuedAtTime:yl(Pf(s.iat)),expirationTime:yl(Pf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Pf(n){return Number(n)*1e3}function Mp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const s=p0(t);return s?JSON.parse(s):(Ic("Failed to decode base64 JWT payload"),null)}catch(s){return Ic("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function dy(n){const e=Mp(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ai&&aR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function aR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Cl(n,b0(t,{idToken:r}));Ae(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?x0(a.providerUserInfo):[],f=cR(n.providerData,u),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),y=d?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Yf(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function uR(n){const e=Xt(n);await zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function x0(n){return n.map(e=>{var{providerId:t}=e,r=Dp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(n,e){const t=await P0(n,{},async()=>{const r=Ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=k0(n,s,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",R0.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dR(n,e){return Ms(n,"POST","/v2/accounts:revokeToken",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=dy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await hR(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Fo;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ae(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return oR(this,e)}reload(){return uR(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await Cl(this,sR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,f,d,p,y;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,k=(f=t.tenantId)!==null&&f!==void 0?f:void 0,I=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,j=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:X,isAnonymous:B,providerData:J,stsTokenManager:x}=t;Ae(H&&x,e,"internal-error");const P=Fo.fromJSON(this.name,x);Ae(typeof H=="string",e,"internal-error"),Ni(w,e.name),Ni(E,e.name),Ae(typeof X=="boolean",e,"internal-error"),Ae(typeof B=="boolean",e,"internal-error"),Ni(C,e.name),Ni(R,e.name),Ni(k,e.name),Ni(I,e.name),Ni(D,e.name),Ni(j,e.name);const b=new Qr({uid:H,auth:e,email:E,emailVerified:X,displayName:w,isAnonymous:B,photoURL:R,phoneNumber:C,tenantId:k,stsTokenManager:P,createdAt:D,lastLoginAt:j});return J&&Array.isArray(J)&&(b.providerData=J.map(V=>Object.assign({},V))),I&&(b._redirectEventId=I),b}static async _fromIdTokenResponse(e,t,r=!1){const s=new Fo;s.updateFromServerResponse(t);const a=new Qr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ae(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?x0(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),f=new Fo;f.updateFromIdToken(r);const d=new Qr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map;function Yr(n){ni(n instanceof Function,"Expected a class definition");let e=fy.get(n);return e?(ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}O0.type="NONE";const py=O0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n,e,t){return`firebase:${n}:${e}:${t}`}class Uo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Cc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Cc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Uo(Yr(py),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Yr(py);const u=Cc(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const y=await p._get(u);if(y){const w=Qr._fromJSON(e,y);p!==a&&(f=w),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Uo(a,e,r):(a=d[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Uo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F0(e))return"Blackberry";if(U0(e))return"Webos";if(N0(e))return"Safari";if((e.includes("chrome/")||V0(e))&&!e.includes("edge/"))return"Chrome";if(M0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function D0(n=Yt()){return/firefox\//i.test(n)}function N0(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V0(n=Yt()){return/crios\//i.test(n)}function L0(n=Yt()){return/iemobile/i.test(n)}function M0(n=Yt()){return/android/i.test(n)}function F0(n=Yt()){return/blackberry/i.test(n)}function U0(n=Yt()){return/webos/i.test(n)}function Fp(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fR(n=Yt()){var e;return Fp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pR(){return kI()&&document.documentMode===10}function j0(n=Yt()){return Fp(n)||M0(n)||U0(n)||F0(n)||/windows phone/i.test(n)||L0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n,e=[]){let t;switch(n){case"Browser":t=my(Yt());break;case"Worker":t=`${my(Yt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const d=e(a);u(d)}catch(d){f(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(n,e={}){return Ms(n,"GET","/v2/passwordPolicy",Ul(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=6;class yR{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:vR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gy(this),this.idTokenSubscription=new gy(this),this.beforeStateQueue=new mR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await b0(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(zi(this));const t=e?Xt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gR(this),t=new yR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await dR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&GC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Fs(n){return Xt(n)}class gy{constructor(e){this.auth=e,this.observer=null,this.addObserver=MI(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wR(n){mh=n}function z0(n){return mh.loadJS(n)}function ER(){return mh.recaptchaEnterpriseScript}function SR(){return mh.gapiScript}function TR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class IR{constructor(){this.enterprise=new CR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const RR="recaptcha-enterprise",B0="NO_RECAPTCHA";class PR{constructor(e){this.type=RR,this.auth=Fs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{iR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new rR(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(d=>{f(d)})})}function s(a,u,f){const d=window.grecaptcha;hy(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(B0)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(f=>{if(!t&&hy(window.grecaptcha))s(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=ER();d.length!==0&&(d+=f),z0(d).then(()=>{s(f,a,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function vy(n,e,t,r=!1,s=!1){const a=new PR(n);let u;if(s)u=B0;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f=Object.assign({},e);return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function AR(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await vy(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await vy(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n,e){const t=Op(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Bo(a,e??{}))return s;Cr(s,"already-initialized")}return t.initialize({options:e})}function bR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Yr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xR(n,e,t){const r=Fs(n);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=H0(e),{host:u,port:f}=OR(e),d=f===null?"":`:${f}`;r.config.emulator={url:`${a}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),DR()}function H0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OR(n){const e=H0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:yy(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:yy(u)}}}function yy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n,e){return A0(n,"POST","/v1/accounts:signInWithIdp",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="http://localhost";class Os extends W0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Dp(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Os(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return jo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,jo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jo(e,t)}buildRequest(){const e={requestUri:NR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ml(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends jl{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Os._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Kr.credential(t,r)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends jl{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends jl{constructor(){super("twitter.com")}static credential(e,t){return Os._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e){return A0(n,"POST","/v1/accounts:signUp",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Qr._fromIdTokenResponse(e,r,s),u=_y(r);return new Ds({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=_y(r);return new Ds({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function _y(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends ai{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Bc(e,t,r,s)}}function q0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(n,a,e,r):a})}async function LR(n,e,t=!1){const r=await Cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ds._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(n,e,t=!1){const{auth:r}=n;if(wr(r.app))return Promise.reject(zi(r));const s="reauthenticate";try{const a=await Cl(n,q0(r,s,e,n),t);Ae(a.idToken,r,"internal-error");const u=Mp(a.idToken);Ae(u,r,"internal-error");const{sub:f}=u;return Ae(n.uid===f,r,"user-mismatch"),Ds._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Cr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(n,e,t=!1){if(wr(n.app))return Promise.reject(zi(n));const r="signIn",s=await q0(n,r,e),a=await Ds._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(n){const e=Fs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c2(n,e,t){if(wr(n.app))return Promise.reject(zi(n));const r=Fs(n),u=await AR(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VR).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&UR(n),d}),f=await Ds._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function jR(n,e,t,r){return Xt(n).onIdTokenChanged(e,t,r)}function $R(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function zR(n,e,t,r){return Xt(n).onAuthStateChanged(e,t,r)}function h2(n){return Xt(n).signOut()}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=1e3,HR=10;class G0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);pR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,HR):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}G0.type="LOCAL";const WR=G0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Q0.type="SESSION";const Y0=Q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async p=>p(t.origin,a)),d=await qR(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((f,d)=>{const p=jp("",20);s.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(E.data.response);break;default:clearTimeout(y),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function GR(n){Er().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function QR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function XR(){return X0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="firebaseLocalStorageDb",JR=1,Wc="firebaseLocalStorage",Z0="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vh(n,e){return n.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function ZR(){const n=indexedDB.deleteDatabase(J0);return new $l(n).toPromise()}function Xf(){const n=indexedDB.open(J0,JR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Wc,{keyPath:Z0})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Wc)?e(r):(r.close(),await ZR(),e(await Xf()))})})}async function wy(n,e,t){const r=vh(n,!0).put({[Z0]:e,value:t});return new $l(r).toPromise()}async function eP(n,e){const t=vh(n,!1).get(e),r=await new $l(t).toPromise();return r===void 0?null:r.value}function Ey(n,e){const t=vh(n,!0).delete(e);return new $l(t).toPromise()}const tP=800,nP=3;class ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>nP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(XR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await QR(),!this.activeServiceWorker)return;this.sender=new KR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xf();return await wy(e,Hc,"1"),await Ey(e,Hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>wy(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>eP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ey(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=vh(s,!1).getAll();return new $l(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ew.type="LOCAL";const rP=ew;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n,e){return e?Yr(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends W0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iP(n){return FR(n.auth,new $p(n),n.bypassAuthState)}function sP(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),MR(t,new $p(n),n.bypassAuthState)}async function oP(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),LR(t,new $p(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iP;case"linkViaPopup":case"linkViaRedirect":return oP;case"reauthViaPopup":case"reauthViaRedirect":return sP;default:Cr(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new Fl(2e3,1e4);async function d2(n,e,t){if(wr(n.app))return Promise.reject(Zn(n,"operation-not-supported-in-this-environment"));const r=Fs(n);QC(n,e,Up);const s=tw(r,t);return new As(r,"signInViaPopup",e,s).executeNotNull()}class As extends nw{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aP.get())};e()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="pendingRedirect",Rc=new Map;class uP extends nw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const r=await cP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cP(n,e){const t=fP(e),r=dP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function hP(n,e){Rc.set(n._key(),e)}function dP(n){return Yr(n._redirectPersistence)}function fP(n){return Cc(lP,n.config.apiKey,n.name)}async function pP(n,e,t=!1){if(wr(n.app))return Promise.reject(zi(n));const r=Fs(n),s=tw(r,e),u=await new uP(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=10*60*1e3;class gP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!rw(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Zn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sy(e))}saveEventToCache(e){this.cachedEventUids.add(Sy(e)),this.lastProcessedEventTime=Date.now()}}function Sy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(n,e={}){return Ms(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wP=/^https?/;async function EP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yP(n);for(const t of e)try{if(SP(t))return}catch{}Cr(n,"unauthorized-domain")}function SP(n){const e=Qf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!wP.test(t))return!1;if(_P.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new Fl(3e4,6e4);function Ty(){const n=Er().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IP(n){return new Promise((e,t)=>{var r,s,a;function u(){Ty(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ty(),t(Zn(n,"network-request-failed"))},timeout:TP.get()})}if(!((s=(r=Er().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Er().gapi)===null||a===void 0)&&a.load)u();else{const f=TR("iframefcb");return Er()[f]=()=>{gapi.load?u():t(Zn(n,"network-request-failed"))},z0(`${SR()}?onload=${f}`).catch(d=>t(d))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function CP(n){return Pc=Pc||IP(n),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new Fl(5e3,15e3),PP="__/auth/iframe",AP="emulator/auth/iframe",kP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xP(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lp(e,AP):`https://${n.config.authDomain}/${PP}`,r={apiKey:e.apiKey,appName:n.name,v:ia},s=bP.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ml(r).slice(1)}`}async function OP(n){const e=await CP(n),t=Er().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:xP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kP,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Zn(n,"network-request-failed"),f=Er().setTimeout(()=>{a(u)},RP.get());function d(){Er().clearTimeout(f),s(r)}r.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NP=500,VP=600,LP="_blank",MP="http://localhost";class Iy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FP(n,e,t,r=NP,s=VP){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},DP),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Yt().toLowerCase();t&&(f=V0(p)?LP:t),D0(p)&&(e=e||MP,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[C,R])=>`${E}${C}=${R},`,"");if(fR(p)&&f!=="_self")return UP(e||"",f),new Iy(null);const w=window.open(e||"",f,y);Ae(w,n,"popup-blocked");try{w.focus()}catch{}return new Iy(w)}function UP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="__/auth/handler",$P="emulator/auth/handler",zP=encodeURIComponent("fac");async function Cy(n,e,t,r,s,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ia,eventId:s};if(e instanceof Up){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",LI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof jl){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const d=await n._getAppCheckToken(),p=d?`#${zP}=${encodeURIComponent(d)}`:"";return`${BP(n)}?${Ml(f).slice(1)}${p}`}function BP({config:n}){return n.emulator?Lp(n,$P):`https://${n.authDomain}/${jP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="webStorageSupport";class HP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y0,this._completeRedirectFn=pP,this._overrideRedirectResult=hP}async _openPopup(e,t,r,s){var a;ni((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Cy(e,t,r,Qf(),s);return FP(e,u,jp())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Cy(e,t,r,Qf(),s);return GR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ni(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await OP(e),r=new gP(e);return t.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Af,{type:Af},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Af];u!==void 0&&t(!!u),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j0()||N0()||Fp()}}const WP=HP;var Ry="@firebase/auth",Py="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GP(n){Ho(new xs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$0(n)},p=new _R(r,s,a,d);return bR(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ho(new xs("auth-internal",e=>{const t=Fs(e.getProvider("auth").getImmediate());return(r=>new qP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(Ry,Py,KP(n)),$i(Ry,Py,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=5*60,YP=v0("authIdTokenMaxAge")||QP;let Ay=null;const XP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YP)return;const s=t==null?void 0:t.token;Ay!==s&&(Ay=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function JP(n=E0()){const e=Op(n,"auth");if(e.isInitialized())return e.getImmediate();const t=kR(n,{popupRedirectResolver:WP,persistence:[rP,WR,Y0]}),r=v0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=XP(a.toString());$R(t,u,()=>u(t.currentUser)),jR(t,f=>u(f))}}const s=m0("auth");return s&&xR(t,`http://${s}`),t}function ZP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}wR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Zn("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",ZP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GP("Browser");var eA="firebase",tA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(eA,tA,"app");var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,iw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,P){function b(){}b.prototype=P.prototype,x.D=P.prototype,x.prototype=new b,x.prototype.constructor=x,x.C=function(V,L,$){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return P.prototype[L].apply(V,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,P,b){b||(b=0);var V=Array(16);if(typeof P=="string")for(var L=0;16>L;++L)V[L]=P.charCodeAt(b++)|P.charCodeAt(b++)<<8|P.charCodeAt(b++)<<16|P.charCodeAt(b++)<<24;else for(L=0;16>L;++L)V[L]=P[b++]|P[b++]<<8|P[b++]<<16|P[b++]<<24;P=x.g[0],b=x.g[1],L=x.g[2];var $=x.g[3],N=P+($^b&(L^$))+V[0]+3614090360&4294967295;P=b+(N<<7&4294967295|N>>>25),N=$+(L^P&(b^L))+V[1]+3905402710&4294967295,$=P+(N<<12&4294967295|N>>>20),N=L+(b^$&(P^b))+V[2]+606105819&4294967295,L=$+(N<<17&4294967295|N>>>15),N=b+(P^L&($^P))+V[3]+3250441966&4294967295,b=L+(N<<22&4294967295|N>>>10),N=P+($^b&(L^$))+V[4]+4118548399&4294967295,P=b+(N<<7&4294967295|N>>>25),N=$+(L^P&(b^L))+V[5]+1200080426&4294967295,$=P+(N<<12&4294967295|N>>>20),N=L+(b^$&(P^b))+V[6]+2821735955&4294967295,L=$+(N<<17&4294967295|N>>>15),N=b+(P^L&($^P))+V[7]+4249261313&4294967295,b=L+(N<<22&4294967295|N>>>10),N=P+($^b&(L^$))+V[8]+1770035416&4294967295,P=b+(N<<7&4294967295|N>>>25),N=$+(L^P&(b^L))+V[9]+2336552879&4294967295,$=P+(N<<12&4294967295|N>>>20),N=L+(b^$&(P^b))+V[10]+4294925233&4294967295,L=$+(N<<17&4294967295|N>>>15),N=b+(P^L&($^P))+V[11]+2304563134&4294967295,b=L+(N<<22&4294967295|N>>>10),N=P+($^b&(L^$))+V[12]+1804603682&4294967295,P=b+(N<<7&4294967295|N>>>25),N=$+(L^P&(b^L))+V[13]+4254626195&4294967295,$=P+(N<<12&4294967295|N>>>20),N=L+(b^$&(P^b))+V[14]+2792965006&4294967295,L=$+(N<<17&4294967295|N>>>15),N=b+(P^L&($^P))+V[15]+1236535329&4294967295,b=L+(N<<22&4294967295|N>>>10),N=P+(L^$&(b^L))+V[1]+4129170786&4294967295,P=b+(N<<5&4294967295|N>>>27),N=$+(b^L&(P^b))+V[6]+3225465664&4294967295,$=P+(N<<9&4294967295|N>>>23),N=L+(P^b&($^P))+V[11]+643717713&4294967295,L=$+(N<<14&4294967295|N>>>18),N=b+($^P&(L^$))+V[0]+3921069994&4294967295,b=L+(N<<20&4294967295|N>>>12),N=P+(L^$&(b^L))+V[5]+3593408605&4294967295,P=b+(N<<5&4294967295|N>>>27),N=$+(b^L&(P^b))+V[10]+38016083&4294967295,$=P+(N<<9&4294967295|N>>>23),N=L+(P^b&($^P))+V[15]+3634488961&4294967295,L=$+(N<<14&4294967295|N>>>18),N=b+($^P&(L^$))+V[4]+3889429448&4294967295,b=L+(N<<20&4294967295|N>>>12),N=P+(L^$&(b^L))+V[9]+568446438&4294967295,P=b+(N<<5&4294967295|N>>>27),N=$+(b^L&(P^b))+V[14]+3275163606&4294967295,$=P+(N<<9&4294967295|N>>>23),N=L+(P^b&($^P))+V[3]+4107603335&4294967295,L=$+(N<<14&4294967295|N>>>18),N=b+($^P&(L^$))+V[8]+1163531501&4294967295,b=L+(N<<20&4294967295|N>>>12),N=P+(L^$&(b^L))+V[13]+2850285829&4294967295,P=b+(N<<5&4294967295|N>>>27),N=$+(b^L&(P^b))+V[2]+4243563512&4294967295,$=P+(N<<9&4294967295|N>>>23),N=L+(P^b&($^P))+V[7]+1735328473&4294967295,L=$+(N<<14&4294967295|N>>>18),N=b+($^P&(L^$))+V[12]+2368359562&4294967295,b=L+(N<<20&4294967295|N>>>12),N=P+(b^L^$)+V[5]+4294588738&4294967295,P=b+(N<<4&4294967295|N>>>28),N=$+(P^b^L)+V[8]+2272392833&4294967295,$=P+(N<<11&4294967295|N>>>21),N=L+($^P^b)+V[11]+1839030562&4294967295,L=$+(N<<16&4294967295|N>>>16),N=b+(L^$^P)+V[14]+4259657740&4294967295,b=L+(N<<23&4294967295|N>>>9),N=P+(b^L^$)+V[1]+2763975236&4294967295,P=b+(N<<4&4294967295|N>>>28),N=$+(P^b^L)+V[4]+1272893353&4294967295,$=P+(N<<11&4294967295|N>>>21),N=L+($^P^b)+V[7]+4139469664&4294967295,L=$+(N<<16&4294967295|N>>>16),N=b+(L^$^P)+V[10]+3200236656&4294967295,b=L+(N<<23&4294967295|N>>>9),N=P+(b^L^$)+V[13]+681279174&4294967295,P=b+(N<<4&4294967295|N>>>28),N=$+(P^b^L)+V[0]+3936430074&4294967295,$=P+(N<<11&4294967295|N>>>21),N=L+($^P^b)+V[3]+3572445317&4294967295,L=$+(N<<16&4294967295|N>>>16),N=b+(L^$^P)+V[6]+76029189&4294967295,b=L+(N<<23&4294967295|N>>>9),N=P+(b^L^$)+V[9]+3654602809&4294967295,P=b+(N<<4&4294967295|N>>>28),N=$+(P^b^L)+V[12]+3873151461&4294967295,$=P+(N<<11&4294967295|N>>>21),N=L+($^P^b)+V[15]+530742520&4294967295,L=$+(N<<16&4294967295|N>>>16),N=b+(L^$^P)+V[2]+3299628645&4294967295,b=L+(N<<23&4294967295|N>>>9),N=P+(L^(b|~$))+V[0]+4096336452&4294967295,P=b+(N<<6&4294967295|N>>>26),N=$+(b^(P|~L))+V[7]+1126891415&4294967295,$=P+(N<<10&4294967295|N>>>22),N=L+(P^($|~b))+V[14]+2878612391&4294967295,L=$+(N<<15&4294967295|N>>>17),N=b+($^(L|~P))+V[5]+4237533241&4294967295,b=L+(N<<21&4294967295|N>>>11),N=P+(L^(b|~$))+V[12]+1700485571&4294967295,P=b+(N<<6&4294967295|N>>>26),N=$+(b^(P|~L))+V[3]+2399980690&4294967295,$=P+(N<<10&4294967295|N>>>22),N=L+(P^($|~b))+V[10]+4293915773&4294967295,L=$+(N<<15&4294967295|N>>>17),N=b+($^(L|~P))+V[1]+2240044497&4294967295,b=L+(N<<21&4294967295|N>>>11),N=P+(L^(b|~$))+V[8]+1873313359&4294967295,P=b+(N<<6&4294967295|N>>>26),N=$+(b^(P|~L))+V[15]+4264355552&4294967295,$=P+(N<<10&4294967295|N>>>22),N=L+(P^($|~b))+V[6]+2734768916&4294967295,L=$+(N<<15&4294967295|N>>>17),N=b+($^(L|~P))+V[13]+1309151649&4294967295,b=L+(N<<21&4294967295|N>>>11),N=P+(L^(b|~$))+V[4]+4149444226&4294967295,P=b+(N<<6&4294967295|N>>>26),N=$+(b^(P|~L))+V[11]+3174756917&4294967295,$=P+(N<<10&4294967295|N>>>22),N=L+(P^($|~b))+V[2]+718787259&4294967295,L=$+(N<<15&4294967295|N>>>17),N=b+($^(L|~P))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+P&4294967295,x.g[1]=x.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+$&4294967295}r.prototype.u=function(x,P){P===void 0&&(P=x.length);for(var b=P-this.blockSize,V=this.B,L=this.h,$=0;$<P;){if(L==0)for(;$<=b;)s(this,x,$),$+=this.blockSize;if(typeof x=="string"){for(;$<P;)if(V[L++]=x.charCodeAt($++),L==this.blockSize){s(this,V),L=0;break}}else for(;$<P;)if(V[L++]=x[$++],L==this.blockSize){s(this,V),L=0;break}}this.h=L,this.o+=P},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var P=1;P<x.length-8;++P)x[P]=0;var b=8*this.o;for(P=x.length-8;P<x.length;++P)x[P]=b&255,b/=256;for(this.u(x),x=Array(16),P=b=0;4>P;++P)for(var V=0;32>V;V+=8)x[b++]=this.g[P]>>>V&255;return x};function a(x,P){var b=f;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=P(x)}function u(x,P){this.h=P;for(var b=[],V=!0,L=x.length-1;0<=L;L--){var $=x[L]|0;V&&$==P||(b[L]=$,V=!1)}this.g=b}var f={};function d(x){return-128<=x&&128>x?a(x,function(P){return new u([P|0],0>P?-1:0)}):new u([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return I(p(-x));for(var P=[],b=1,V=0;x>=b;V++)P[V]=x/b|0,b*=4294967296;return new u(P,0)}function y(x,P){if(x.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x.charAt(0)=="-")return I(y(x.substring(1),P));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(P,8)),V=w,L=0;L<x.length;L+=8){var $=Math.min(8,x.length-L),N=parseInt(x.substring(L,L+$),P);8>$?($=p(Math.pow(P,$)),V=V.j($).add(p(N))):(V=V.j(b),V=V.add(p(N)))}return V}var w=d(0),E=d(1),C=d(16777216);n=u.prototype,n.m=function(){if(k(this))return-I(this).m();for(var x=0,P=1,b=0;b<this.g.length;b++){var V=this.i(b);x+=(0<=V?V:4294967296+V)*P,P*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R(this))return"0";if(k(this))return"-"+I(this).toString(x);for(var P=p(Math.pow(x,6)),b=this,V="";;){var L=X(b,P).g;b=D(b,L.j(P));var $=((0<b.g.length?b.g[0]:b.h)>>>0).toString(x);if(b=L,R(b))return $+V;for(;6>$.length;)$="0"+$;V=$+V}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function R(x){if(x.h!=0)return!1;for(var P=0;P<x.g.length;P++)if(x.g[P]!=0)return!1;return!0}function k(x){return x.h==-1}n.l=function(x){return x=D(this,x),k(x)?-1:R(x)?0:1};function I(x){for(var P=x.g.length,b=[],V=0;V<P;V++)b[V]=~x.g[V];return new u(b,~x.h).add(E)}n.abs=function(){return k(this)?I(this):this},n.add=function(x){for(var P=Math.max(this.g.length,x.g.length),b=[],V=0,L=0;L<=P;L++){var $=V+(this.i(L)&65535)+(x.i(L)&65535),N=($>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);V=N>>>16,$&=65535,N&=65535,b[L]=N<<16|$}return new u(b,b[b.length-1]&-2147483648?-1:0)};function D(x,P){return x.add(I(P))}n.j=function(x){if(R(this)||R(x))return w;if(k(this))return k(x)?I(this).j(I(x)):I(I(this).j(x));if(k(x))return I(this.j(I(x)));if(0>this.l(C)&&0>x.l(C))return p(this.m()*x.m());for(var P=this.g.length+x.g.length,b=[],V=0;V<2*P;V++)b[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<x.g.length;L++){var $=this.i(V)>>>16,N=this.i(V)&65535,We=x.i(L)>>>16,Fe=x.i(L)&65535;b[2*V+2*L]+=N*Fe,j(b,2*V+2*L),b[2*V+2*L+1]+=$*Fe,j(b,2*V+2*L+1),b[2*V+2*L+1]+=N*We,j(b,2*V+2*L+1),b[2*V+2*L+2]+=$*We,j(b,2*V+2*L+2)}for(V=0;V<P;V++)b[V]=b[2*V+1]<<16|b[2*V];for(V=P;V<2*P;V++)b[V]=0;return new u(b,0)};function j(x,P){for(;(x[P]&65535)!=x[P];)x[P+1]+=x[P]>>>16,x[P]&=65535,P++}function H(x,P){this.g=x,this.h=P}function X(x,P){if(R(P))throw Error("division by zero");if(R(x))return new H(w,w);if(k(x))return P=X(I(x),P),new H(I(P.g),I(P.h));if(k(P))return P=X(x,I(P)),new H(I(P.g),P.h);if(30<x.g.length){if(k(x)||k(P))throw Error("slowDivide_ only works with positive integers.");for(var b=E,V=P;0>=V.l(x);)b=B(b),V=B(V);var L=J(b,1),$=J(V,1);for(V=J(V,2),b=J(b,2);!R(V);){var N=$.add(V);0>=N.l(x)&&(L=L.add(b),$=N),V=J(V,1),b=J(b,1)}return P=D(x,L.j(P)),new H(L,P)}for(L=w;0<=x.l(P);){for(b=Math.max(1,Math.floor(x.m()/P.m())),V=Math.ceil(Math.log(b)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),$=p(b),N=$.j(P);k(N)||0<N.l(x);)b-=V,$=p(b),N=$.j(P);R($)&&($=E),L=L.add($),x=D(x,N)}return new H(L,x)}n.A=function(x){return X(this,x).h},n.and=function(x){for(var P=Math.max(this.g.length,x.g.length),b=[],V=0;V<P;V++)b[V]=this.i(V)&x.i(V);return new u(b,this.h&x.h)},n.or=function(x){for(var P=Math.max(this.g.length,x.g.length),b=[],V=0;V<P;V++)b[V]=this.i(V)|x.i(V);return new u(b,this.h|x.h)},n.xor=function(x){for(var P=Math.max(this.g.length,x.g.length),b=[],V=0;V<P;V++)b[V]=this.i(V)^x.i(V);return new u(b,this.h^x.h)};function B(x){for(var P=x.g.length+1,b=[],V=0;V<P;V++)b[V]=x.i(V)<<1|x.i(V-1)>>>31;return new u(b,x.h)}function J(x,P){var b=P>>5;P%=32;for(var V=x.g.length-b,L=[],$=0;$<V;$++)L[$]=0<P?x.i($+b)>>>P|x.i($+b+1)<<32-P:x.i($+b);return new u(L,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,bs=u}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sw,fl,ow,Ac,Jf,aw,lw,uw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var W=c[T];if(!(W in _))break e;_=_[W]}c=c[c.length-1],T=_[c],g=g(T),g!=T&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,T=!1,W={next:function(){if(!T&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,T),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,E.apply(null,arguments)}function C(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function R(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(T,W,Q){for(var oe=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)oe[Xe-2]=arguments[Xe];return g.prototype[W].apply(T,oe)}}function k(c){const g=c.length;if(0<g){const _=Array(g);for(let T=0;T<g;T++)_[T]=c[T];return _}return[]}function I(c,g){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(d(T)){const W=c.length||0,Q=T.length||0;c.length=W+Q;for(let oe=0;oe<Q;oe++)c[W+oe]=T[oe]}else c.push(T)}}class D{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function j(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var B=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function J(c,g,_){for(const T in c)g.call(_,c[T],T,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function P(c){const g={};for(const _ in c)g[_]=c[_];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let _,T;for(let W=1;W<arguments.length;W++){T=arguments[W];for(_ in T)c[_]=T[_];for(let Q=0;Q<b.length;Q++)_=b[Q],Object.prototype.hasOwnProperty.call(T,_)&&(c[_]=T[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function $(c){f.setTimeout(()=>{throw c},0)}function N(){var c=fe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class We{constructor(){this.h=this.g=null}add(g,_){const T=Fe.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Fe=new D(()=>new Ve,c=>c.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let De,ie=!1,fe=new We,ae=()=>{const c=f.Promise.resolve(void 0);De=()=>{c.then(z)}};var z=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){$(_)}var g=Fe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c}();function Ie(c,g){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(B){e:{try{X(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}R(Ie,le);var Pe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),xe=0;function qe(c,g,_,T,W){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=W,this.key=++xe,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pn(c){this.src=c,this.g={},this.h=0}Pn.prototype.add=function(c,g,_,T,W){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=ir(c,g,T,W);return-1<oe?(g=c[oe],_||(g.fa=!1)):(g=new qe(g,this.src,Q,!!T,W),g.fa=_,c.push(g)),g};function kr(c,g){var _=g.type;if(_ in c.g){var T=c.g[_],W=Array.prototype.indexOf.call(T,g,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(T,W,1),Q&&(gt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ir(c,g,_,T){for(var W=0;W<c.length;++W){var Q=c[W];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==T)return W}return-1}var sr="closure_lm_"+(1e6*Math.random()|0),ui={};function pa(c,g,_,T,W){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)pa(c,g[Q],_,T,W);return null}return _=va(_),c&&c[Oe]?c.K(g,_,p(T)?!!T.capture:!!T,W):ma(c,g,_,!1,T,W)}function ma(c,g,_,T,W,Q){if(!g)throw Error("Invalid event type");var oe=p(W)?!!W.capture:!!W,Xe=Bs(c);if(Xe||(c[sr]=Xe=new Pn(c)),_=Xe.add(g,_,T,oe,Q),_.proxy)return _;if(T=Gl(),_.proxy=T,T.src=c,T.listener=_,c.addEventListener)Te||(W=oe),W===void 0&&(W=!1),c.addEventListener(g.toString(),T,W);else if(c.attachEvent)c.attachEvent(xr(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gl(){function c(_){return g.call(c.src,c.listener,_)}const g=ga;return c}function zs(c,g,_,T,W){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)zs(c,g[Q],_,T,W);else T=p(T)?!!T.capture:!!T,_=va(_),c&&c[Oe]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=ir(Q,_,T,W),-1<_&&(gt(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=Bs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ir(g,_,T,W)),(_=-1<c?g[c]:null)&&br(_))}function br(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Oe])kr(g.i,c);else{var _=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(_,T,c.capture):g.detachEvent?g.detachEvent(xr(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=Bs(g))?(kr(_,c),_.h==0&&(_.src=null,g[sr]=null)):gt(c)}}}function xr(c){return c in ui?ui[c]:ui[c]="on"+c}function ga(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var _=c.listener,T=c.ha||c.src;c.fa&&br(c),c=_.call(T,g)}return c}function Bs(c){return c=c[sr],c instanceof Pn?c:null}var Hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function va(c){return typeof c=="function"?c:(c[Hs]||(c[Hs]=function(g){return c.handleEvent(g)}),c[Hs])}function Et(){Y.call(this),this.i=new Pn(this),this.M=this,this.F=null}R(Et,Y),Et.prototype[Oe]=!0,Et.prototype.removeEventListener=function(c,g,_,T){zs(this,c,g,_,T)};function St(c,g){var _,T=c.F;if(T)for(_=[];T;T=T.F)_.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new le(g,c);else if(g instanceof le)g.target=g.target||c;else{var W=g;g=new le(T,c),V(g,W)}if(W=!0,_)for(var Q=_.length-1;0<=Q;Q--){var oe=g.g=_[Q];W=Or(oe,T,!0,g)&&W}if(oe=g.g=c,W=Or(oe,T,!0,g)&&W,W=Or(oe,T,!1,g)&&W,_)for(Q=0;Q<_.length;Q++)oe=g.g=_[Q],W=Or(oe,T,!1,g)&&W}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],T=0;T<_.length;T++)gt(_[T]);delete c.g[g],c.h--}}this.F=null},Et.prototype.K=function(c,g,_,T){return this.i.add(String(c),g,!1,_,T)},Et.prototype.L=function(c,g,_,T){return this.i.add(String(c),g,!0,_,T)};function Or(c,g,_,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,Q=0;Q<g.length;++Q){var oe=g[Q];if(oe&&!oe.da&&oe.capture==_){var Xe=oe.listener,Tt=oe.ha||oe.src;oe.fa&&kr(c.i,oe),W=Xe.call(Tt,T)!==!1&&W}}return W&&!T.defaultPrevented}function ya(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function ci(c){c.g=ya(()=>{c.g=null,c.i&&(c.i=!1,ci(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class es extends Y{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ci(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){Y.call(this),this.h=c,this.g={}}R(ts,Y);var _a=[];function wa(c){J(c.g,function(g,_){this.g.hasOwnProperty(_)&&br(g)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),wa(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=f.JSON.stringify,Sa=f.JSON.parse,Ta=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ns(){}ns.prototype.h=null;function Ws(c){return c.h||(c.h=c.i())}function qs(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function or(){le.call(this,"d")}R(or,le);function Ks(){le.call(this,"c")}R(Ks,le);var ar={},Ia=null;function rs(){return Ia=Ia||new Et}ar.La="serverreachability";function Ca(c){le.call(this,ar.La,c)}R(Ca,le);function Dr(c){const g=rs();St(g,new Ca(g))}ar.STAT_EVENT="statevent";function Ra(c,g){le.call(this,ar.STAT_EVENT,c),this.stat=g}R(Ra,le);function ft(c){const g=rs();St(g,new Ra(g,c))}ar.Ma="timingevent";function Gs(c,g){le.call(this,ar.Ma,c),this.size=g}R(Gs,le);function Fn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function ss(c,g,_,T,W,Q){c.info(function(){if(c.g)if(Q)for(var oe="",Xe=Q.split("&"),Tt=0;Tt<Xe.length;Tt++){var $e=Xe[Tt].split("=");if(1<$e.length){var kt=$e[0];$e=$e[1];var vt=kt.split("_");oe=2<=vt.length&&vt[1]=="type"?oe+(kt+"="+$e+"&"):oe+(kt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+T+") [attempt "+W+"]: "+g+`
`+_+`
`+oe})}function Qs(c,g,_,T,W,Q,oe){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+W+"]: "+g+`
`+_+`
`+Q+" "+oe})}function Un(c,g,_,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+zh(c,_)+(T?" "+T:"")})}function Pa(c,g){c.info(function(){return"TIMEOUT: "+g})}is.prototype.info=function(){};function zh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var T=_[c];if(!(2>T.length)){var W=T[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<W.length;oe++)W[oe]=""}}}}return Ea(_)}catch{return g}}var Ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ql={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function os(){}R(os,ns),os.prototype.g=function(){return new XMLHttpRequest},os.prototype.i=function(){return{}},jn=new os;function $n(c,g,_,T){this.j=c,this.i=g,this.l=_,this.R=T||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yl}function Yl(){this.i=null,this.g="",this.h=!1}var Aa={},Xs={};function Js(c,g,_){c.L=1,c.v=mi(vn(g)),c.m=_,c.P=!0,ka(c,null)}function ka(c,g){c.F=Date.now(),et(c),c.A=vn(c.v);var _=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),vi(_.i,"t",T),c.C=0,_=c.j.J,c.h=new Yl,c.g=pu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new es(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,T=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(_a[0]=W.toString()),W=_a);for(var Q=0;Q<W.length;Q++){var oe=pa(_,W[Q],T||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.H?P(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Dr(),ss(c.i,c.u,c.A,c.l,c.R,c.m)}$n.prototype.ca=function(c){c=c.target;const g=this.M;g&&sn(c)==3?g.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)e:{const vt=sn(this.g);var g=this.g.Ba();const xn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Va(this.g)))){this.J||vt!=4||g==7||(g==8||0>=xn?Dr(3):Dr(2)),as(this);var _=this.g.Z();this.X=_;t:if(Xl(this)){var T=Va(this.g);c="";var W=T.length,Q=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),hi(this);var oe="";break t}this.h.i=new f.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(T[g],{stream:!(Q&&g==W-1)});T.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Qs(this.i,this.u,this.A,this.l,this.R,vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Tt=this.g;if((Xe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Xe)){var $e=Xe;break t}}$e=null}if(_=$e)Un(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,_);else{this.o=!1,this.s=3,ft(12),kn(this),hi(this);break e}}if(this.P){_=!0;let _n;for(;!this.J&&this.C<oe.length;)if(_n=Bh(this,oe),_n==Xs){vt==4&&(this.s=4,ft(14),_=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Aa){this.s=4,ft(15),Un(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Un(this.i,this.l,_n,null),ba(this,_n);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||oe.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)Un(this.i,this.l,oe,"[Invalid Chunked Response]"),kn(this),hi(this);else if(0<oe.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ma(kt),kt.M=!0,ft(11))}}else Un(this.i,this.l,oe,null),ba(this,oe);vt==4&&kn(this),this.o&&!this.J&&(vt==4?uo(this.j,this):(this.o=!1,et(this)))}else io(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),kn(this),hi(this)}}}catch{}finally{}};function Xl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bh(c,g){var _=c.C,T=g.indexOf(`
`,_);return T==-1?Xs:(_=Number(g.substring(_,T)),isNaN(_)?Aa:(T+=1,T+_>g.length?Xs:(g=g.slice(T,T+_),c.C=T+_,g)))}$n.prototype.cancel=function(){this.J=!0,kn(this)};function et(c){c.S=Date.now()+c.I,Jl(c,c.I)}function Jl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fn(E(c.ba,c),g)}function as(c){c.B&&(f.clearTimeout(c.B),c.B=null)}$n.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pa(this.i,this.A),this.L!=2&&(Dr(),ft(17)),kn(this),this.s=2,hi(this)):Jl(this,this.S-c)};function hi(c){c.j.G==0||c.J||uo(c.j,c)}function kn(c){as(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,wa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ba(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Zt(_.h,c))){if(!c.K&&Zt(_.h,c)&&_.G==3){try{var T=_.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var W=T;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)lo(_),qn(_);else break e;ao(_),ft(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=Fn(E(_.Za,_),6e3));if(1>=eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fr(_,11)}else if((c.K||_.g==c)&&lo(_),!j(g))for(W=_.Da.g.parse(g),g=0;g<W.length;g++){let $e=W[g];if(_.T=$e[0],$e=$e[1],_.G==2)if($e[0]=="c"){_.K=$e[1],_.ia=$e[2];const kt=$e[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const vt=$e[4];vt!=null&&(_.Aa=vt,_.j.info("SVER="+_.Aa));const xn=$e[5];xn!=null&&typeof xn=="number"&&0<xn&&(T=1.5*xn,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const _n=c.g;if(_n){const ps=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var Q=T.h;Q.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(xa(Q,Q.h),Q.h=null))}if(T.D){const ho=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(T.ya=ho,Ze(T.I,T.D,ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var oe=c;if(T.qa=fu(T,T.J?T.ia:null,T.W),oe.K){tu(T.h,oe);var Xe=oe,Tt=T.L;Tt&&(Xe.I=Tt),Xe.B&&(as(Xe),et(Xe)),T.g=oe}else fs(T);0<_.i.length&&hr(_)}else $e[0]!="stop"&&$e[0]!="close"||Fr(_,7);else _.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Fr(_,7):Vt(_):$e[0]!="noop"&&_.l&&_.l.ta($e),_.v=0)}}Dr(4)}catch{}}var Zl=class{constructor(c,g){this.g=c,this.map=g}};function ls(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function eu(c){return c.h?1:c.g?c.g.size:0}function Zt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function xa(c,g){c.g?c.g.add(g):c.h=g}function tu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ls.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return k(c.i)}function Zs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var g=[],_=c.length,T=0;T<_;T++)g.push(c[T]);return g}g=[],_=0;for(T in c)g[_++]=c[T];return g}function eo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const T in c)g[_++]=T;return g}}}function di(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=eo(c),T=Zs(c),W=T.length,Q=0;Q<W;Q++)g.call(void 0,T[Q],_&&_[Q],c)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var T=c[_].indexOf("="),W=null;if(0<=T){var Q=c[_].substring(0,T);W=c[_].substring(T+1)}else Q=c[_];g(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Nr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Nr){this.h=c.h,cs(this,c.j),this.o=c.o,this.g=c.g,fi(this,c.s),this.l=c.l;var g=c.i,_=new lr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),pi(this,_),this.m=c.m}else c&&(g=String(c).match(us))?(this.h=!1,cs(this,g[1]||"",!0),this.o=Ue(g[2]||""),this.g=Ue(g[3]||"",!0),fi(this,g[4]),this.l=Ue(g[5]||"",!0),pi(this,g[6]||"",!0),this.m=Ue(g[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}Nr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(gi(g,to,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(gi(g,to,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(gi(_,_.charAt(0)=="/"?su:iu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",gi(_,Oa)),c.join("")};function vn(c){return new Nr(c)}function cs(c,g,_){c.j=_?Ue(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function fi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function pi(c,g,_){g instanceof lr?(c.i=g,ur(c.i,c.h)):(_||(g=gi(g,ou)),c.i=new lr(g,c.h))}function Ze(c,g,_){c.i.set(g,_)}function mi(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ue(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,ru),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var to=/[#\/\?@]/g,iu=/[#\?:]/g,su=/[#\?]/g,ou=/[#\?@]/g,Oa=/#/g;function lr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nt(c){c.g||(c.g=new Map,c.h=0,c.i&&Hh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=lr.prototype,n.add=function(c,g){Nt(this),this.i=null,c=bn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function zn(c,g){Nt(c),g=bn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Bn(c,g){return Nt(c),g=bn(c,g),c.g.has(g)}n.forEach=function(c,g){Nt(this),this.g.forEach(function(_,T){_.forEach(function(W){c.call(g,W,T,this)},this)},this)},n.na=function(){Nt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let T=0;T<g.length;T++){const W=c[T];for(let Q=0;Q<W.length;Q++)_.push(g[T])}return _},n.V=function(c){Nt(this);let g=[];if(typeof c=="string")Bn(this,c)&&(g=g.concat(this.g.get(bn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Nt(this),this.i=null,c=bn(this,c),Bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function vi(c,g,_){zn(c,g),0<_.length&&(c.i=null,c.g.set(bn(c,g),k(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var T=g[_];const Q=encodeURIComponent(String(T)),oe=this.V(T);for(T=0;T<oe.length;T++){var W=Q;oe[T]!==""&&(W+="="+encodeURIComponent(String(oe[T]))),c.push(W)}}return this.i=c.join("&")};function bn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ur(c,g){g&&!c.j&&(Nt(c),c.i=null,c.g.forEach(function(_,T){var W=T.toLowerCase();T!=W&&(zn(this,T),vi(this,W,_))},c)),c.j=g}function Wh(c,g){const _=new is;if(f.Image){const T=new Image;T.onload=C(rn,_,"TestLoadImage: loaded",!0,g,T),T.onerror=C(rn,_,"TestLoadImage: error",!1,g,T),T.onabort=C(rn,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=C(rn,_,"TestLoadImage: timeout",!1,g,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function au(c,g){const _=new is,T=new AbortController,W=setTimeout(()=>{T.abort(),rn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(Q=>{clearTimeout(W),Q.ok?rn(_,"TestPingServer: ok",!0,g):rn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),rn(_,"TestPingServer: error",!1,g)})}function rn(c,g,_,T,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),T(_)}catch{}}function qh(){this.g=new Ta}function lu(c,g,_){const T=_||"";try{di(c,function(W,Q){let oe=W;p(W)&&(oe=Ea(W)),g.push(T+Q+"="+encodeURIComponent(oe))})}catch(W){throw g.push(T+"type="+encodeURIComponent("_badmap")),W}}function Vr(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Vr,ns),Vr.prototype.g=function(){return new hs(this.l,this.j)},Vr.prototype.i=function(c){return function(){return c}}({});function hs(c,g){Et.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(hs,Et),n=hs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Hn(this):Wn(this),this.readyState==3&&uu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Hn(this))},n.Qa=function(c){this.g&&(this.response=c,Hn(this))},n.ga=function(){this.g&&Hn(this)};function Hn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lr(c){let g="";return J(c,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function yi(c,g,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Lr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ze(c,g,_))}function it(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(it,Et);var Kh=/^https?$/i,Da=["POST","PUT"];n=it.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?Ws(this.o):Ws(jn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){ds(this,Q);return}if(c=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var W in T)_.set(W,T[W]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())_.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Da,g,void 0))||T||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of _)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ro(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){ds(this,Q)}};function ds(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,no(c),yn(c)}function no(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,St(this,"complete"),St(this,"abort"),yn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yn(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},n.bb=function(){Na(this)};function Na(c){if(c.h&&typeof u<"u"&&(!c.v[1]||sn(c)!=4||c.Z()!=2)){if(c.u&&sn(c)==4)ya(c.Ea,0,c);else if(St(c,"readystatechange"),sn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var T;if(T=oe===0){var W=String(c.D).match(us)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),T=!Kh.test(W?W.toLowerCase():"")}_=T}if(_)St(c,"complete"),St(c,"success");else{c.m=6;try{var Q=2<sn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",no(c)}}finally{yn(c)}}}}function yn(c,g){if(c.g){ro(c);const _=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||St(c,"ready");try{_.onreadystatechange=T}catch{}}}function ro(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function sn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Sa(g)}};function Va(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function io(c){const g={};c=(c.g&&2<=sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(j(c[T]))continue;var _=L(c[T]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[W]||[];g[W]=Q,Q.push(_)}x(g,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function La(c){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,c),this.cb=cr("retryDelaySeedMs",1e4,c),this.Wa=cr("forwardChannelMaxRetries",2,c),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ls(c&&c.concurrentRequestLimit),this.Da=new qh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=La.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,T){ft(0),this.W=c,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=fu(this,null,this.W),hr(this)};function Vt(c){if(so(c),c.G==3){var g=c.U++,_=vn(c.I);if(Ze(_,"SID",c.K),Ze(_,"RID",g),Ze(_,"TYPE","terminate"),Mr(c,_),g=new $n(c,c.j,g),g.L=2,g.v=mi(vn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=pu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),et(g)}du(c)}function qn(c){c.g&&(Ma(c),c.g.cancel(),c.g=null)}function so(c){qn(c),c.u&&(f.clearTimeout(c.u),c.u=null),lo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function hr(c){if(!gn(c.h)&&!c.s){c.s=!0;var g=c.Ga;De||ae(),ie||(De(),ie=!0),fe.add(g,c),c.B=0}}function Gh(c,g){return eu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fn(E(c.Ga,c,g),hu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new $n(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=P(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=_i(this,W,g),_=vn(this.I),Ze(_,"RID",c),Ze(_,"CVER",22),this.D&&Ze(_,"X-HTTP-Session-Id",this.D),Mr(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(Lr(Q)))+"&"+g:this.m&&yi(_,this.m,Q)),xa(this.h,W),this.Ua&&Ze(_,"TYPE","init"),this.P?(Ze(_,"$req",g),Ze(_,"SID","null"),W.T=!0,Js(W,_,null)):Js(W,_,g),this.G=2}}else this.G==3&&(c?oo(this,c):this.i.length==0||gn(this.h)||oo(this))};function oo(c,g){var _;g?_=g.l:_=c.U++;const T=vn(c.I);Ze(T,"SID",c.K),Ze(T,"RID",_),Ze(T,"AID",c.T),Mr(c,T),c.m&&c.o&&yi(T,c.m,c.o),_=new $n(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=_i(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xa(c.h,_),Js(_,T,g)}function Mr(c,g){c.H&&J(c.H,function(_,T){Ze(g,T,_)}),c.l&&di({},function(_,T){Ze(g,T,_)})}function _i(c,g,_){_=Math.min(c.i.length,_);var T=c.l?E(c.l.Na,c.l,c):null;e:{var W=c.i;let Q=-1;for(;;){const oe=["count="+_];Q==-1?0<_?(Q=W[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Xe=!0;for(let Tt=0;Tt<_;Tt++){let $e=W[Tt].g;const kt=W[Tt].map;if($e-=Q,0>$e)Q=Math.max(0,W[Tt].g-100),Xe=!1;else try{lu(kt,oe,"req"+$e+"_")}catch{T&&T(kt)}}if(Xe){T=oe.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,T}function fs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;De||ae(),ie||(De(),ie=!0),fe.add(g,c),c.v=0}}function ao(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fn(E(c.Fa,c),hu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),qn(this),cu(this))};function Ma(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function cu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=vn(c.qa);Ze(g,"RID","rpc"),Ze(g,"SID",c.K),Ze(g,"AID",c.T),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(g,"TO",c.ja),Ze(g,"TYPE","xmlhttp"),Mr(c,g),c.m&&c.o&&yi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=mi(vn(g)),_.m=null,_.P=!0,ka(_,c)}n.Za=function(){this.C!=null&&(this.C=null,qn(this),ao(this),ft(19))};function lo(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function uo(c,g){var _=null;if(c.g==g){lo(c),Ma(c),c.g=null;var T=2}else if(Zt(c.h,g))_=g.D,tu(c.h,g),T=1;else return;if(c.G!=0){if(g.o)if(T==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;T=rs(),St(T,new Gs(T,_)),hr(c)}else fs(c);else if(W=g.s,W==3||W==0&&0<g.X||!(T==1&&Gh(c,g)||T==2&&ao(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),W){case 1:Fr(c,5);break;case 4:Fr(c,10);break;case 3:Fr(c,6);break;default:Fr(c,2)}}}function hu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Fr(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),T=c.Xa;const W=!T;T=new Nr(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||cs(T,"https"),mi(T),W?Wh(T.toString(),_):au(T.toString(),_)}else ft(2);c.G=0,c.l&&c.l.sa(g),du(c),so(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function du(c){if(c.G=0,c.ka=[],c.l){const g=nu(c.h);(g.length!=0||c.i.length!=0)&&(I(c.ka,g),I(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function fu(c,g,_){var T=_ instanceof Nr?vn(_):new Nr(_);if(T.g!="")g&&(T.g=g+"."+T.g),fi(T,T.s);else{var W=f.location;T=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var Q=new Nr(null);T&&cs(Q,T),g&&(Q.g=g),W&&fi(Q,W),_&&(Q.l=_),T=Q}return _=c.D,g=c.ya,_&&g&&Ze(T,_,g),Ze(T,"VER",c.la),Mr(c,T),T}function pu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new it(new Vr({eb:_})):new it(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fa(){}n=Fa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function co(){}co.prototype.g=function(c,g){return new en(c,g)};function en(c,g){Et.call(this),this.g=new La(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!j(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!j(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new dr(this)}R(en,Et),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Vt(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ea(c),c=_);g.i.push(new Zl(g.Ya++,c)),g.G==3&&hr(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,en.aa.N.call(this)};function mu(c){or.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}R(mu,or);function gu(){Ks.call(this),this.status=1}R(gu,Ks);function dr(c){this.g=c}R(dr,Fa),dr.prototype.ua=function(){St(this.g,"a")},dr.prototype.ta=function(c){St(this.g,new mu(c))},dr.prototype.sa=function(c){St(this.g,new gu)},dr.prototype.ra=function(){St(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,uw=function(){return new co},lw=function(){return rs()},aw=ar,Jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,Ac=Ys,Ql.COMPLETE="complete",ow=Ql,qs.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",Et.prototype.listen=Et.prototype.K,fl=qs,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,sw=it}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const by="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new bp("@firebase/firestore");function No(){return Ns.logLevel}function ce(n,...e){if(Ns.logLevel<=Le.DEBUG){const t=e.map(zp);Ns.debug(`Firestore (${sa}): ${n}`,...t)}}function ri(n,...e){if(Ns.logLevel<=Le.ERROR){const t=e.map(zp);Ns.error(`Firestore (${sa}): ${n}`,...t)}}function Wo(n,...e){if(Ns.logLevel<=Le.WARN){const t=e.map(zp);Ns.warn(`Firestore (${sa}): ${n}`,...t)}}function zp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+n;throw ri(e),new Error(e)}function Ye(n,e){n||Re()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class rA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iA{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},f=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new cw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Gt(e)}}class sA{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class oA{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new sA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ye(this.o===void 0);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string"),this.R=t.token,new aA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=uA(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function je(n,e){return n<e?-1:n>e?1:0}function qo(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Pt(0,0))}static max(){return new ke(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(),r===void 0?r=e.length-t:r>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),u=t.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ot extends Rl{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const cA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Rl{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return cA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(a(),s++)}if(a(),u)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}function hA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Wi(s,Ee.empty(),e)}function dA(n){return new Wi(n.readTime,n.key,-1)}class Wi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Wi(ke.min(),Ee.empty(),-1)}static max(){return new Wi(ke.max(),Ee.empty(),-1)}}function fA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==pA)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let s=0,a=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++a,u&&a===s&&t()},d=>r(d))}),u=!0,a===s&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(s=>s?Z.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,s)=>{const a=e.length,u=new Array(a);let f=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next(y=>{u[p]=y,++f,f===a&&r(u)},y=>s(y))}})}static doWhile(e,t){return new Z((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function gA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function aa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yh.oe=-1;function _h(n){return n==null}function qc(n){return n===0&&1/n==-1/0}function vA(n){return typeof n=="number"&&Number.isInteger(n)&&!qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xy(e)),e=_A(n.get(t),e);return xy(e)}function _A(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function xy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}}class fc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ft.RED,this.left=s??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ft(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dy(this.data.getIterator())}getIteratorFrom(e){return new Dy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class Dy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Tn([])}unionWith(e){let t=new At(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Tn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fw("Invalid base64 string: "+a):a}}(e);return new $t(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const wA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(n){if(Ye(!!n),typeof n=="string"){let e=0;const t=wA.exec(n);if(Ye(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ki(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function wh(n){const e=n.mapValue.fields.__previous_value__;return Bp(e)?wh(e):e}function Pl(n){const e=qi(n.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t,r,s,a,u,f,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p}}class Al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bp(n)?4:TA(n)?9007199254740991:SA(n)?10:11:Re()}function Rr(n,e){if(n===e)return!0;const t=Gi(n);if(t!==Gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pl(n).isEqual(Pl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=qi(s.timestampValue),f=qi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Ki(s.bytesValue).isEqual(Ki(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return mt(s.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return mt(s.integerValue)===mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=mt(s.doubleValue),f=mt(a.doubleValue);return u===f?qc(u)===qc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return qo(n.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Oy(u)!==Oy(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!Rr(u[d],f[d])))return!1;return!0}(n,e);default:return Re()}}function kl(n,e){return(n.values||[]).find(t=>Rr(t,e))!==void 0}function Ko(n,e){if(n===e)return 0;const t=Gi(n),r=Gi(e);if(t!==r)return je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=mt(a.integerValue||a.doubleValue),d=mt(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(n,e);case 3:return Ny(n.timestampValue,e.timestampValue);case 4:return Ny(Pl(n),Pl(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(a,u){const f=Ki(a),d=Ki(u);return f.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),d=u.split("/");for(let p=0;p<f.length&&p<d.length;p++){const y=je(f[p],d[p]);if(y!==0)return y}return je(f.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=je(mt(a.latitude),mt(u.latitude));return f!==0?f:je(mt(a.longitude),mt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Vy(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,d,p,y;const w=a.fields||{},E=u.fields||{},C=(f=w.value)===null||f===void 0?void 0:f.arrayValue,R=(d=E.value)===null||d===void 0?void 0:d.arrayValue,k=je(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:Vy(C,R)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===pc.mapValue&&u===pc.mapValue)return 0;if(a===pc.mapValue)return 1;if(u===pc.mapValue)return-1;const f=a.fields||{},d=Object.keys(f),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let w=0;w<d.length&&w<y.length;++w){const E=je(d[w],y[w]);if(E!==0)return E;const C=Ko(f[d[w]],p[y[w]]);if(C!==0)return C}return je(d.length,y.length)}(n.mapValue,e.mapValue);default:throw Re()}}function Ny(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=qi(n),r=qi(e),s=je(t.seconds,r.seconds);return s!==0?s:je(t.nanos,r.nanos)}function Vy(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Ko(t[s],r[s]);if(a)return a}return je(t.length,r.length)}function Go(n){return Zf(n)}function Zf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=qi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ki(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Zf(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Zf(t.fields[u])}`;return s+"}"}(n.mapValue):Re()}function kc(n){switch(Gi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(n);return e?16+kc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ki(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+kc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Xi(r.fields,(a,u)=>{s+=a.length+kc(u)}),s}(n.mapValue);default:throw Re()}}function ep(n){return!!n&&"integerValue"in n}function Hp(n){return!!n&&"arrayValue"in n}function Ly(n){return!!n&&"nullValue"in n}function My(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bc(n){return!!n&&"mapValue"in n}function SA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function _l(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_l(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_l(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(t)}setAll(e){let t=jt.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=f.popLast()}u?r[f.lastSegment()]=_l(u):s.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());bc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];bc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Xi(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new pn(_l(this.value))}}function pw(n){const e=[];return Xi(n.fields,(t,r)=>{const s=new jt([t]);if(bc(r)){const a=pw(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,r,s,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Qt(e,0,ke.min(),ke.min(),ke.min(),pn.empty(),0)}static newFoundDocument(e,t,r,s){return new Qt(e,1,t,ke.min(),r,s,0)}static newNoDocument(e,t){return new Qt(e,2,t,ke.min(),ke.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,ke.min(),ke.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t){this.position=e,this.inclusive=t}}function Fy(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=Ko(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function IA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{}class Rt extends mw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new RA(e,t,r):t==="array-contains"?new kA(e,r):t==="in"?new bA(e,r):t==="not-in"?new xA(e,r):t==="array-contains-any"?new OA(e,r):new Rt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new PA(e,r):new AA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ko(t,this.value)):t!==null&&Gi(this.value)===Gi(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends mw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Pr(e,t)}matches(e){return gw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gw(n){return n.op==="and"}function vw(n){return CA(n)&&gw(n)}function CA(n){for(const e of n.filters)if(e instanceof Pr)return!1;return!0}function tp(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+Go(n.value);if(vw(n))return n.filters.map(e=>tp(e)).join(",");{const e=n.filters.map(t=>tp(t)).join(",");return`${n.op}(${e})`}}function yw(n,e){return n instanceof Rt?function(r,s){return s instanceof Rt&&r.op===s.op&&r.field.isEqual(s.field)&&Rr(r.value,s.value)}(n,e):n instanceof Pr?function(r,s){return s instanceof Pr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,f)=>a&&yw(u,s.filters[f]),!0):!1}(n,e):void Re()}function _w(n){return n instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${Go(t.value)}`}(n):n instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(_w).join(" ,")+"}"}(n):"Filter"}class RA extends Rt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class PA extends Rt{constructor(e,t){super(e,"in",t),this.keys=ww("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AA extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=ww("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ww(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class kA extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hp(t)&&kl(t.arrayValue,this.value)}}class bA extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kl(this.value.arrayValue,t)}}class xA extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!kl(this.value.arrayValue,t)}}class OA extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t=null,r=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.ue=null}}function jy(n,e=null,t=[],r=[],s=null,a=null,u=null){return new DA(n,e,t,r,s,a,u)}function Wp(n){const e=be(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),_h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Go(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Go(r)).join(",")),e.ue=t}return e.ue}function qp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Uy(n.startAt,e.startAt)&&Uy(n.endAt,e.endAt)}function np(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t=null,r=[],s=[],a=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NA(n,e,t,r,s,a,u,f){return new Eh(n,e,t,r,s,a,u,f)}function Kp(n){return new Eh(n)}function $y(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function VA(n){return n.collectionGroup!==null}function wl(n){const e=be(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new At(jt.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Gc(a,r))}),t.has(jt.keyField().canonicalString())||e.ce.push(new Gc(jt.keyField(),r))}return e.ce}function Sr(n){const e=be(n);return e.le||(e.le=LA(e,wl(n))),e.le}function LA(n,e){if(n.limitType==="F")return jy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Gc(s.field,a)});const t=n.endAt?new Kc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kc(n.startAt.position,n.startAt.inclusive):null;return jy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function rp(n,e,t){return new Eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sh(n,e){return qp(Sr(n),Sr(e))&&n.limitType===e.limitType}function Ew(n){return`${Wp(Sr(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>_w(s)).join(", ")}]`),_h(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Go(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Go(s)).join(",")),`Target(${r})`}(Sr(n))}; limitType=${n.limitType})`}function Th(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of wl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,f,d){const p=Fy(u,f,d);return u.inclusive?p<=0:p<0}(r.startAt,wl(r),s)||r.endAt&&!function(u,f,d){const p=Fy(u,f,d);return u.inclusive?p>=0:p>0}(r.endAt,wl(r),s))}(n,e)}function MA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Sw(n){return(e,t)=>{let r=!1;for(const s of wl(n)){const a=FA(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function FA(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,u,f){const d=u.data.field(a),p=f.data.field(a);return d!==null&&p!==null?Ko(d,p):Re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return dw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new ct(Ee.comparator);function ii(){return UA}const Tw=new ct(Ee.comparator);function pl(...n){let e=Tw;for(const t of n)e=e.insert(t.key,t);return e}function Iw(n){let e=Tw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ks(){return El()}function Cw(){return El()}function El(){return new Us(n=>n.toString(),(n,e)=>n.isEqual(e))}const jA=new ct(Ee.comparator),$A=new At(Ee.comparator);function Me(...n){let e=$A;for(const t of n)e=e.add(t);return e}const zA=new At(je);function BA(){return zA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function Rw(n){return{integerValue:""+n}}function HA(n,e){return vA(e)?Rw(e):Gp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function WA(n,e,t){return n instanceof Qc?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Bp(a)&&(a=wh(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Qo?Aw(n,e):n instanceof Yo?kw(n,e):function(s,a){const u=Pw(s,a),f=zy(u)+zy(s.Pe);return ep(u)&&ep(s.Pe)?Rw(f):Gp(s.serializer,f)}(n,e)}function qA(n,e,t){return n instanceof Qo?Aw(n,e):n instanceof Yo?kw(n,e):t}function Pw(n,e){return n instanceof Yc?function(r){return ep(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Qc extends Ih{}class Qo extends Ih{constructor(e){super(),this.elements=e}}function Aw(n,e){const t=bw(e);for(const r of n.elements)t.some(s=>Rr(s,r))||t.push(r);return{arrayValue:{values:t}}}class Yo extends Ih{constructor(e){super(),this.elements=e}}function kw(n,e){let t=bw(e);for(const r of n.elements)t=t.filter(s=>!Rr(s,r));return{arrayValue:{values:t}}}class Yc extends Ih{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function zy(n){return mt(n.integerValue||n.doubleValue)}function bw(n){return Hp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t){this.field=e,this.transform=t}}function KA(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Qo&&s instanceof Qo||r instanceof Yo&&s instanceof Yo?qo(r.elements,s.elements,Rr):r instanceof Yc&&s instanceof Yc?Rr(r.Pe,s.Pe):r instanceof Qc&&s instanceof Qc}(n.transform,e.transform)}class GA{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ch{}function Ow(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qp(n.key,er.none()):new zl(n.key,n.data,er.none());{const t=n.data,r=pn.empty();let s=new At(jt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Ji(n.key,r,new Tn(s.toArray()),er.none())}}function QA(n,e,t){n instanceof zl?function(s,a,u){const f=s.value.clone(),d=Hy(s.fieldTransforms,a,u.transformResults);f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ji?function(s,a,u){if(!xc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=Hy(s.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(Dw(s)),d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Sl(n,e,t,r){return n instanceof zl?function(a,u,f,d){if(!xc(a.precondition,u))return f;const p=a.value.clone(),y=Wy(a.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ji?function(a,u,f,d){if(!xc(a.precondition,u))return f;const p=Wy(a.fieldTransforms,d,u),y=u.data;return y.setAll(Dw(a)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,f){return xc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function YA(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=Pw(r.transform,s||null);a!=null&&(t===null&&(t=pn.empty()),t.set(r.field,a))}return t||null}function By(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qo(r,s,(a,u)=>KA(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zl extends Ch{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ji extends Ch{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Dw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Hy(n,e,t){const r=new Map;Ye(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,f=e.data.field(a.field);r.set(a.field,qA(u,f,t[s]))}return r}function Wy(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,WA(a,u,e))}return r}class Qp extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XA extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&QA(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Cw();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(s.key)?null:f;const d=Ow(u,f);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,r)=>By(t,r))&&qo(this.baseMutations,e.baseMutations,(t,r)=>By(t,r))}}class Yp{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ye(e.mutations.length===r.length);let s=function(){return jA}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Yp(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,ze;function tk(n){switch(n){default:return Re();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function Nw(n){if(n===void 0)return ri("GRPC error has no .code"),ne.UNKNOWN;switch(n){case _t.OK:return ne.OK;case _t.CANCELLED:return ne.CANCELLED;case _t.UNKNOWN:return ne.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ne.INTERNAL;case _t.UNAVAILABLE:return ne.UNAVAILABLE;case _t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case _t.NOT_FOUND:return ne.NOT_FOUND;case _t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case _t.ABORTED:return ne.ABORTED;case _t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case _t.DATA_LOSS:return ne.DATA_LOSS;default:return Re()}}(ze=_t||(_t={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new bs([4294967295,4294967295],0);function qy(n){const e=nk().encode(n),t=new iw;return t.update(e),new Uint8Array(t.digest())}function Ky(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bs([t,r],0),new bs([s,a],0)]}class Xp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ml(`Invalid padding: ${t}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ml(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=bs.fromNumber(this.Te)}Ee(e,t,r){let s=e.add(t.multiply(bs.fromNumber(r)));return s.compare(rk)===1&&(s=new bs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=qy(e),[r,s]=Ky(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Xp(a,s,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Te===0)return;const t=qy(e),[r,s]=Ky(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Bl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rh(ke.min(),s,new ct(je),ii(),Me())}}class Bl{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Bl(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class Vw{constructor(e,t){this.targetId=e,this.me=t}}class Lw{constructor(e,t,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Gy{constructor(){this.fe=0,this.ge=Qy(),this.pe=$t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),r=Me();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new Bl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Qy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ik{constructor(e){this.Le=e,this.Be=new Map,this.ke=ii(),this.qe=mc(),this.Qe=mc(),this.Ke=new ct(je)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(np(a))if(r===0){const u=new Ee(a.path);this.We(t,u,Qt.newNoDocument(u,ke.min()))}else Ye(r===1);else{const u=this.Ze(t);if(u!==r){const f=this.Xe(e),d=f?this.et(f,e,u):1;if(d!==0){this.He(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,f;try{u=Ki(r).toUint8Array()}catch(d){if(d instanceof fw)return Wo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new Xp(u,s,a)}catch(d){return Wo(d instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.Te===0?null:f}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Le.nt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((a,u)=>{const f=this.Ye(u);if(f){if(a.current&&np(f.target)){const d=new Ee(f.target.path);this.st(d).has(u)||this.ot(u,d)||this.We(u,d,Qt.newNoDocument(d,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Me();this.Qe.forEach((a,u)=>{let f=!0;u.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Rh(e,t,this.Ke,this.ke,r);return this.ke=ii(),this.qe=mc(),this.Qe=mc(),this.Ke=new ct(je),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Gy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new At(je),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new At(je),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Gy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function mc(){return new ct(Ee.comparator)}function Qy(){return new ct(Ee.comparator)}const sk={asc:"ASCENDING",desc:"DESCENDING"},ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ak={and:"AND",or:"OR"};class lk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ip(n,e){return n.useProto3Json||_h(e)?e:{value:e}}function Xc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uk(n,e){return Xc(n,e.toTimestamp())}function Tr(n){return Ye(!!n),ke.fromTimestamp(function(t){const r=qi(t);return new Pt(r.seconds,r.nanos)}(n))}function Jp(n,e){return sp(n,e).canonicalString()}function sp(n,e){const t=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Fw(n){const e=ot.fromString(n);return Ye(Bw(e)),e}function op(n,e){return Jp(n.databaseId,e.path)}function kf(n,e){const t=Fw(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(jw(t))}function Uw(n,e){return Jp(n.databaseId,e)}function ck(n){const e=Fw(n);return e.length===4?ot.emptyPath():jw(e)}function ap(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jw(n){return Ye(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Yy(n,e,t){return{name:op(n,e),fields:t.value.mapValue.fields}}function hk(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(Ye(y===void 0||typeof y=="string"),$t.fromBase64String(y||"")):(Ye(y===void 0||y instanceof Buffer||y instanceof Uint8Array),$t.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const y=p.code===void 0?ne.UNKNOWN:Nw(p.code);return new ge(y,p.message||"")}(u);t=new Lw(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=kf(n,r.document.name),a=Tr(r.document.updateTime),u=r.document.createTime?Tr(r.document.createTime):ke.min(),f=new pn({mapValue:{fields:r.document.fields}}),d=Qt.newFoundDocument(s,a,u,f),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Oc(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=kf(n,r.document),a=r.readTime?Tr(r.readTime):ke.min(),u=Qt.newNoDocument(s,a),f=r.removedTargetIds||[];t=new Oc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=kf(n,r.document),a=r.removedTargetIds||[];t=new Oc([],a,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new ek(s,a),f=r.targetId;t=new Vw(f,u)}}return t}function dk(n,e){let t;if(e instanceof zl)t={update:Yy(n,e.key,e.value)};else if(e instanceof Qp)t={delete:op(n,e.key)};else if(e instanceof Ji)t={update:Yy(n,e.key,e.data),updateMask:Ek(e.fieldMask)};else{if(!(e instanceof XA))return Re();t={verify:op(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof Qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Qo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Yo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Yc)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Re()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:uk(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(n,e.precondition)),t}function fk(n,e){return n&&n.length>0?(Ye(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?Tr(s.updateTime):Tr(a);return u.isEqual(ke.min())&&(u=Tr(a)),new GA(u,s.transformResults||[])}(t,e))):[]}function pk(n,e){return{documents:[Uw(n,e.path)]}}function mk(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Uw(n,s);const a=function(p){if(p.length!==0)return zw(Pr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Lo(E.field),direction:yk(E.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=ip(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function gk(n){let e=ck(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ye(r===1);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(w){const E=$w(w);return E instanceof Pr&&vw(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(R){return new Gc(Mo(R.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(w){let E;return E=typeof w=="object"?w.value:w,_h(E)?null:E}(t.limit));let d=null;t.startAt&&(d=function(w){const E=!!w.before,C=w.values||[];return new Kc(C,E)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const E=!w.before,C=w.values||[];return new Kc(C,E)}(t.endAt)),NA(e,s,u,a,f,"F",d,p)}function vk(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $w(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Mo(t.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Mo(t.unaryFilter.field);return Rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Mo(t.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Mo(t.unaryFilter.field);return Rt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return Rt.create(Mo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pr.create(t.compositeFilter.filters.map(r=>$w(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function yk(n){return sk[n]}function _k(n){return ok[n]}function wk(n){return ak[n]}function Lo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return jt.fromServerFormat(n.fieldPath)}function zw(n){return n instanceof Rt?function(t){if(t.op==="=="){if(My(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(Ly(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(My(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(Ly(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:_k(t.op),value:t.value}}}(n):n instanceof Pr?function(t){const r=t.getFilters().map(s=>zw(s));return r.length===1?r[0]:{compositeFilter:{op:wk(t.op),filters:r}}}(n):Re()}function Ek(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,r,s,a=ke.min(),u=ke.min(),f=$t.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.ht=e}}function Tk(n){const e=gk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.ln=new Ck}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Wi.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class Ck{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new At(ot.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Xo(0)}static Qn(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy([n,e],[t,r]){const s=je(n,t);return s===0?je(e,r):s}class Rk{constructor(e){this.Gn=e,this.buffer=new At(Jy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Jy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await oa(t)}await this.Yn(3e5)})}}class Ak{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(yh.oe);const r=new Rk(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Xy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,f,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,f=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),No()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(d-f)+`ms
	Removed ${w} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function kk(n,e){return new Ak(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.changes=new Us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Sl(r.mutation,s,Tn.empty(),Pt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const s=ks();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=pl();return a.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ks();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,s){let a=ii();const u=El(),f=function(){return El()}();return t.forEach((d,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Ji)?a=a.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Sl(y.mutation,p,y.mutation.getFieldMask(),Pt.now())):u.set(p.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var w;return f.set(p,new xk(y,(w=u.get(p))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const r=El();let s=new ct((u,f)=>u-f),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let y=r.get(d)||Tn.empty();y=f.applyToLocalView(p,y),r.set(d,y);const w=(s.get(f.batchId)||Me()).add(d);s=s.insert(f.batchId,w)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,y=d.value,w=Cw();y.forEach(E=>{if(!a.has(E)){const C=Ow(t.get(E),r.get(E));C!==null&&w.set(E,C),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Z.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):VA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Z.resolve(ks());let f=-1,d=a;return u.next(p=>Z.forEach(p,(y,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(y)?Z.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{d=d.insert(y,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,Me())).next(y=>({batchId:f,changes:Iw(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let s=pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=pl();return this.indexManager.getCollectionParents(e,a).next(f=>Z.forEach(f,d=>{const p=function(w,E){return new Eh(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Qt.newInvalidDocument(y)))});let f=pl();return u.forEach((d,p)=>{const y=a.get(d);y!==void 0&&Sl(y.mutation,p,Tn.empty(),Pt.now()),Th(t,p)&&(f=f.insert(d,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Tr(s.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:Tk(s.bundledQuery),readTime:Tr(s.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.overlays=new ct(Ee.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ks();return Z.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=ks(),a=t.length+1,u=new Ee(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ct((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=ks(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ks(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=s)););return Z.resolve(f)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new ZA(t,r));let a=this.Er.get(t);a===void 0&&(a=Me(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.dr=new At(Dt.Ar),this.Rr=new At(Dt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Dt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Dt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Ee(new ot([])),r=new Dt(t,e),s=new Dt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ee(new ot([])),r=new Dt(t,e),s=new Dt(t,e+1);let a=Me();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Dt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ee.comparator(e.key,t.key)||je(e.br,t.br)}static Vr(e,t){return je(e.br,t.br)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new At(Dt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new JA(a,t,r,s);this.mutationQueue.push(u);for(const f of s)this.vr=this.vr.add(new Dt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dt(t,0),s=new Dt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const f=this.Cr(u.br);a.push(f)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new At(je);return t.forEach(s=>{const a=new Dt(s,0),u=new Dt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],f=>{r=r.add(f.br)})}),Z.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const u=new Dt(new Ee(a),0);let f=new At(je);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(f=f.add(d.br)),!0)},u),Z.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ye(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Z.forEach(t.mutations,s=>{const a=new Dt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Dt(t,0),s=this.vr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.Nr=e,this.docs=function(){return new ct(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=ii();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Qt.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ii();const u=t.path,f=new Ee(u.child("")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||fA(dA(y),r)<=0||(s.has(y.key)||Th(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Re()}Lr(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Fk(this)}getSize(e){return Z.resolve(this.size)}}class Fk extends bk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.persistence=e,this.Br=new Us(t=>Wp(t),qp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.kr=0,this.qr=new Zp,this.targetCount=0,this.Qr=Xo.qn()}forEachTarget(e,t){return this.Br.forEach((r,s)=>t(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Br.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),Z.waitFor(a).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new yh(0),this.Ur=!1,this.Ur=!0,this.Wr=new Vk,this.referenceDelegate=e(this),this.Gr=new Uk(this),this.indexManager=new Ik,this.remoteDocumentCache=function(s){return new Mk(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Sk(t),this.jr=new Dk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new Lk(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const s=new jk(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return Z.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class jk extends mA{constructor(e){super(),this.currentSequenceNumber=e}}class em{constructor(e){this.persistence=e,this.Zr=new Zp,this.Xr=null}static ei(e){return new em(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,r=>{const s=Ee.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,ke.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Jc{constructor(e,t){this.persistence=e,this.ri=new Us(r=>yA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=kk(this,t)}static ei(e,t){return new Jc(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?Z.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Lr(e,u=>this.ir(e,u,t).next(f=>{f||(r++,a.removeEntry(u,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kc(e.data.value)),t}ir(e,t,r){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=Me(),s=Me();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new tm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return bI()?8:gA(Yt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new $k;return this.ts(e,t,u).next(f=>{if(a.result=f,this.Hi)return this.ns(e,t,u,f.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(No()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(No()<=Le.DEBUG&&ce("QueryEngine","Query:",Vo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(No()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):Z.resolve())}Xi(e,t){if($y(t))return Z.resolve(null);let r=Sr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=rp(t,null,"F"),r=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Me(...a);return this.Zi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.rs(t,f);return this.ss(t,p,u,d.readTime)?this.Xi(e,rp(t,null,"F")):this.os(e,p,t,d)}))})))}es(e,t,r,s){return $y(t)||s.isEqual(ke.min())?Z.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?Z.resolve(null):(No()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vo(t)),this.os(e,u,t,hA(s,-1)).next(f=>f))})}rs(e,t){let r=new At(Sw(e));return t.forEach((s,a)=>{Th(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return No()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Wi.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new ct(je),this.cs=new Us(a=>Wp(a),qp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ok(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Hk(n,e,t,r){return new Bk(n,e,t,r)}async function Ww(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let d=Me();for(const p of s){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of a){f.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:f}))})})}function Wk(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,d,p,y){const w=p.batch,E=w.keys();let C=Z.resolve();return E.forEach(R=>{C=C.next(()=>y.getEntry(d,R)).next(k=>{const I=p.docVersions.get(R);Ye(I!==null),k.version.compareTo(I)<0&&(w.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),y.addEntry(k)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(d,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=Me();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function qw(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function qk(n,e){const t=be(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const f=[];e.targetChanges.forEach((y,w)=>{const E=s.get(w);if(!E)return;f.push(t.Gr.removeMatchingKeys(a,y.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,y.addedDocuments,w)));let C=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken($t.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),s=s.insert(w,C),function(k,I,D){return k.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(E,C,y)&&f.push(t.Gr.updateTargetData(a,C))});let d=ii(),p=Me();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),f.push(Kk(a,u,e.documentUpdates).next(y=>{d=y.Is,p=y.Es})),!r.isEqual(ke.min())){const y=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(y)}return Z.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(t.us=s,a))}function Kk(n,e,t){let r=Me(),s=Me();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ii();return t.forEach((f,d)=>{const p=a.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(f)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):ce("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),{Is:u,Es:s}})}function Gk(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qk(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,Z.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Fi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function lp(n,e,t){const r=be(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!aa(u))throw u;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function Zy(n,e,t){const r=be(n);let s=ke.min(),a=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,y){const w=be(d),E=w.cs.get(y);return E!==void 0?Z.resolve(w.us.get(E)):w.Gr.getTargetData(p,y)}(r,u,Sr(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,f.targetId).next(d=>{a=d})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:ke.min(),t?a:Me())).next(f=>(Yk(r,MA(e),f),{documents:f,ds:a})))}function Yk(n,e,t){let r=n.ls.get(e)||ke.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class e_{constructor(){this.activeTargetIds=BA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xk{constructor(){this._o=new e_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new e_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=null;function bf(){return gc===null?gc=function(){return 268435456+Math.round(2147483648*Math.random())}():gc++,"0x"+gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class tb extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const f=bf(),d=this.No(t,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${t}' ${f}:`,d,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,u),this.Bo(t,d,p,s).then(y=>(ce("RestConnection",`Received RPC '${t}' ${f}: `,y),y),y=>{throw Wo("RestConnection",`RPC '${t}' ${f} failed with error: `,y,"url: ",d,"request:",s),y})}ko(t,r,s,a,u,f){return this.Oo(t,r,s,a,u)}Lo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=Zk[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,s){const a=bf();return new Promise((u,f)=>{const d=new sw;d.setWithCredentials(!0),d.listenOnce(ow.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ac.NO_ERROR:const y=d.getResponseJson();ce(qt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case Ac.TIMEOUT:ce(qt,`RPC '${e}' ${a} timed out`),f(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const w=d.getStatus();if(ce(qt,`RPC '${e}' ${a} failed with status:`,w,"response text:",d.getResponseText()),w>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const R=function(I){const D=I.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(D)>=0?D:ne.UNKNOWN}(C.status);f(new ge(R,C.message))}else f(new ge(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ce(qt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ce(qt,`RPC '${e}' ${a} sending request:`,s),d.send(t,"POST",p,r,15)})}qo(e,t,r){const s=bf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=uw(),f=lw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Lo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const y=a.join("");ce(qt,`Creating RPC '${e}' stream ${s}: ${y}`,d);const w=u.createWebChannel(y,d);let E=!1,C=!1;const R=new eb({Eo:I=>{C?ce(qt,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(E||(ce(qt,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),ce(qt,`RPC '${e}' stream ${s} sending:`,I),w.send(I))},Ao:()=>w.close()}),k=(I,D,j)=>{I.listen(D,H=>{try{j(H)}catch(X){setTimeout(()=>{throw X},0)}})};return k(w,fl.EventType.OPEN,()=>{C||(ce(qt,`RPC '${e}' stream ${s} transport opened.`),R.So())}),k(w,fl.EventType.CLOSE,()=>{C||(C=!0,ce(qt,`RPC '${e}' stream ${s} transport closed`),R.Do())}),k(w,fl.EventType.ERROR,I=>{C||(C=!0,Wo(qt,`RPC '${e}' stream ${s} transport errored:`,I),R.Do(new ge(ne.UNAVAILABLE,"The operation could not be completed")))}),k(w,fl.EventType.MESSAGE,I=>{var D;if(!C){const j=I.data[0];Ye(!!j);const H=j,X=(H==null?void 0:H.error)||((D=H[0])===null||D===void 0?void 0:D.error);if(X){ce(qt,`RPC '${e}' stream ${s} received error:`,X);const B=X.status;let J=function(b){const V=_t[b];if(V!==void 0)return Nw(V)}(B),x=X.message;J===void 0&&(J=ne.INTERNAL,x="Unknown error status: "+B+" with message "+X.message),C=!0,R.Do(new ge(J,x)),w.close()}else ce(qt,`RPC '${e}' stream ${s} received:`,j),R.vo(j)}}),k(f,aw.STAT_EVENT,I=>{I.stat===Jf.PROXY?ce(qt,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Jf.NOPROXY&&ce(qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.bo()},0),R}}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(n){return new lk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t,r,s,a,u,f,d){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Kw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new ge(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nb extends Gw{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=hk(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?Tr(u.readTime):ke.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=ap(this.serializer),t.addTarget=function(a,u){let f;const d=u.target;if(f=np(d)?{documents:pk(a,d)}:{query:mk(a,d).ct},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Mw(a,u.resumeToken);const p=ip(a,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(ke.min())>0){f.readTime=Xc(a,u.snapshotVersion.toTimestamp());const p=ip(a,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=vk(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.c_(t)}}class rb extends Gw{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=fk(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=ap(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>dk(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,sp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(ne.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.ko(e,sp(t,r),s,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ne.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class sb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ri(t),this.C_=!1):ce("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{js(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=be(d);p.k_.add(4),await Hl(p),p.K_.set("Unknown"),p.k_.delete(4),await Ah(p)}(this))})}),this.K_=new sb(r,s)}}async function Ah(n){if(js(n))for(const e of n.q_)await e(!0)}async function Hl(n){for(const e of n.q_)await e(!1)}function Qw(n,e){const t=be(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),sm(t)?im(t):la(t).s_()&&rm(t,e))}function nm(n,e){const t=be(n),r=la(t);t.B_.delete(e),r.s_()&&Yw(t,e),t.B_.size===0&&(r.s_()?r.a_():js(t)&&t.K_.set("Unknown"))}function rm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}la(n).V_(e)}function Yw(n,e){n.U_.xe(e),la(n).m_(e)}function im(n){n.U_=new ik({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),la(n).start(),n.K_.F_()}function sm(n){return js(n)&&!la(n).i_()&&n.B_.size>0}function js(n){return be(n).k_.size===0}function Xw(n){n.U_=void 0}async function ab(n){n.K_.set("Online")}async function lb(n){n.B_.forEach((e,t)=>{rm(n,e)})}async function ub(n,e){Xw(n),sm(n)?(n.K_.O_(e),im(n)):n.K_.set("Unknown")}async function cb(n,e,t){if(n.K_.set("Online"),e instanceof Lw&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const f of a.targetIds)s.B_.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.B_.delete(f),s.U_.removeTarget(f))}(n,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zc(n,r)}else if(e instanceof Oc?n.U_.$e(e):e instanceof Vw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(ke.min()))try{const r=await qw(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.U_.it(u);return f.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=a.B_.get(p);y&&a.B_.set(p,y.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,p)=>{const y=a.B_.get(d);if(!y)return;a.B_.set(d,y.withResumeToken($t.EMPTY_BYTE_STRING,y.snapshotVersion)),Yw(a,d);const w=new Fi(y.target,d,p,y.sequenceNumber);rm(a,w)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Zc(n,r)}}async function Zc(n,e,t){if(!aa(e))throw e;n.k_.add(1),await Hl(n),n.K_.set("Offline"),t||(t=()=>qw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Ah(n)})}function Jw(n,e){return e().catch(t=>Zc(n,t,e))}async function kh(n){const e=be(n),t=Qi(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;hb(e);)try{const s=await Gk(e.localStore,r);if(s===null){e.L_.length===0&&t.a_();break}r=s.batchId,db(e,s)}catch(s){await Zc(e,s)}Zw(e)&&eE(e)}function hb(n){return js(n)&&n.L_.length<10}function db(n,e){n.L_.push(e);const t=Qi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Zw(n){return js(n)&&!Qi(n).i_()&&n.L_.length>0}function eE(n){Qi(n).start()}async function fb(n){Qi(n).w_()}async function pb(n){const e=Qi(n);for(const t of n.L_)e.g_(t.mutations)}async function mb(n,e,t){const r=n.L_.shift(),s=Yp.from(r,e,t);await Jw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await kh(n)}async function gb(n,e){e&&Qi(n).f_&&await async function(r,s){if(function(u){return tk(u)&&u!==ne.ABORTED}(s.code)){const a=r.L_.shift();Qi(r).__(),await Jw(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await kh(r)}}(n,e),Zw(n)&&eE(n)}async function n_(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=js(t);t.k_.add(3),await Hl(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Ah(t)}async function vb(n,e){const t=be(n);e?(t.k_.delete(2),await Ah(t)):e||(t.k_.add(2),await Hl(t),t.K_.set("Unknown"))}function la(n){return n.W_||(n.W_=function(t,r,s){const a=be(t);return a.b_(),new nb(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:ab.bind(null,n),mo:lb.bind(null,n),po:ub.bind(null,n),R_:cb.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),sm(n)?im(n):n.K_.set("Unknown")):(await n.W_.stop(),Xw(n))})),n.W_}function Qi(n){return n.G_||(n.G_=function(t,r,s){const a=be(t);return a.b_(),new rb(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:fb.bind(null,n),po:gb.bind(null,n),p_:pb.bind(null,n),y_:mb.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await kh(n)):(await n.G_.stop(),n.L_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,f=new om(e,t,u,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(n,e){if(ri("AsyncQueue",`${e}: ${n}`),aa(n))return new ge(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{static emptySet(e){return new $o(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=pl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new $o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.z_=new ct(Ee.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Jo{constructor(e,t,r,s,a,u,f,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Jo(e,t,$o.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class _b{constructor(){this.queries=i_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=be(t),a=s.queries;s.queries=i_(),a.forEach((u,f)=>{for(const d of f.J_)d.onError(r)})})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function i_(){return new Us(n=>Ew(n),Sh)}async function tE(n,e){const t=be(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new yb,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=am(u,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&lm(t)}async function nE(n,e){const t=be(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function wb(n,e){const t=be(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const f of u.J_)f.ta(s)&&(r=!0);u.H_=s}}r&&lm(t)}function Eb(n,e,t){const r=be(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function lm(n){n.X_.forEach(e=>{e.next()})}var up,s_;(s_=up||(up={})).na="default",s_.Cache="cache";class rE{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.key=e}}class sE{constructor(e){this.key=e}}class Sb{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=Sw(e),this.ma=new $o(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new r_,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,w)=>{const E=s.get(y),C=Th(this.query,w)?w:null,R=!!E&&this.mutatedKeys.has(E.key),k=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let I=!1;E&&C?E.data.isEqual(C.data)?R!==k&&(r.track({type:3,doc:C}),I=!0):this.ya(E,C)||(r.track({type:2,doc:C}),I=!0,(d&&this.Va(C,d)>0||p&&this.Va(C,p)<0)&&(f=!0)):!E&&C?(r.track({type:0,doc:C}),I=!0):E&&!C&&(r.track({type:1,doc:E}),I=!0,(d||p)&&(f=!0)),I&&(C?(u=u.add(C),a=k?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{ma:u,pa:r,ss:f,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((y,w)=>function(C,R){const k=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return k(C)-k(R)}(y.type,w.type)||this.Va(y.doc,w.doc)),this.wa(r),s=s!=null&&s;const f=t&&!s?this.Sa():[],d=this.Ra.size===0&&this.current&&!s?1:0,p=d!==this.Aa;return this.Aa=d,u.length!==0||p?{snapshot:new Jo(this.query,e.ma,a,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new r_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new sE(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new iE(r))}),t}va(e){this.da=e.ds,this.Ra=Me();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Jo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Tb{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ib{constructor(e){this.key=e,this.Fa=!1}}class Cb{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Us(f=>Ew(f),Sh),this.Oa=new Map,this.Na=new Set,this.La=new ct(Ee.comparator),this.Ba=new Map,this.ka=new Zp,this.qa={},this.Qa=new Map,this.Ka=Xo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Rb(n,e,t=!0){const r=hE(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await oE(r,e,t,!0),s}async function Pb(n,e){const t=hE(n);await oE(t,e,!0,!1)}async function oE(n,e,t,r){const s=await Qk(n.localStore,Sr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await Ab(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Qw(n.remoteStore,s),f}async function Ab(n,e,t,r,s){n.Ua=(w,E,C)=>async function(k,I,D,j){let H=I.view.ga(D);H.ss&&(H=await Zy(k.localStore,I.query,!1).then(({documents:x})=>I.view.ga(x,H)));const X=j&&j.targetChanges.get(I.targetId),B=j&&j.targetMismatches.get(I.targetId)!=null,J=I.view.applyChanges(H,k.isPrimaryClient,X,B);return a_(k,I.targetId,J.ba),J.snapshot}(n,w,E,C);const a=await Zy(n.localStore,e,!0),u=new Sb(e,a.ds),f=u.ga(a.documents),d=Bl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(f,n.isPrimaryClient,d);a_(n,t,p.ba);const y=new Tb(e,t,u);return n.xa.set(e,y),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function kb(n,e,t){const r=be(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!Sh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await lp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&nm(r.remoteStore,s.targetId),cp(r,s.targetId)}).catch(oa)):(cp(r,s.targetId),await lp(r.localStore,s.targetId,!0))}async function bb(n,e){const t=be(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),nm(t.remoteStore,r.targetId))}async function xb(n,e,t){const r=Fb(n);try{const s=await function(u,f){const d=be(u),p=Pt.now(),y=f.reduce((C,R)=>C.add(R.key),Me());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",C=>{let R=ii(),k=Me();return d.hs.getEntries(C,y).next(I=>{R=I,R.forEach((D,j)=>{j.isValidDocument()||(k=k.add(D))})}).next(()=>d.localDocuments.getOverlayedDocuments(C,R)).next(I=>{w=I;const D=[];for(const j of f){const H=YA(j,w.get(j.key).overlayedDocument);H!=null&&D.push(new Ji(j.key,H,pw(H.value.mapValue),er.exists(!0)))}return d.mutationQueue.addMutationBatch(C,p,D,f)}).next(I=>{E=I;const D=I.applyToLocalDocumentSet(w,k);return d.documentOverlayCache.saveOverlays(C,I.batchId,D)})}).then(()=>({batchId:E.batchId,changes:Iw(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,d){let p=u.qa[u.currentUser.toKey()];p||(p=new ct(je)),p=p.insert(f,d),u.qa[u.currentUser.toKey()]=p}(r,s.batchId,t),await Wl(r,s.changes),await kh(r.remoteStore)}catch(s){const a=am(s,"Failed to persist write");t.reject(a)}}async function aE(n,e){const t=be(n);try{const r=await qk(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ba.get(a);u&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?Ye(u.Fa):s.removedDocuments.size>0&&(Ye(u.Fa),u.Fa=!1))}),await Wl(t,r,e)}catch(r){await oa(r)}}function o_(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const f=u.view.ea(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const d=be(u);d.onlineState=f;let p=!1;d.queries.forEach((y,w)=>{for(const E of w.J_)E.ea(f)&&(p=!0)}),p&&lm(d)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ob(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ba.get(e),a=s&&s.key;if(a){let u=new ct(Ee.comparator);u=u.insert(a,Qt.newNoDocument(a,ke.min()));const f=Me().add(a),d=new Rh(ke.min(),new Map,new ct(je),u,f);await aE(r,d),r.La=r.La.remove(a),r.Ba.delete(e),um(r)}else await lp(r.localStore,e,!1).then(()=>cp(r,e,t)).catch(oa)}async function Db(n,e){const t=be(n),r=e.batch.batchId;try{const s=await Wk(t.localStore,e);uE(t,r,null),lE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Wl(t,s)}catch(s){await oa(s)}}async function Nb(n,e,t){const r=be(n);try{const s=await function(u,f){const d=be(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,f).next(w=>(Ye(w!==null),y=w.keys(),d.mutationQueue.removeMutationBatch(p,w))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(r.localStore,e);uE(r,e,t),lE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Wl(r,s)}catch(s){await oa(s)}}function lE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function uE(n,e,t){const r=be(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function cp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||cE(n,r)})}function cE(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(nm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),um(n))}function a_(n,e,t){for(const r of t)r instanceof iE?(n.ka.addReference(r.key,e),Vb(n,r)):r instanceof sE?(ce("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||cE(n,r.key)):Re()}function Vb(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(ce("SyncEngine","New document in limbo: "+t),n.Na.add(r),um(n))}function um(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ee(ot.fromString(e)),r=n.Ka.next();n.Ba.set(r,new Ib(t)),n.La=n.La.insert(t,r),Qw(n.remoteStore,new Fi(Sr(Kp(t.path)),r,"TargetPurposeLimboResolution",yh.oe))}}async function Wl(n,e,t){const r=be(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((f,d)=>{u.push(r.Ua(d,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(p){s.push(p);const w=tm.zi(d.targetId,p);a.push(w)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(d,p){const y=be(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(p,E=>Z.forEach(E.Wi,C=>y.persistence.referenceDelegate.addReference(w,E.targetId,C)).next(()=>Z.forEach(E.Gi,C=>y.persistence.referenceDelegate.removeReference(w,E.targetId,C)))))}catch(w){if(!aa(w))throw w;ce("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const C=y.us.get(E),R=C.snapshotVersion,k=C.withLastLimboFreeSnapshotVersion(R);y.us=y.us.insert(E,k)}}}(r.localStore,a))}async function Lb(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await Ww(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(f=>{f.forEach(d=>{d.reject(new ge(ne.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wl(t,r.Ts)}}function Mb(n,e){const t=be(n),r=t.Ba.get(e);if(r&&r.Fa)return Me().add(r.key);{let s=Me();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const f=t.xa.get(u);s=s.unionWith(f.view.fa)}return s}}function hE(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ob.bind(null,e),e.Ma.R_=wb.bind(null,e.eventManager),e.Ma.Wa=Eb.bind(null,e.eventManager),e}function Fb(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Db.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nb.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Hk(this.persistence,new zk,e.initialUser,this.serializer)}ja(e){return new Hw(em.ei,this.serializer)}za(e){return new Xk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class Ub extends eh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ye(this.persistence.referenceDelegate instanceof Jc);const r=this.persistence.referenceDelegate.garbageCollector;return new Pk(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Hw(r=>Jc.ei(r,t),this.serializer)}}class hp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lb.bind(null,this.syncEngine),await vb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _b}()}createDatastore(e){const t=Ph(e.databaseInfo.databaseId),r=function(a){return new tb(a)}(e.databaseInfo);return function(a,u,f,d){return new ib(a,u,f,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,f){return new ob(r,s,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>o_(this.syncEngine,t,0),function(){return t_.p()?new t_:new Jk}())}createSyncEngine(e,t){return function(s,a,u,f,d,p,y){const w=new Cb(s,a,u,f,d,p);return y&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=be(s);ce("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Hl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=hw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ce("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=am(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Of(n,e){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Ww(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function l_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $b(n);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>n_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>n_(e.remoteStore,s)),n._onlineComponents=e}async function $b(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Of(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),await Of(n,new eh)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Of(n,new Ub(void 0));return n._offlineComponents}async function fE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await l_(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await l_(n,new hp))),n._onlineComponents}function zb(n){return fE(n).then(e=>e.syncEngine)}async function pE(n){const e=await fE(n),t=e.eventManager;return t.onListen=Rb.bind(null,e.syncEngine),t.onUnlisten=kb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Pb.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bb.bind(null,e.syncEngine),t}function Bb(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,d,p){const y=new dE({next:E=>{y.eu(),u.enqueueAndForget(()=>nE(a,w));const C=E.docs.has(f);!C&&E.fromCache?p.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&d&&d.source==="server"?p.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new rE(Kp(f.path),y,{includeMetadataChanges:!0,ua:!0});return tE(a,w)}(await pE(n),n.asyncQueue,e,t,r)),r.promise}function Hb(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,d,p){const y=new dE({next:E=>{y.eu(),u.enqueueAndForget(()=>nE(a,w)),E.fromCache&&d.source==="server"?p.reject(new ge(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new rE(f,y,{includeMetadataChanges:!0,ua:!0});return tE(a,w)}(await pE(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n,e,t){if(!t)throw new ge(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Wb(n,e,t,r){if(e===!0&&r===!0)throw new ge(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function c_(n){if(!Ee.isDocumentKey(n))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function h_(n){if(Ee.isDocumentKey(n))throw new ge(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function si(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cm(n);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nA;switch(r.type){case"firstParty":return new oA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=u_.get(t);r&&(ce("ComponentProvider","Removing Datastore"),u_.delete(t),r.terminate())}(this),Promise.resolve()}}function qb(n,e,t,r={}){var s;const a=(n=si(n,bh))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=Gt.MOCK_USER;else{f=TI(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Gt(p)}n._authCredentials=new rA(new cw(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xh(this.firestore,e,this._query)}}class In{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Bi extends xh{constructor(e,t,r){super(e,t,Kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new Ee(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function Rn(n,e,...t){if(n=Xt(n),gE("collection","path",e),n instanceof bh){const r=ot.fromString(e,...t);return h_(r),new Bi(n,null,r)}{if(!(n instanceof In||n instanceof Bi))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return h_(r),new Bi(n.firestore,null,r)}}function Jt(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=hw.newId()),gE("doc","path",e),n instanceof bh){const r=ot.fromString(e,...t);return c_(r),new In(n,null,new Ee(r))}{if(!(n instanceof In||n instanceof Bi))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return c_(r),new In(n.firestore,n instanceof Bi?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Kw(this,"async_queue_retry"),this.fu=()=>{const r=xf();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=xf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=xf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Zr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!aa(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw ri("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=om.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(s),s}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class ua extends bh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new f_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f_(e),this._firestoreClient=void 0,await e}}}function Kb(n,e){const t=typeof n=="object"?n:E0(),r=typeof n=="string"?n:"(default)",s=Op(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=EI("firestore");a&&qb(s,...a)}return s}function hm(n){if(n._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Gb(n),n._firestoreClient}function Gb(n){var e,t,r;const s=n._freezeSettings(),a=function(f,d,p,y){return new EA(f,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,mE(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new jb(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo($t.fromBase64String(e))}catch(t){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=/^__.*__$/;class Yb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class vE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Dh{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Dh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return th(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(yE(this.Mu)&&Qb.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Xb{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ph(e)}$u(e,t,r,s=!1){return new Dh({Mu:e,methodName:t,Ku:r,path:jt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _E(n){const e=n._freezeSettings(),t=Ph(n._databaseId);return new Xb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jb(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);gm("Data must be an object, but it was:",u,r);const f=EE(r,u);let d,p;if(a.merge)d=new Tn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const E=dp(e,w,t);if(!u.contains(E))throw new ge(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);TE(y,E)||y.push(E)}d=new Tn(y),p=u.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,p=u.fieldTransforms;return new Yb(new pn(f),d,p)}class Nh extends ql{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function wE(n,e,t){return new Dh({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pm extends ql{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=wE(this,e,!0),r=this.Uu.map(a=>ca(a,t)),s=new Qo(r);return new xw(e.path,s)}isEqual(e){return e instanceof pm&&Bo(this.Uu,e.Uu)}}class mm extends ql{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=wE(this,e,!0),r=this.Uu.map(a=>ca(a,t)),s=new Yo(r);return new xw(e.path,s)}isEqual(e){return e instanceof mm&&Bo(this.Uu,e.Uu)}}function Zb(n,e,t,r){const s=n.$u(1,e,t);gm("Data must be an object, but it was:",s,r);const a=[],u=pn.empty();Xi(r,(d,p)=>{const y=vm(e,d,t);p=Xt(p);const w=s.Bu(y);if(p instanceof Nh)a.push(y);else{const E=ca(p,w);E!=null&&(a.push(y),u.set(y,E))}});const f=new Tn(a);return new vE(u,f,s.fieldTransforms)}function ex(n,e,t,r,s,a){const u=n.$u(1,e,t),f=[dp(e,r,t)],d=[s];if(a.length%2!=0)throw new ge(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)f.push(dp(e,a[E])),d.push(a[E+1]);const p=[],y=pn.empty();for(let E=f.length-1;E>=0;--E)if(!TE(p,f[E])){const C=f[E];let R=d[E];R=Xt(R);const k=u.Bu(C);if(R instanceof Nh)p.push(C);else{const I=ca(R,k);I!=null&&(p.push(C),y.set(C,I))}}const w=new Tn(p);return new vE(y,w,u.fieldTransforms)}function ca(n,e){if(SE(n=Xt(n)))return gm("Unsupported field value:",e,n),EE(n,e);if(n instanceof ql)return function(r,s){if(!yE(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const f of r){let d=ca(f,s.ku(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:Xc(s.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xc(s.serializer,a)}}if(r instanceof dm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zo)return{bytesValue:Mw(s.serializer,r._byteString)};if(r instanceof In){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Jp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof fm)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw f.qu("VectorValues must only contain numeric values.");return Gp(f.serializer,d)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${cm(r)}`)}(n,e)}function EE(n,e){const t={};return dw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(n,(r,s)=>{const a=ca(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function SE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof dm||n instanceof Zo||n instanceof In||n instanceof ql||n instanceof fm)}function gm(n,e,t){if(!SE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=cm(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function dp(n,e,t){if((e=Xt(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return vm(n,e);throw th("Field path arguments must be of type string or ",n,!1,void 0,t)}const tx=new RegExp("[~\\*/\\[\\]]");function vm(n,e,t){if(e.search(tx)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oh(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function th(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new ge(ne.INVALID_ARGUMENT,f+n+d)}function TE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class nx extends IE{data(){return super.data()}}function CE(n,e){return typeof e=="string"?vm(n,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ix{convertValue(e,t="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xi(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>mt(u.doubleValue));return new fm(a)}convertGeoPoint(e){return new dm(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=qi(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);Ye(Bw(r));const s=new Al(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return s.isEqual(t)||ri(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RE extends IE{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(CE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Dc extends RE{data(e={}){return super.data(e)}}class ox{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Dc(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const d=new Dc(s._firestore,s._userDataWriter,f.doc.key,f.doc,new gl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const d=new Dc(s._firestore,s._userDataWriter,f.doc.key,f.doc,new gl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:ax(f.type),doc:d,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ax(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n){n=si(n,In);const e=si(n.firestore,ua);return Bb(hm(e),n._key).then(t=>ux(e,n,t))}class PE extends ix{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}function $s(n){n=si(n,xh);const e=si(n.firestore,ua),t=hm(e),r=new PE(e);return rx(n._query),Hb(t,n._query).then(s=>new ox(e,r,n,s))}function Zi(n,e,t,...r){n=si(n,In);const s=si(n.firestore,ua),a=_E(s);let u;return u=typeof(e=Xt(e))=="string"||e instanceof Oh?ex(a,"updateDoc",n._key,e,t,r):Zb(a,"updateDoc",n._key,e),ym(s,[u.toMutation(n._key,er.exists(!0))])}function ha(n){return ym(si(n.firestore,ua),[new Qp(n._key,er.none())])}function da(n,e){const t=si(n.firestore,ua),r=Jt(n),s=sx(n.converter,e);return ym(t,[Jb(_E(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function ym(n,e){return function(r,s){const a=new Zr;return r.asyncQueue.enqueueAndForget(async()=>xb(await zb(r),s,a)),a.promise}(hm(n),e)}function ux(n,e,t){const r=t.docs.get(e._key),s=new PE(n);return new RE(n,s,e._key,r,new gl(t.hasPendingWrites,t.fromCache),e.converter)}function AE(...n){return new pm("arrayUnion",n)}function kE(...n){return new mm("arrayRemove",n)}(function(e,t=!0){(function(s){sa=s})(ia),Ho(new xs("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new ua(new iA(r.getProvider("auth-internal")),new lA(r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(p.options.projectId,y)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),$i(by,"4.7.5",e),$i(by,"4.7.5","esm2017")})();const cx={apiKey:"AIzaSyAxlL6dXgQ2JOjkwUNeWTdpretOWzf55tk",authDomain:"learn-track-center.firebaseapp.com",projectId:"learn-track-center",storageBucket:"learn-track-center.firebasestorage.app",messagingSenderId:'"651698569013",',appId:"1:651698569013:web:d8a9a0d97fef19f23bd67c",measurementId:"G-SHQ8L381Z5"},bE=w0(cx),Je=Kb(bE),hx=JP(bE),g2=new Kr,xE=()=>{const[n,e]=A.useState(null),[t,r]=A.useState(!0);return A.useEffect(()=>{const s=zR(hx,a=>{e(a),r(!1)});return()=>s()},[]),{user:n,loading:t}},_m=({type:n="loader",children:e,text:t})=>F.jsx("div",{className:"loading-container",children:n==="spinner"||e?F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"spinner"}),t&&F.jsx("p",{children:t}),F.jsx("p",{children:e})]}):F.jsxs(F.Fragment,{children:[t&&F.jsx("div",{className:"loading-text",children:F.jsx("p",{children:t})}),F.jsx("div",{className:"loader",children:e})]})}),vr=({element:n})=>{const{user:e,loading:t}=xE();return t?F.jsx(_m,{}):e?F.jsx(F.Fragment,{children:n}):F.jsx(a0,{to:"/",replace:!0})};function Vs(n,e){const[t,r]=A.useState(()=>{try{const s=window.localStorage.getItem(n);return s?JSON.parse(s):e}catch(s){return console.error(s),e}});return A.useEffect(()=>{try{window.localStorage.setItem(n,JSON.stringify(t))}catch(s){console.error(s)}},[n,t]),[t,r]}const dx=({message:n,type:e,timeout:t=5e3,onClose:r})=>(A.useEffect(()=>{if(t===0)return;const s=setTimeout(()=>{r()},t);return()=>clearTimeout(s)},[r,t]),F.jsxs("div",{className:`notification ${e}`,children:[F.jsx("span",{children:n}),F.jsx("button",{className:"close-button",onClick:r,children:""})]})),OE=A.createContext(void 0),Vh=()=>{const n=A.useContext(OE);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n},fx=({children:n})=>{const[e,t]=A.useState([]),r=(a,u,f)=>{const d=Date.now();t(p=>{const y=[...p,{id:d,message:a,type:u,timeout:f}];return y.length>5?y.slice(-5):y}),f&&f>0&&setTimeout(()=>{s(d)},f)},s=a=>{t(u=>u.filter(f=>f.id!==a))};return F.jsxs(OE.Provider,{value:{showNotification:r},children:[F.jsx("div",{className:"notification-container",children:e.map(a=>F.jsx(dx,{message:a.message,type:a.type,onClose:()=>s(a.id),timeout:a.timeout},a.id))}),n]})},px=async()=>{const n=Rn(Je,"courses");return(await $s(n)).docs.map(t=>({id:t.id,...t.data()}))},DE=async n=>{const e=Rn(Je,`periods/${n}/courses`);return(await $s(e)).docs.map(r=>({id:r.id,...r.data()}))},mx=async(n,e)=>{const t=Rn(Je,`periods/${n}/courses`),r=await da(t,{...e});console.log("Course added with ID: ",r.id);const s=Jt(Je,`periods/${n}`);await Zi(s,{coursesIds:AE(r.id)})},gx=async(n,e)=>{const t=Jt(Je,`periods/${n}/courses`,e);await ha(t);const r=Jt(Je,`periods/${n}`);await Zi(r,{coursesIds:kE(e)})},vx=async(n,e,t)=>{const r=Jt(Je,`periods/${n}/courses`,e),{id:s,...a}=t;await Zi(r,a),console.log("Course updated with ID: ",e)},NE=A.createContext(void 0),yx=({children:n})=>{const[e,t]=A.useState(!1),[r,s]=A.useState("");return F.jsxs(NE.Provider,{value:{isLoading:e,loadingText:r,setIsLoading:t,setLoadingText:s},children:[e&&F.jsx(_m,{text:r}),n]})},Lh=()=>{const n=A.useContext(NE);if(n===void 0)throw new Error("useLoading must be used within a LoadingProvider");return n},VE=async()=>{const n=Rn(Je,"teachers");return(await $s(n)).docs.map(r=>({id:r.id,...r.data()}))},_x=async n=>{const e=Rn(Je,"teachers");await da(e,n)},wx=async n=>{const e=Jt(Je,"teachers",n);await ha(e)},Ex=n=>{const[e,t]=A.useState([]),[r,s]=A.useState(!0),[a,u]=A.useState(null),[f,d]=Vs("availableTeachers",[]),[p,y]=Vs("availableCourses",[]),{showNotification:w}=Vh(),{setIsLoading:E}=Lh();A.useEffect(()=>{E(r)},[r,E]);const C=async()=>{try{s(!0);const X=(await DE(n)).map(B=>{const J=f.find(x=>x.id===B.teacherId);return{...B,teacherName:J?J.name:"Unknown Course"}});t(X)}catch{w("Error fetching courses","error")}finally{s(!1)}},R=async()=>{try{s(!0);const H=await px();y(H)}catch{w("Error fetching courses","error")}finally{s(!1)}},k=async()=>{try{s(!0);const H=await VE();d(H)}catch{w("Error fetching courses","error")}finally{s(!1)}};return A.useEffect(()=>{C(),R(),k()},[]),{courses:e,availableCourses:p,availableTeachers:f,loading:r,error:a,handleAddCourse:async H=>{try{if(e.filter(X=>X.courseId===H.courseId).length>0){w("Course already added","error");return}s(!0),await mx(n,H),C()}catch{w("Error adding course","error")}finally{s(!1)}},handleDeleteCourse:async H=>{try{if(!H)return;s(!0),await gx(n,H),C()}catch{u("Error deleting course"),w("Error deleting course","error")}finally{s(!1)}},handleUpdateCourse:async(H,X)=>{try{if(!n)return;s(!0),await vx(n,H,X),C()}catch{u("Error update course"),w("Error update course","error")}finally{s(!1)}}}};function Ls(n){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(n)}function Sx(n,e){if(Ls(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function LE(n){var e=Sx(n,"string");return Ls(e)=="symbol"?e:e+""}function vl(n,e,t){return(e=LE(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function we(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(t),!0).forEach(function(r){vl(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Tx(n){if(Array.isArray(n))return n}function Ix(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,a,u,f=[],d=!0,p=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(r=a.call(t)).done)&&(f.push(r.value),f.length!==e);d=!0);}catch(y){p=!0,s=y}finally{try{if(!d&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(p)throw s}}return f}}function fp(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function ME(n,e){if(n){if(typeof n=="string")return fp(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fp(n,e):void 0}}function Cx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ei(n,e){return Tx(n)||Ix(n,e)||ME(n,e)||Cx()}function Rx(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function li(n,e){if(n==null)return{};var t,r,s=Rx(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var Px=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Ax(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,s=r===void 0?!1:r,a=n.defaultValue,u=a===void 0?null:a,f=n.inputValue,d=n.menuIsOpen,p=n.onChange,y=n.onInputChange,w=n.onMenuClose,E=n.onMenuOpen,C=n.value,R=li(n,Px),k=A.useState(f!==void 0?f:t),I=ei(k,2),D=I[0],j=I[1],H=A.useState(d!==void 0?d:s),X=ei(H,2),B=X[0],J=X[1],x=A.useState(C!==void 0?C:u),P=ei(x,2),b=P[0],V=P[1],L=A.useCallback(function(ie,fe){typeof p=="function"&&p(ie,fe),V(ie)},[p]),$=A.useCallback(function(ie,fe){var ae;typeof y=="function"&&(ae=y(ie,fe)),j(ae!==void 0?ae:ie)},[y]),N=A.useCallback(function(){typeof E=="function"&&E(),J(!0)},[E]),We=A.useCallback(function(){typeof w=="function"&&w(),J(!1)},[w]),Fe=f!==void 0?f:D,Ve=d!==void 0?d:B,De=C!==void 0?C:b;return we(we({},R),{},{inputValue:Fe,menuIsOpen:Ve,onChange:L,onInputChange:$,onMenuClose:We,onMenuOpen:N,value:De})}function Se(){return Se=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Se.apply(null,arguments)}function kx(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function m_(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,LE(r.key),r)}}function bx(n,e,t){return m_(n.prototype,e),m_(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function pp(n,e){return pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},pp(n,e)}function xx(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pp(n,e)}function nh(n){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nh(n)}function FE(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FE=function(){return!!n})()}function Ox(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Dx(n,e){if(e&&(Ls(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ox(n)}function Nx(n){var e=FE();return function(){var t,r=nh(n);if(e){var s=nh(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return Dx(this,t)}}function Vx(n){if(Array.isArray(n))return fp(n)}function Lx(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Mx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wm(n){return Vx(n)||Lx(n)||ME(n)||Mx()}var Fx=!1;function Ux(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function jx(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $x=function(){function n(t){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!Fx:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jx(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Ux(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Kt="-ms-",rh="-moz-",Ke="-webkit-",UE="comm",Em="rule",Sm="decl",zx="@import",jE="@keyframes",Bx="@layer",Hx=Math.abs,Mh=String.fromCharCode,Wx=Object.assign;function qx(n,e){return Ut(n,0)^45?(((e<<2^Ut(n,0))<<2^Ut(n,1))<<2^Ut(n,2))<<2^Ut(n,3):0}function $E(n){return n.trim()}function Kx(n,e){return(n=e.exec(n))?n[0]:n}function Ge(n,e,t){return n.replace(e,t)}function mp(n,e){return n.indexOf(e)}function Ut(n,e){return n.charCodeAt(e)|0}function bl(n,e,t){return n.slice(e,t)}function yr(n){return n.length}function Tm(n){return n.length}function vc(n,e){return e.push(n),n}function Gx(n,e){return n.map(e).join("")}var Fh=1,ea=1,zE=0,mn=0,wt=0,fa="";function Uh(n,e,t,r,s,a,u){return{value:n,root:e,parent:t,type:r,props:s,children:a,line:Fh,column:ea,length:u,return:""}}function hl(n,e){return Wx(Uh("",null,null,"",null,null,0),n,{length:-n.length},e)}function Qx(){return wt}function Yx(){return wt=mn>0?Ut(fa,--mn):0,ea--,wt===10&&(ea=1,Fh--),wt}function Cn(){return wt=mn<zE?Ut(fa,mn++):0,ea++,wt===10&&(ea=1,Fh++),wt}function Ir(){return Ut(fa,mn)}function Nc(){return mn}function Kl(n,e){return bl(fa,n,e)}function xl(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function BE(n){return Fh=ea=1,zE=yr(fa=n),mn=0,[]}function HE(n){return fa="",n}function Vc(n){return $E(Kl(mn-1,gp(n===91?n+2:n===40?n+1:n)))}function Xx(n){for(;(wt=Ir())&&wt<33;)Cn();return xl(n)>2||xl(wt)>3?"":" "}function Jx(n,e){for(;--e&&Cn()&&!(wt<48||wt>102||wt>57&&wt<65||wt>70&&wt<97););return Kl(n,Nc()+(e<6&&Ir()==32&&Cn()==32))}function gp(n){for(;Cn();)switch(wt){case n:return mn;case 34:case 39:n!==34&&n!==39&&gp(wt);break;case 40:n===41&&gp(n);break;case 92:Cn();break}return mn}function Zx(n,e){for(;Cn()&&n+wt!==57;)if(n+wt===84&&Ir()===47)break;return"/*"+Kl(e,mn-1)+"*"+Mh(n===47?n:Cn())}function eO(n){for(;!xl(Ir());)Cn();return Kl(n,mn)}function tO(n){return HE(Lc("",null,null,null,[""],n=BE(n),0,[0],n))}function Lc(n,e,t,r,s,a,u,f,d){for(var p=0,y=0,w=u,E=0,C=0,R=0,k=1,I=1,D=1,j=0,H="",X=s,B=a,J=r,x=H;I;)switch(R=j,j=Cn()){case 40:if(R!=108&&Ut(x,w-1)==58){mp(x+=Ge(Vc(j),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:x+=Vc(j);break;case 9:case 10:case 13:case 32:x+=Xx(R);break;case 92:x+=Jx(Nc()-1,7);continue;case 47:switch(Ir()){case 42:case 47:vc(nO(Zx(Cn(),Nc()),e,t),d);break;default:x+="/"}break;case 123*k:f[p++]=yr(x)*D;case 125*k:case 59:case 0:switch(j){case 0:case 125:I=0;case 59+y:D==-1&&(x=Ge(x,/\f/g,"")),C>0&&yr(x)-w&&vc(C>32?v_(x+";",r,t,w-1):v_(Ge(x," ","")+";",r,t,w-2),d);break;case 59:x+=";";default:if(vc(J=g_(x,e,t,p,y,s,f,H,X=[],B=[],w),a),j===123)if(y===0)Lc(x,e,J,J,X,a,w,f,B);else switch(E===99&&Ut(x,3)===110?100:E){case 100:case 108:case 109:case 115:Lc(n,J,J,r&&vc(g_(n,J,J,0,0,s,f,H,s,X=[],w),B),s,B,w,f,r?X:B);break;default:Lc(x,J,J,J,[""],B,0,f,B)}}p=y=C=0,k=D=1,H=x="",w=u;break;case 58:w=1+yr(x),C=R;default:if(k<1){if(j==123)--k;else if(j==125&&k++==0&&Yx()==125)continue}switch(x+=Mh(j),j*k){case 38:D=y>0?1:(x+="\f",-1);break;case 44:f[p++]=(yr(x)-1)*D,D=1;break;case 64:Ir()===45&&(x+=Vc(Cn())),E=Ir(),y=w=yr(H=x+=eO(Nc())),j++;break;case 45:R===45&&yr(x)==2&&(k=0)}}return a}function g_(n,e,t,r,s,a,u,f,d,p,y){for(var w=s-1,E=s===0?a:[""],C=Tm(E),R=0,k=0,I=0;R<r;++R)for(var D=0,j=bl(n,w+1,w=Hx(k=u[R])),H=n;D<C;++D)(H=$E(k>0?E[D]+" "+j:Ge(j,/&\f/g,E[D])))&&(d[I++]=H);return Uh(n,e,t,s===0?Em:f,d,p,y)}function nO(n,e,t){return Uh(n,e,t,UE,Mh(Qx()),bl(n,2,-2),0)}function v_(n,e,t,r){return Uh(n,e,t,Sm,bl(n,0,r),bl(n,r+1,-1),r)}function zo(n,e){for(var t="",r=Tm(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function rO(n,e,t,r){switch(n.type){case Bx:if(n.children.length)break;case zx:case Sm:return n.return=n.return||n.value;case UE:return"";case jE:return n.return=n.value+"{"+zo(n.children,r)+"}";case Em:n.value=n.props.join(",")}return yr(t=zo(n.children,r))?n.return=n.value+"{"+t+"}":""}function iO(n){var e=Tm(n);return function(t,r,s,a){for(var u="",f=0;f<e;f++)u+=n[f](t,r,s,a)||"";return u}}function sO(n){return function(e){e.root||(e=e.return)&&n(e)}}function oO(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var aO=function(e,t,r){for(var s=0,a=0;s=a,a=Ir(),s===38&&a===12&&(t[r]=1),!xl(a);)Cn();return Kl(e,mn)},lO=function(e,t){var r=-1,s=44;do switch(xl(s)){case 0:s===38&&Ir()===12&&(t[r]=1),e[r]+=aO(mn-1,t,r);break;case 2:e[r]+=Vc(s);break;case 4:if(s===44){e[++r]=Ir()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Mh(s)}while(s=Cn());return e},uO=function(e,t){return HE(lO(BE(e),t))},y_=new WeakMap,cO=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!y_.get(r))&&!s){y_.set(e,!0);for(var a=[],u=uO(t,a),f=r.props,d=0,p=0;d<u.length;d++)for(var y=0;y<f.length;y++,p++)e.props[p]=a[d]?u[d].replace(/&\f/g,f[y]):f[y]+" "+u[d]}}},hO=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function WE(n,e){switch(qx(n,e)){case 5103:return Ke+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+n+rh+n+Kt+n+n;case 6828:case 4268:return Ke+n+Kt+n+n;case 6165:return Ke+n+Kt+"flex-"+n+n;case 5187:return Ke+n+Ge(n,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+Kt+"flex-$1$2")+n;case 5443:return Ke+n+Kt+"flex-item-"+Ge(n,/flex-|-self/,"")+n;case 4675:return Ke+n+Kt+"flex-line-pack"+Ge(n,/align-content|flex-|-self/,"")+n;case 5548:return Ke+n+Kt+Ge(n,"shrink","negative")+n;case 5292:return Ke+n+Kt+Ge(n,"basis","preferred-size")+n;case 6060:return Ke+"box-"+Ge(n,"-grow","")+Ke+n+Kt+Ge(n,"grow","positive")+n;case 4554:return Ke+Ge(n,/([^-])(transform)/g,"$1"+Ke+"$2")+n;case 6187:return Ge(Ge(Ge(n,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),n,"")+n;case 5495:case 3959:return Ge(n,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Ge(Ge(n,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+Kt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+n+n;case 4095:case 3583:case 4068:case 2532:return Ge(n,/(.+)-inline(.+)/,Ke+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yr(n)-1-e>6)switch(Ut(n,e+1)){case 109:if(Ut(n,e+4)!==45)break;case 102:return Ge(n,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+rh+(Ut(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~mp(n,"stretch")?WE(Ge(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Ut(n,e+1)!==115)break;case 6444:switch(Ut(n,yr(n)-3-(~mp(n,"!important")&&10))){case 107:return Ge(n,":",":"+Ke)+n;case 101:return Ge(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(Ut(n,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+Kt+"$2box$3")+n}break;case 5936:switch(Ut(n,e+11)){case 114:return Ke+n+Kt+Ge(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ke+n+Kt+Ge(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ke+n+Kt+Ge(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ke+n+Kt+n+n}return n}var dO=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case Sm:e.return=WE(e.value,e.length);break;case jE:return zo([hl(e,{value:Ge(e.value,"@","@"+Ke)})],s);case Em:if(e.length)return Gx(e.props,function(a){switch(Kx(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zo([hl(e,{props:[Ge(a,/:(read-\w+)/,":"+rh+"$1")]})],s);case"::placeholder":return zo([hl(e,{props:[Ge(a,/:(plac\w+)/,":"+Ke+"input-$1")]}),hl(e,{props:[Ge(a,/:(plac\w+)/,":"+rh+"$1")]}),hl(e,{props:[Ge(a,/:(plac\w+)/,Kt+"input-$1")]})],s)}return""})}},fO=[dO],pO=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(k){var I=k.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var s=e.stylisPlugins||fO,a={},u,f=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(k){for(var I=k.getAttribute("data-emotion").split(" "),D=1;D<I.length;D++)a[I[D]]=!0;f.push(k)});var d,p=[cO,hO];{var y,w=[rO,sO(function(k){y.insert(k)})],E=iO(p.concat(s,w)),C=function(I){return zo(tO(I),E)};d=function(I,D,j,H){y=j,C(I?I+"{"+D.styles+"}":D.styles),H&&(R.inserted[D.name]=!0)}}var R={key:t,sheet:new $x({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:d};return R.sheet.hydrate(f),R},Df={exports:{}},Qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function mO(){if(__)return Qe;__=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,w=n?Symbol.for("react.suspense"):60113,E=n?Symbol.for("react.suspense_list"):60120,C=n?Symbol.for("react.memo"):60115,R=n?Symbol.for("react.lazy"):60116,k=n?Symbol.for("react.block"):60121,I=n?Symbol.for("react.fundamental"):60117,D=n?Symbol.for("react.responder"):60118,j=n?Symbol.for("react.scope"):60119;function H(B){if(typeof B=="object"&&B!==null){var J=B.$$typeof;switch(J){case e:switch(B=B.type,B){case d:case p:case r:case a:case s:case w:return B;default:switch(B=B&&B.$$typeof,B){case f:case y:case R:case C:case u:return B;default:return J}}case t:return J}}}function X(B){return H(B)===p}return Qe.AsyncMode=d,Qe.ConcurrentMode=p,Qe.ContextConsumer=f,Qe.ContextProvider=u,Qe.Element=e,Qe.ForwardRef=y,Qe.Fragment=r,Qe.Lazy=R,Qe.Memo=C,Qe.Portal=t,Qe.Profiler=a,Qe.StrictMode=s,Qe.Suspense=w,Qe.isAsyncMode=function(B){return X(B)||H(B)===d},Qe.isConcurrentMode=X,Qe.isContextConsumer=function(B){return H(B)===f},Qe.isContextProvider=function(B){return H(B)===u},Qe.isElement=function(B){return typeof B=="object"&&B!==null&&B.$$typeof===e},Qe.isForwardRef=function(B){return H(B)===y},Qe.isFragment=function(B){return H(B)===r},Qe.isLazy=function(B){return H(B)===R},Qe.isMemo=function(B){return H(B)===C},Qe.isPortal=function(B){return H(B)===t},Qe.isProfiler=function(B){return H(B)===a},Qe.isStrictMode=function(B){return H(B)===s},Qe.isSuspense=function(B){return H(B)===w},Qe.isValidElementType=function(B){return typeof B=="string"||typeof B=="function"||B===r||B===p||B===a||B===s||B===w||B===E||typeof B=="object"&&B!==null&&(B.$$typeof===R||B.$$typeof===C||B.$$typeof===u||B.$$typeof===f||B.$$typeof===y||B.$$typeof===I||B.$$typeof===D||B.$$typeof===j||B.$$typeof===k)},Qe.typeOf=H,Qe}var w_;function gO(){return w_||(w_=1,Df.exports=mO()),Df.exports}var Nf,E_;function vO(){if(E_)return Nf;E_=1;var n=gO(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=r,a[n.Memo]=s;function u(R){return n.isMemo(R)?s:a[R.$$typeof]||e}var f=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,E=Object.prototype;function C(R,k,I){if(typeof k!="string"){if(E){var D=w(k);D&&D!==E&&C(R,D,I)}var j=d(k);p&&(j=j.concat(p(k)));for(var H=u(R),X=u(k),B=0;B<j.length;++B){var J=j[B];if(!t[J]&&!(I&&I[J])&&!(X&&X[J])&&!(H&&H[J])){var x=y(k,J);try{f(R,J,x)}catch{}}}}return R}return Nf=C,Nf}vO();var yO=!0;function _O(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var qE=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||yO===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},wO=function(e,t,r){qE(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function EO(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var SO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},TO=/[A-Z]|^ms/g,IO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,KE=function(e){return e.charCodeAt(1)===45},S_=function(e){return e!=null&&typeof e!="boolean"},Vf=oO(function(n){return KE(n)?n:n.replace(TO,"-$&").toLowerCase()}),T_=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(IO,function(r,s,a){return _r={name:s,styles:a,next:_r},s})}return SO[e]!==1&&!KE(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ol(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return _r={name:s.name,styles:s.styles,next:_r},s.name;var a=t;if(a.styles!==void 0){var u=a.next;if(u!==void 0)for(;u!==void 0;)_r={name:u.name,styles:u.styles,next:_r},u=u.next;var f=a.styles+";";return f}return CO(n,e,t)}case"function":{if(n!==void 0){var d=_r,p=t(n);return _r=d,Ol(n,e,p)}break}}var y=t;return y}function CO(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=Ol(n,e,t[s])+";";else for(var a in t){var u=t[a];if(typeof u!="object"){var f=u;S_(f)&&(r+=Vf(a)+":"+T_(a,f)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var d=0;d<u.length;d++)S_(u[d])&&(r+=Vf(a)+":"+T_(a,u[d])+";");else{var p=Ol(n,e,u);switch(a){case"animation":case"animationName":{r+=Vf(a)+":"+p+";";break}default:r+=a+"{"+p+"}"}}}return r}var I_=/label:\s*([^\s;{]+)\s*(;|$)/g,_r;function GE(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";_r=void 0;var a=n[0];if(a==null||a.raw===void 0)r=!1,s+=Ol(t,e,a);else{var u=a;s+=u[0]}for(var f=1;f<n.length;f++)if(s+=Ol(t,e,n[f]),r){var d=a;s+=d[f]}I_.lastIndex=0;for(var p="",y;(y=I_.exec(s))!==null;)p+="-"+y[1];var w=EO(s)+p;return{name:w,styles:s,next:_r}}var RO=function(e){return e()},PO=$v.useInsertionEffect?$v.useInsertionEffect:!1,AO=PO||RO,kO=!1,QE=A.createContext(typeof HTMLElement<"u"?pO({key:"css"}):null);QE.Provider;var bO=function(e){return A.forwardRef(function(t,r){var s=A.useContext(QE);return e(t,s,r)})},xO=A.createContext({}),Im={}.hasOwnProperty,vp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",OO=function(e,t){var r={};for(var s in t)Im.call(t,s)&&(r[s]=t[s]);return r[vp]=e,r},DO=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return qE(t,r,s),AO(function(){return wO(t,r,s)}),null},NO=bO(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=n[vp],a=[r],u="";typeof n.className=="string"?u=_O(e.registered,a,n.className):n.className!=null&&(u=n.className+" ");var f=GE(a,void 0,A.useContext(xO));u+=e.key+"-"+f.name;var d={};for(var p in n)Im.call(n,p)&&p!=="css"&&p!==vp&&!kO&&(d[p]=n[p]);return d.className=u,t&&(d.ref=t),A.createElement(A.Fragment,null,A.createElement(DO,{cache:e,serialized:f,isStringTag:typeof s=="string"}),A.createElement(s,d))}),VO=NO,ve=function(e,t){var r=arguments;if(t==null||!Im.call(t,"css"))return A.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=VO,a[1]=OO(e,t);for(var u=2;u<s;u++)a[u]=r[u];return A.createElement.apply(null,a)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(ve);function Cm(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return GE(e)}function LO(){var n=Cm.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function MO(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const FO=Math.min,UO=Math.max,ih=Math.round,yc=Math.floor,sh=n=>({x:n,y:n});function jO(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function jh(){return typeof window<"u"}function YE(n){return JE(n)?(n.nodeName||"").toLowerCase():"#document"}function oi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function XE(n){var e;return(e=(JE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function JE(n){return jh()?n instanceof Node||n instanceof oi(n).Node:!1}function $O(n){return jh()?n instanceof Element||n instanceof oi(n).Element:!1}function Rm(n){return jh()?n instanceof HTMLElement||n instanceof oi(n).HTMLElement:!1}function C_(n){return!jh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof oi(n).ShadowRoot}function ZE(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Pm(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function zO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function BO(n){return["html","body","#document"].includes(YE(n))}function Pm(n){return oi(n).getComputedStyle(n)}function HO(n){if(YE(n)==="html")return n;const e=n.assignedSlot||n.parentNode||C_(n)&&n.host||XE(n);return C_(e)?e.host:e}function eS(n){const e=HO(n);return BO(e)?n.ownerDocument?n.ownerDocument.body:n.body:Rm(e)&&ZE(e)?e:eS(e)}function oh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=eS(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),u=oi(s);if(a){const f=yp(u);return e.concat(u,u.visualViewport||[],ZE(s)?s:[],f&&t?oh(f):[])}return e.concat(s,oh(s,[],t))}function yp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function WO(n){const e=Pm(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Rm(n),a=s?n.offsetWidth:t,u=s?n.offsetHeight:r,f=ih(t)!==a||ih(r)!==u;return f&&(t=a,r=u),{width:t,height:r,$:f}}function Am(n){return $O(n)?n:n.contextElement}function R_(n){const e=Am(n);if(!Rm(e))return sh(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=WO(e);let u=(a?ih(t.width):t.width)/r,f=(a?ih(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const qO=sh(0);function KO(n){const e=oi(n);return!zO()||!e.visualViewport?qO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GO(n,e,t){return!1}function P_(n,e,t,r){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),a=Am(n);let u=sh(1);e&&(u=R_(n));const f=GO()?KO(a):sh(0);let d=(s.left+f.x)/u.x,p=(s.top+f.y)/u.y,y=s.width/u.x,w=s.height/u.y;if(a){const E=oi(a),C=r;let R=E,k=yp(R);for(;k&&r&&C!==R;){const I=R_(k),D=k.getBoundingClientRect(),j=Pm(k),H=D.left+(k.clientLeft+parseFloat(j.paddingLeft))*I.x,X=D.top+(k.clientTop+parseFloat(j.paddingTop))*I.y;d*=I.x,p*=I.y,y*=I.x,w*=I.y,d+=H,p+=X,R=oi(k),k=yp(R)}}return jO({width:y,height:w,x:d,y:p})}function QO(n,e){let t=null,r;const s=XE(n);function a(){var f;clearTimeout(r),(f=t)==null||f.disconnect(),t=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),a();const{left:p,top:y,width:w,height:E}=n.getBoundingClientRect();if(f||e(),!w||!E)return;const C=yc(y),R=yc(s.clientWidth-(p+w)),k=yc(s.clientHeight-(y+E)),I=yc(p),j={rootMargin:-C+"px "+-R+"px "+-k+"px "+-I+"px",threshold:UO(0,FO(1,d))||1};let H=!0;function X(B){const J=B[0].intersectionRatio;if(J!==d){if(!H)return u();J?u(!1,J):r=setTimeout(()=>{u(!1,1e-7)},1e3)}H=!1}try{t=new IntersectionObserver(X,{...j,root:s.ownerDocument})}catch{t=new IntersectionObserver(X,j)}t.observe(n)}return u(!0),a}function YO(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=Am(n),y=s||a?[...p?oh(p):[],...oh(e)]:[];y.forEach(D=>{s&&D.addEventListener("scroll",t,{passive:!0}),a&&D.addEventListener("resize",t)});const w=p&&f?QO(p,t):null;let E=-1,C=null;u&&(C=new ResizeObserver(D=>{let[j]=D;j&&j.target===p&&C&&(C.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var H;(H=C)==null||H.observe(e)})),t()}),p&&!d&&C.observe(p),C.observe(e));let R,k=d?P_(n):null;d&&I();function I(){const D=P_(n);k&&(D.x!==k.x||D.y!==k.y||D.width!==k.width||D.height!==k.height)&&t(),k=D,R=requestAnimationFrame(I)}return t(),()=>{var D;y.forEach(j=>{s&&j.removeEventListener("scroll",t),a&&j.removeEventListener("resize",t)}),w==null||w(),(D=C)==null||D.disconnect(),C=null,d&&cancelAnimationFrame(R)}}var _p=A.useLayoutEffect,XO=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ah=function(){};function JO(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function ZO(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];var a=[].concat(r);if(e&&n)for(var u in e)e.hasOwnProperty(u)&&e[u]&&a.push("".concat(JO(n,u)));return a.filter(function(f){return f}).map(function(f){return String(f).trim()}).join(" ")}var A_=function(e){return lD(e)?e.filter(Boolean):Ls(e)==="object"&&e!==null?[e]:[]},tS=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=li(e,XO);return we({},t)},dt=function(e,t,r){var s=e.cx,a=e.getStyles,u=e.getClassNames,f=e.className;return{css:a(t,e),className:s(r??{},u(t,e),f)}};function $h(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function eD(n){return $h(n)?window.innerHeight:n.clientHeight}function nS(n){return $h(n)?window.pageYOffset:n.scrollTop}function lh(n,e){if($h(n)){window.scrollTo(0,e);return}n.scrollTop=e}function tD(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function nD(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function _c(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ah,s=nS(n),a=e-s,u=10,f=0;function d(){f+=u;var p=nD(f,s,a,t);lh(n,p),f<t?window.requestAnimationFrame(d):r(n)}d()}function k_(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>t.bottom?lh(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):r.top-s<t.top&&lh(n,Math.max(e.offsetTop-s,0))}function rD(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function b_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function iD(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var rS=!1,sD={get passive(){return rS=!0}},wc=typeof window<"u"?window:{};wc.addEventListener&&wc.removeEventListener&&(wc.addEventListener("p",ah,sD),wc.removeEventListener("p",ah,!1));var oD=rS;function aD(n){return n!=null}function lD(n){return Array.isArray(n)}function Ec(n,e,t){return n?e:t}var uD=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];var a=Object.entries(e).filter(function(u){var f=ei(u,1),d=f[0];return!r.includes(d)});return a.reduce(function(u,f){var d=ei(f,2),p=d[0],y=d[1];return u[p]=y,u},{})},cD=["children","innerProps"],hD=["children","innerProps"];function dD(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,s=n.placement,a=n.shouldScroll,u=n.isFixedPosition,f=n.controlHeight,d=tD(t),p={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return p;var y=d.getBoundingClientRect(),w=y.height,E=t.getBoundingClientRect(),C=E.bottom,R=E.height,k=E.top,I=t.offsetParent.getBoundingClientRect(),D=I.top,j=u?window.innerHeight:eD(d),H=nS(d),X=parseInt(getComputedStyle(t).marginBottom,10),B=parseInt(getComputedStyle(t).marginTop,10),J=D-B,x=j-k,P=J+H,b=w-H-k,V=C-j+H+X,L=H+k-B,$=160;switch(s){case"auto":case"bottom":if(x>=R)return{placement:"bottom",maxHeight:e};if(b>=R&&!u)return a&&_c(d,V,$),{placement:"bottom",maxHeight:e};if(!u&&b>=r||u&&x>=r){a&&_c(d,V,$);var N=u?x-X:b-X;return{placement:"bottom",maxHeight:N}}if(s==="auto"||u){var We=e,Fe=u?J:P;return Fe>=r&&(We=Math.min(Fe-X-f,e)),{placement:"top",maxHeight:We}}if(s==="bottom")return a&&lh(d,V),{placement:"bottom",maxHeight:e};break;case"top":if(J>=R)return{placement:"top",maxHeight:e};if(P>=R&&!u)return a&&_c(d,L,$),{placement:"top",maxHeight:e};if(!u&&P>=r||u&&J>=r){var Ve=e;return(!u&&P>=r||u&&J>=r)&&(Ve=u?J-B:P-B),a&&_c(d,L,$),{placement:"top",maxHeight:Ve}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return p}function fD(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var iS=function(e){return e==="auto"?"bottom":e},pD=function(e,t){var r,s=e.placement,a=e.theme,u=a.borderRadius,f=a.spacing,d=a.colors;return we((r={label:"menu"},vl(r,fD(s),"100%"),vl(r,"position","absolute"),vl(r,"width","100%"),vl(r,"zIndex",1),r),t?{}:{backgroundColor:d.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:f.menuGutter,marginTop:f.menuGutter})},sS=A.createContext(null),mD=function(e){var t=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,a=e.menuPlacement,u=e.menuPosition,f=e.menuShouldScrollIntoView,d=e.theme,p=A.useContext(sS)||{},y=p.setPortalPlacement,w=A.useRef(null),E=A.useState(s),C=ei(E,2),R=C[0],k=C[1],I=A.useState(null),D=ei(I,2),j=D[0],H=D[1],X=d.spacing.controlHeight;return _p(function(){var B=w.current;if(B){var J=u==="fixed",x=f&&!J,P=dD({maxHeight:s,menuEl:B,minHeight:r,placement:a,shouldScroll:x,isFixedPosition:J,controlHeight:X});k(P.maxHeight),H(P.placement),y==null||y(P.placement)}},[s,a,u,f,r,y,X]),t({ref:w,placerProps:we(we({},e),{},{placement:j||iS(a),maxHeight:R})})},gD=function(e){var t=e.children,r=e.innerRef,s=e.innerProps;return ve("div",Se({},dt(e,"menu",{menu:!0}),{ref:r},s),t)},vD=gD,yD=function(e,t){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return we({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},_D=function(e){var t=e.children,r=e.innerProps,s=e.innerRef,a=e.isMulti;return ve("div",Se({},dt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:s},r),t)},oS=function(e,t){var r=e.theme,s=r.spacing.baseUnit,a=r.colors;return we({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},wD=oS,ED=oS,SD=function(e){var t=e.children,r=t===void 0?"No options":t,s=e.innerProps,a=li(e,cD);return ve("div",Se({},dt(we(we({},a),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},TD=function(e){var t=e.children,r=t===void 0?"Loading...":t,s=e.innerProps,a=li(e,hD);return ve("div",Se({},dt(we(we({},a),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},ID=function(e){var t=e.rect,r=e.offset,s=e.position;return{left:t.left,position:s,top:r,width:t.width,zIndex:1}},CD=function(e){var t=e.appendTo,r=e.children,s=e.controlElement,a=e.innerProps,u=e.menuPlacement,f=e.menuPosition,d=A.useRef(null),p=A.useRef(null),y=A.useState(iS(u)),w=ei(y,2),E=w[0],C=w[1],R=A.useMemo(function(){return{setPortalPlacement:C}},[]),k=A.useState(null),I=ei(k,2),D=I[0],j=I[1],H=A.useCallback(function(){if(s){var x=rD(s),P=f==="fixed"?0:window.pageYOffset,b=x[E]+P;(b!==(D==null?void 0:D.offset)||x.left!==(D==null?void 0:D.rect.left)||x.width!==(D==null?void 0:D.rect.width))&&j({offset:b,rect:x})}},[s,f,E,D==null?void 0:D.offset,D==null?void 0:D.rect.left,D==null?void 0:D.rect.width]);_p(function(){H()},[H]);var X=A.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),s&&d.current&&(p.current=YO(s,d.current,H,{elementResize:"ResizeObserver"in window}))},[s,H]);_p(function(){X()},[X]);var B=A.useCallback(function(x){d.current=x,X()},[X]);if(!t&&f!=="fixed"||!D)return null;var J=ve("div",Se({ref:B},dt(we(we({},e),{},{offset:D.offset,position:f,rect:D.rect}),"menuPortal",{"menu-portal":!0}),a),r);return ve(sS.Provider,{value:R},t?hI.createPortal(J,t):J)},RD=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},PD=function(e){var t=e.children,r=e.innerProps,s=e.isDisabled,a=e.isRtl;return ve("div",Se({},dt(e,"container",{"--is-disabled":s,"--is-rtl":a}),r),t)},AD=function(e,t){var r=e.theme.spacing,s=e.isMulti,a=e.hasValue,u=e.selectProps.controlShouldRenderValue;return we({alignItems:"center",display:s&&a&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},kD=function(e){var t=e.children,r=e.innerProps,s=e.isMulti,a=e.hasValue;return ve("div",Se({},dt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":a}),r),t)},bD=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},xD=function(e){var t=e.children,r=e.innerProps;return ve("div",Se({},dt(e,"indicatorsContainer",{indicators:!0}),r),t)},x_,OD=["size"],DD=["innerProps","isRtl","size"],ND={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},aS=function(e){var t=e.size,r=li(e,OD);return ve("svg",Se({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ND},r))},km=function(e){return ve(aS,Se({size:20},e),ve("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},lS=function(e){return ve(aS,Se({size:20},e),ve("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},uS=function(e,t){var r=e.isFocused,s=e.theme,a=s.spacing.baseUnit,u=s.colors;return we({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?u.neutral60:u.neutral20,padding:a*2,":hover":{color:r?u.neutral80:u.neutral40}})},VD=uS,LD=function(e){var t=e.children,r=e.innerProps;return ve("div",Se({},dt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||ve(lS,null))},MD=uS,FD=function(e){var t=e.children,r=e.innerProps;return ve("div",Se({},dt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||ve(km,null))},UD=function(e,t){var r=e.isDisabled,s=e.theme,a=s.spacing.baseUnit,u=s.colors;return we({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:a*2,marginTop:a*2})},jD=function(e){var t=e.innerProps;return ve("span",Se({},t,dt(e,"indicatorSeparator",{"indicator-separator":!0})))},$D=LO(x_||(x_=MO([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),zD=function(e,t){var r=e.isFocused,s=e.size,a=e.theme,u=a.colors,f=a.spacing.baseUnit;return we({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?u.neutral60:u.neutral20,padding:f*2})},Lf=function(e){var t=e.delay,r=e.offset;return ve("span",{css:Cm({animation:"".concat($D," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},BD=function(e){var t=e.innerProps,r=e.isRtl,s=e.size,a=s===void 0?4:s,u=li(e,DD);return ve("div",Se({},dt(we(we({},u),{},{innerProps:t,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ve(Lf,{delay:0,offset:r}),ve(Lf,{delay:160,offset:!0}),ve(Lf,{delay:320,offset:!r}))},HD=function(e,t){var r=e.isDisabled,s=e.isFocused,a=e.theme,u=a.colors,f=a.borderRadius,d=a.spacing;return we({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:s?u.primary:u.neutral20,borderRadius:f,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:s?u.primary:u.neutral30}})},WD=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,a=e.innerRef,u=e.innerProps,f=e.menuIsOpen;return ve("div",Se({ref:a},dt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":f}),u,{"aria-disabled":r||void 0}),t)},qD=WD,KD=["data"],GD=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},QD=function(e){var t=e.children,r=e.cx,s=e.getStyles,a=e.getClassNames,u=e.Heading,f=e.headingProps,d=e.innerProps,p=e.label,y=e.theme,w=e.selectProps;return ve("div",Se({},dt(e,"group",{group:!0}),d),ve(u,Se({},f,{selectProps:w,theme:y,getStyles:s,getClassNames:a,cx:r}),p),ve("div",null,t))},YD=function(e,t){var r=e.theme,s=r.colors,a=r.spacing;return we({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},XD=function(e){var t=tS(e);t.data;var r=li(t,KD);return ve("div",Se({},dt(e,"groupHeading",{"group-heading":!0}),r))},JD=QD,ZD=["innerRef","isDisabled","isHidden","inputClassName"],eN=function(e,t){var r=e.isDisabled,s=e.value,a=e.theme,u=a.spacing,f=a.colors;return we(we({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},tN),t?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:f.neutral80})},cS={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},tN={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":we({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},cS)},nN=function(e){return we({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},cS)},rN=function(e){var t=e.cx,r=e.value,s=tS(e),a=s.innerRef,u=s.isDisabled,f=s.isHidden,d=s.inputClassName,p=li(s,ZD);return ve("div",Se({},dt(e,"input",{"input-container":!0}),{"data-value":r||""}),ve("input",Se({className:t({input:!0},d),ref:a,style:nN(f),disabled:u},p)))},iN=rN,sN=function(e,t){var r=e.theme,s=r.spacing,a=r.borderRadius,u=r.colors;return we({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:u.neutral10,borderRadius:a/2,margin:s.baseUnit/2})},oN=function(e,t){var r=e.theme,s=r.borderRadius,a=r.colors,u=e.cropWithEllipsis;return we({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},aN=function(e,t){var r=e.theme,s=r.spacing,a=r.borderRadius,u=r.colors,f=e.isFocused;return we({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:f?u.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},hS=function(e){var t=e.children,r=e.innerProps;return ve("div",r,t)},lN=hS,uN=hS;function cN(n){var e=n.children,t=n.innerProps;return ve("div",Se({role:"button"},t),e||ve(km,{size:14}))}var hN=function(e){var t=e.children,r=e.components,s=e.data,a=e.innerProps,u=e.isDisabled,f=e.removeProps,d=e.selectProps,p=r.Container,y=r.Label,w=r.Remove;return ve(p,{data:s,innerProps:we(we({},dt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),a),selectProps:d},ve(y,{data:s,innerProps:we({},dt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},t),ve(w,{data:s,innerProps:we(we({},dt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},f),selectProps:d}))},dN=hN,fN=function(e,t){var r=e.isDisabled,s=e.isFocused,a=e.isSelected,u=e.theme,f=u.spacing,d=u.colors;return we({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?d.primary:s?d.primary25:"transparent",color:r?d.neutral20:a?d.neutral0:"inherit",padding:"".concat(f.baseUnit*2,"px ").concat(f.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?d.primary:d.primary50}})},pN=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,a=e.isSelected,u=e.innerRef,f=e.innerProps;return ve("div",Se({},dt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":a}),{ref:u,"aria-disabled":r},f),t)},mN=pN,gN=function(e,t){var r=e.theme,s=r.spacing,a=r.colors;return we({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},vN=function(e){var t=e.children,r=e.innerProps;return ve("div",Se({},dt(e,"placeholder",{placeholder:!0}),r),t)},yN=vN,_N=function(e,t){var r=e.isDisabled,s=e.theme,a=s.spacing,u=s.colors;return we({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?u.neutral40:u.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},wN=function(e){var t=e.children,r=e.isDisabled,s=e.innerProps;return ve("div",Se({},dt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),t)},EN=wN,SN={ClearIndicator:FD,Control:qD,DropdownIndicator:LD,DownChevron:lS,CrossIcon:km,Group:JD,GroupHeading:XD,IndicatorsContainer:xD,IndicatorSeparator:jD,Input:iN,LoadingIndicator:BD,Menu:vD,MenuList:_D,MenuPortal:CD,LoadingMessage:TD,NoOptionsMessage:SD,MultiValue:dN,MultiValueContainer:lN,MultiValueLabel:uN,MultiValueRemove:cN,Option:mN,Placeholder:yN,SelectContainer:PD,SingleValue:EN,ValueContainer:kD},TN=function(e){return we(we({},SN),e.components)},O_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function IN(n,e){return!!(n===e||O_(n)&&O_(e))}function CN(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!IN(n[t],e[t]))return!1;return!0}function RN(n,e){e===void 0&&(e=CN);var t=null;function r(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var u=n.apply(this,s);return t={lastResult:u,lastArgs:s,lastThis:this},u}return r.clear=function(){t=null},r}var PN={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},AN=function(e){return ve("span",Se({css:PN},e))},D_=AN,kN={guidance:function(e){var t=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,a=e.context,u=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,s=r===void 0?"":r,a=e.labels,u=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,s=e.options,a=e.label,u=a===void 0?"":a,f=e.selectValue,d=e.isDisabled,p=e.isSelected,y=e.isAppleDevice,w=function(k,I){return k&&k.length?"".concat(k.indexOf(I)+1," of ").concat(k.length):""};if(t==="value"&&f)return"value ".concat(u," focused, ").concat(w(f,r),".");if(t==="menu"&&y){var E=d?" disabled":"",C="".concat(p?" selected":"").concat(E);return"".concat(u).concat(C,", ").concat(w(s,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},bN=function(e){var t=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,a=e.focusableOptions,u=e.isFocused,f=e.selectValue,d=e.selectProps,p=e.id,y=e.isAppleDevice,w=d.ariaLiveMessages,E=d.getOptionLabel,C=d.inputValue,R=d.isMulti,k=d.isOptionDisabled,I=d.isSearchable,D=d.menuIsOpen,j=d.options,H=d.screenReaderStatus,X=d.tabSelectsValue,B=d.isLoading,J=d["aria-label"],x=d["aria-live"],P=A.useMemo(function(){return we(we({},kN),w||{})},[w]),b=A.useMemo(function(){var Fe="";if(t&&P.onChange){var Ve=t.option,De=t.options,ie=t.removedValue,fe=t.removedValues,ae=t.value,z=function(xe){return Array.isArray(xe)?null:xe},Y=ie||Ve||z(ae),le=Y?E(Y):"",Te=De||fe||void 0,Ie=Te?Te.map(E):[],Pe=we({isDisabled:Y&&k(Y,f),label:le,labels:Ie},t);Fe=P.onChange(Pe)}return Fe},[t,P,k,f,E]),V=A.useMemo(function(){var Fe="",Ve=r||s,De=!!(r&&f&&f.includes(r));if(Ve&&P.onFocus){var ie={focused:Ve,label:E(Ve),isDisabled:k(Ve,f),isSelected:De,options:a,context:Ve===r?"menu":"value",selectValue:f,isAppleDevice:y};Fe=P.onFocus(ie)}return Fe},[r,s,E,k,P,a,f,y]),L=A.useMemo(function(){var Fe="";if(D&&j.length&&!B&&P.onFilter){var Ve=H({count:a.length});Fe=P.onFilter({inputValue:C,resultsMessage:Ve})}return Fe},[a,C,D,P,j,H,B]),$=(t==null?void 0:t.action)==="initial-input-focus",N=A.useMemo(function(){var Fe="";if(P.guidance){var Ve=s?"value":D?"menu":"input";Fe=P.guidance({"aria-label":J,context:Ve,isDisabled:r&&k(r,f),isMulti:R,isSearchable:I,tabSelectsValue:X,isInitialFocus:$})}return Fe},[J,r,s,R,k,I,D,P,f,X,$]),We=ve(A.Fragment,null,ve("span",{id:"aria-selection"},b),ve("span",{id:"aria-focused"},V),ve("span",{id:"aria-results"},L),ve("span",{id:"aria-guidance"},N));return ve(A.Fragment,null,ve(D_,{id:p},$&&We),ve(D_,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!$&&We))},xN=bN,wp=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],ON=new RegExp("["+wp.map(function(n){return n.letters}).join("")+"]","g"),dS={};for(var Mf=0;Mf<wp.length;Mf++)for(var Ff=wp[Mf],Uf=0;Uf<Ff.letters.length;Uf++)dS[Ff.letters[Uf]]=Ff.base;var fS=function(e){return e.replace(ON,function(t){return dS[t]})},DN=RN(fS),N_=function(e){return e.replace(/^\s+|\s+$/g,"")},NN=function(e){return"".concat(e.label," ").concat(e.value)},VN=function(e){return function(t,r){if(t.data.__isNew__)return!0;var s=we({ignoreCase:!0,ignoreAccents:!0,stringify:NN,trim:!0,matchFrom:"any"},e),a=s.ignoreCase,u=s.ignoreAccents,f=s.stringify,d=s.trim,p=s.matchFrom,y=d?N_(r):r,w=d?N_(f(t)):f(t);return a&&(y=y.toLowerCase(),w=w.toLowerCase()),u&&(y=DN(y),w=fS(w)),p==="start"?w.substr(0,y.length)===y:w.indexOf(y)>-1}},LN=["innerRef"];function MN(n){var e=n.innerRef,t=li(n,LN),r=uD(t,"onExited","in","enter","exit","appear");return ve("input",Se({ref:e},r,{css:Cm({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var FN=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function UN(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,s=n.onTopArrive,a=n.onTopLeave,u=A.useRef(!1),f=A.useRef(!1),d=A.useRef(0),p=A.useRef(null),y=A.useCallback(function(I,D){if(p.current!==null){var j=p.current,H=j.scrollTop,X=j.scrollHeight,B=j.clientHeight,J=p.current,x=D>0,P=X-B-H,b=!1;P>D&&u.current&&(r&&r(I),u.current=!1),x&&f.current&&(a&&a(I),f.current=!1),x&&D>P?(t&&!u.current&&t(I),J.scrollTop=X,b=!0,u.current=!0):!x&&-D>H&&(s&&!f.current&&s(I),J.scrollTop=0,b=!0,f.current=!0),b&&FN(I)}},[t,r,s,a]),w=A.useCallback(function(I){y(I,I.deltaY)},[y]),E=A.useCallback(function(I){d.current=I.changedTouches[0].clientY},[]),C=A.useCallback(function(I){var D=d.current-I.changedTouches[0].clientY;y(I,D)},[y]),R=A.useCallback(function(I){if(I){var D=oD?{passive:!1}:!1;I.addEventListener("wheel",w,D),I.addEventListener("touchstart",E,D),I.addEventListener("touchmove",C,D)}},[C,E,w]),k=A.useCallback(function(I){I&&(I.removeEventListener("wheel",w,!1),I.removeEventListener("touchstart",E,!1),I.removeEventListener("touchmove",C,!1))},[C,E,w]);return A.useEffect(function(){if(e){var I=p.current;return R(I),function(){k(I)}}},[e,R,k]),function(I){p.current=I}}var V_=["boxSizing","height","overflow","paddingRight","position"],L_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function M_(n){n.cancelable&&n.preventDefault()}function F_(n){n.stopPropagation()}function U_(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function j_(){return"ontouchstart"in window||navigator.maxTouchPoints}var $_=!!(typeof window<"u"&&window.document&&window.document.createElement),dl=0,Do={capture:!1,passive:!1};function jN(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,s=A.useRef({}),a=A.useRef(null),u=A.useCallback(function(d){if($_){var p=document.body,y=p&&p.style;if(r&&V_.forEach(function(R){var k=y&&y[R];s.current[R]=k}),r&&dl<1){var w=parseInt(s.current.paddingRight,10)||0,E=document.body?document.body.clientWidth:0,C=window.innerWidth-E+w||0;Object.keys(L_).forEach(function(R){var k=L_[R];y&&(y[R]=k)}),y&&(y.paddingRight="".concat(C,"px"))}p&&j_()&&(p.addEventListener("touchmove",M_,Do),d&&(d.addEventListener("touchstart",U_,Do),d.addEventListener("touchmove",F_,Do))),dl+=1}},[r]),f=A.useCallback(function(d){if($_){var p=document.body,y=p&&p.style;dl=Math.max(dl-1,0),r&&dl<1&&V_.forEach(function(w){var E=s.current[w];y&&(y[w]=E)}),p&&j_()&&(p.removeEventListener("touchmove",M_,Do),d&&(d.removeEventListener("touchstart",U_,Do),d.removeEventListener("touchmove",F_,Do)))}},[r]);return A.useEffect(function(){if(e){var d=a.current;return u(d),function(){f(d)}}},[e,u,f]),function(d){a.current=d}}var $N=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},zN={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function BN(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,s=r===void 0?!0:r,a=n.onBottomArrive,u=n.onBottomLeave,f=n.onTopArrive,d=n.onTopLeave,p=UN({isEnabled:s,onBottomArrive:a,onBottomLeave:u,onTopArrive:f,onTopLeave:d}),y=jN({isEnabled:t}),w=function(C){p(C),y(C)};return ve(A.Fragment,null,t&&ve("div",{onClick:$N,css:zN}),e(w))}var HN={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},WN=function(e){var t=e.name,r=e.onFocus;return ve("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:HN,value:"",onChange:function(){}})},qN=WN;function bm(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function KN(){return bm(/^iPhone/i)}function pS(){return bm(/^Mac/i)}function GN(){return bm(/^iPad/i)||pS()&&navigator.maxTouchPoints>1}function QN(){return KN()||GN()}function YN(){return pS()||QN()}var XN=function(e){return e.label},JN=function(e){return e.label},ZN=function(e){return e.value},eV=function(e){return!!e.isDisabled},tV={clearIndicator:MD,container:RD,control:HD,dropdownIndicator:VD,group:GD,groupHeading:YD,indicatorsContainer:bD,indicatorSeparator:UD,input:eN,loadingIndicator:zD,loadingMessage:ED,menu:pD,menuList:yD,menuPortal:ID,multiValue:sN,multiValueLabel:oN,multiValueRemove:aN,noOptionsMessage:wD,option:fN,placeholder:gN,singleValue:_N,valueContainer:AD},nV={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},rV=4,mS=4,iV=38,sV=mS*2,oV={baseUnit:mS,controlHeight:iV,menuGutter:sV},jf={borderRadius:rV,colors:nV,spacing:oV},aV={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:b_(),captureMenuScroll:!b_(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:VN(),formatGroupLabel:XN,getOptionLabel:JN,getOptionValue:ZN,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:eV,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!iD(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function z_(n,e,t,r){var s=yS(n,e,t),a=_S(n,e,t),u=vS(n,e),f=uh(n,e);return{type:"option",data:e,isDisabled:s,isSelected:a,label:u,value:f,index:r}}function Mc(n,e){return n.options.map(function(t,r){if("options"in t){var s=t.options.map(function(u,f){return z_(n,u,e,f)}).filter(function(u){return H_(n,u)});return s.length>0?{type:"group",data:t,options:s,index:r}:void 0}var a=z_(n,t,e,r);return H_(n,a)?a:void 0}).filter(aD)}function gS(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,wm(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function B_(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,wm(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function lV(n,e){return gS(Mc(n,e))}function H_(n,e){var t=n.inputValue,r=t===void 0?"":t,s=e.data,a=e.isSelected,u=e.label,f=e.value;return(!ES(n)||!a)&&wS(n,{label:u,value:f,data:s},r)}function uV(n,e){var t=n.focusedValue,r=n.selectValue,s=r.indexOf(t);if(s>-1){var a=e.indexOf(t);if(a>-1)return t;if(s<e.length)return e[s]}return null}function cV(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var $f=function(e,t){var r,s=(r=e.find(function(a){return a.data===t}))===null||r===void 0?void 0:r.id;return s||null},vS=function(e,t){return e.getOptionLabel(t)},uh=function(e,t){return e.getOptionValue(t)};function yS(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function _S(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=uh(n,e);return t.some(function(s){return uh(n,s)===r})}function wS(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var ES=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},hV=1,SS=function(n){xx(t,n);var e=Nx(t);function t(r){var s;if(kx(this,t),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=YN(),s.controlRef=null,s.getControlRef=function(d){s.controlRef=d},s.focusedOptionRef=null,s.getFocusedOptionRef=function(d){s.focusedOptionRef=d},s.menuListRef=null,s.getMenuListRef=function(d){s.menuListRef=d},s.inputRef=null,s.getInputRef=function(d){s.inputRef=d},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(d,p){var y=s.props,w=y.onChange,E=y.name;p.name=E,s.ariaOnChange(d,p),w(d,p)},s.setValue=function(d,p,y){var w=s.props,E=w.closeMenuOnSelect,C=w.isMulti,R=w.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:R}),E&&(s.setState({inputIsHiddenAfterUpdate:!C}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(d,{action:p,option:y})},s.selectOption=function(d){var p=s.props,y=p.blurInputOnSelect,w=p.isMulti,E=p.name,C=s.state.selectValue,R=w&&s.isOptionSelected(d,C),k=s.isOptionDisabled(d,C);if(R){var I=s.getOptionValue(d);s.setValue(C.filter(function(D){return s.getOptionValue(D)!==I}),"deselect-option",d)}else if(!k)w?s.setValue([].concat(wm(C),[d]),"select-option",d):s.setValue(d,"select-option");else{s.ariaOnChange(d,{action:"select-option",option:d,name:E});return}y&&s.blurInput()},s.removeValue=function(d){var p=s.props.isMulti,y=s.state.selectValue,w=s.getOptionValue(d),E=y.filter(function(R){return s.getOptionValue(R)!==w}),C=Ec(p,E,E[0]||null);s.onChange(C,{action:"remove-value",removedValue:d}),s.focusInput()},s.clearValue=function(){var d=s.state.selectValue;s.onChange(Ec(s.props.isMulti,[],null),{action:"clear",removedValues:d})},s.popValue=function(){var d=s.props.isMulti,p=s.state.selectValue,y=p[p.length-1],w=p.slice(0,p.length-1),E=Ec(d,w,w[0]||null);y&&s.onChange(E,{action:"pop-value",removedValue:y})},s.getFocusedOptionId=function(d){return $f(s.state.focusableOptionsWithIds,d)},s.getFocusableOptionsWithIds=function(){return B_(Mc(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];return ZO.apply(void 0,[s.props.classNamePrefix].concat(p))},s.getOptionLabel=function(d){return vS(s.props,d)},s.getOptionValue=function(d){return uh(s.props,d)},s.getStyles=function(d,p){var y=s.props.unstyled,w=tV[d](p,y);w.boxSizing="border-box";var E=s.props.styles[d];return E?E(w,p):w},s.getClassNames=function(d,p){var y,w;return(y=(w=s.props.classNames)[d])===null||y===void 0?void 0:y.call(w,p)},s.getElementId=function(d){return"".concat(s.state.instancePrefix,"-").concat(d)},s.getComponents=function(){return TN(s.props)},s.buildCategorizedOptions=function(){return Mc(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return gS(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(d,p){s.setState({ariaSelection:we({value:d},p)})},s.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(d){s.blockOptionHover=!1},s.onControlMouseDown=function(d){if(!d.defaultPrevented){var p=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&s.onMenuClose():p&&s.openMenu("first"):(p&&(s.openAfterFocus=!0),s.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},s.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!s.props.isDisabled){var p=s.props,y=p.isMulti,w=p.menuIsOpen;s.focusInput(),w?(s.setState({inputIsHiddenAfterUpdate:!y}),s.onMenuClose()):s.openMenu("first"),d.preventDefault()}},s.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(s.clearValue(),d.preventDefault(),s.openAfterFocus=!1,d.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(d){typeof s.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&$h(d.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(d)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(d){var p=d.touches,y=p&&p.item(0);y&&(s.initialTouchX=y.clientX,s.initialTouchY=y.clientY,s.userIsDragging=!1)},s.onTouchMove=function(d){var p=d.touches,y=p&&p.item(0);if(y){var w=Math.abs(y.clientX-s.initialTouchX),E=Math.abs(y.clientY-s.initialTouchY),C=5;s.userIsDragging=w>C||E>C}},s.onTouchEnd=function(d){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(d.target)&&s.menuListRef&&!s.menuListRef.contains(d.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(d){s.userIsDragging||s.onControlMouseDown(d)},s.onClearIndicatorTouchEnd=function(d){s.userIsDragging||s.onClearIndicatorMouseDown(d)},s.onDropdownIndicatorTouchEnd=function(d){s.userIsDragging||s.onDropdownIndicatorMouseDown(d)},s.handleInputChange=function(d){var p=s.props.inputValue,y=d.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(y,{action:"input-change",prevInputValue:p}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(d){s.props.onFocus&&s.props.onFocus(d),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(d){var p=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(d),s.onInputChange("",{action:"input-blur",prevInputValue:p}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(d){if(!(s.blockOptionHover||s.state.focusedOption===d)){var p=s.getFocusableOptions(),y=p.indexOf(d);s.setState({focusedOption:d,focusedOptionId:y>-1?s.getFocusedOptionId(d):null})}},s.shouldHideSelectedOptions=function(){return ES(s.props)},s.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),s.focus()},s.onKeyDown=function(d){var p=s.props,y=p.isMulti,w=p.backspaceRemovesValue,E=p.escapeClearsValue,C=p.inputValue,R=p.isClearable,k=p.isDisabled,I=p.menuIsOpen,D=p.onKeyDown,j=p.tabSelectsValue,H=p.openMenuOnFocus,X=s.state,B=X.focusedOption,J=X.focusedValue,x=X.selectValue;if(!k&&!(typeof D=="function"&&(D(d),d.defaultPrevented))){switch(s.blockOptionHover=!0,d.key){case"ArrowLeft":if(!y||C)return;s.focusValue("previous");break;case"ArrowRight":if(!y||C)return;s.focusValue("next");break;case"Delete":case"Backspace":if(C)return;if(J)s.removeValue(J);else{if(!w)return;y?s.popValue():R&&s.clearValue()}break;case"Tab":if(s.isComposing||d.shiftKey||!I||!j||!B||H&&s.isOptionSelected(B,x))return;s.selectOption(B);break;case"Enter":if(d.keyCode===229)break;if(I){if(!B||s.isComposing)return;s.selectOption(B);break}return;case"Escape":I?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:C}),s.onMenuClose()):R&&E&&s.clearValue();break;case" ":if(C)return;if(!I){s.openMenu("first");break}if(!B)return;s.selectOption(B);break;case"ArrowUp":I?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":I?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!I)return;s.focusOption("pageup");break;case"PageDown":if(!I)return;s.focusOption("pagedown");break;case"Home":if(!I)return;s.focusOption("first");break;case"End":if(!I)return;s.focusOption("last");break;default:return}d.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++hV),s.state.selectValue=A_(r.value),r.menuIsOpen&&s.state.selectValue.length){var a=s.getFocusableOptionsWithIds(),u=s.buildFocusableOptions(),f=u.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=a,s.state.focusedOption=u[f],s.state.focusedOptionId=$f(a,u[f])}return s}return bx(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&k_(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var a=this.props,u=a.isDisabled,f=a.menuIsOpen,d=this.state.isFocused;(d&&!u&&s.isDisabled||d&&f&&!s.menuIsOpen)&&this.focusInput(),d&&u&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!u&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(k_(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,a){this.props.onInputChange(s,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var a=this,u=this.state,f=u.selectValue,d=u.isFocused,p=this.buildFocusableOptions(),y=s==="first"?0:p.length-1;if(!this.props.isMulti){var w=p.indexOf(f[0]);w>-1&&(y=w)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[y],focusedOptionId:this.getFocusedOptionId(p[y])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(s){var a=this.state,u=a.selectValue,f=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=u.indexOf(f);f||(d=-1);var p=u.length-1,y=-1;if(u.length){switch(s){case"previous":d===0?y=0:d===-1?y=p:y=d-1;break;case"next":d>-1&&d<p&&(y=d+1);break}this.setState({inputIsHidden:y!==-1,focusedValue:u[y]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,u=this.state.focusedOption,f=this.getFocusableOptions();if(f.length){var d=0,p=f.indexOf(u);u||(p=-1),s==="up"?d=p>0?p-1:f.length-1:s==="down"?d=(p+1)%f.length:s==="pageup"?(d=p-a,d<0&&(d=0)):s==="pagedown"?(d=p+a,d>f.length-1&&(d=f.length-1)):s==="last"&&(d=f.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:f[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(f[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(jf):we(we({},jf),this.props.theme):jf}},{key:"getCommonProps",value:function(){var s=this.clearValue,a=this.cx,u=this.getStyles,f=this.getClassNames,d=this.getValue,p=this.selectOption,y=this.setValue,w=this.props,E=w.isMulti,C=w.isRtl,R=w.options,k=this.hasValue();return{clearValue:s,cx:a,getStyles:u,getClassNames:f,getValue:d,hasValue:k,isMulti:E,isRtl:C,options:R,selectOption:p,selectProps:w,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,a=s.isClearable,u=s.isMulti;return a===void 0?u:a}},{key:"isOptionDisabled",value:function(s,a){return yS(this.props,s,a)}},{key:"isOptionSelected",value:function(s,a){return _S(this.props,s,a)}},{key:"filterOption",value:function(s,a){return wS(this.props,s,a)}},{key:"formatOptionLabel",value:function(s,a){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,f=this.state.selectValue;return this.props.formatOptionLabel(s,{context:a,inputValue:u,selectValue:f})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,a=s.isDisabled,u=s.isSearchable,f=s.inputId,d=s.inputValue,p=s.tabIndex,y=s.form,w=s.menuIsOpen,E=s.required,C=this.getComponents(),R=C.Input,k=this.state,I=k.inputIsHidden,D=k.ariaSelection,j=this.commonProps,H=f||this.getElementId("input"),X=we(we(we({"aria-autocomplete":"list","aria-expanded":w,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":E,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},w&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(D==null?void 0:D.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?A.createElement(R,Se({},j,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:H,innerRef:this.getInputRef,isDisabled:a,isHidden:I,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:y,type:"text",value:d},X)):A.createElement(MN,Se({id:H,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ah,onFocus:this.onInputFocus,disabled:a,tabIndex:p,inputMode:"none",form:y,value:""},X))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,a=this.getComponents(),u=a.MultiValue,f=a.MultiValueContainer,d=a.MultiValueLabel,p=a.MultiValueRemove,y=a.SingleValue,w=a.Placeholder,E=this.commonProps,C=this.props,R=C.controlShouldRenderValue,k=C.isDisabled,I=C.isMulti,D=C.inputValue,j=C.placeholder,H=this.state,X=H.selectValue,B=H.focusedValue,J=H.isFocused;if(!this.hasValue()||!R)return D?null:A.createElement(w,Se({},E,{key:"placeholder",isDisabled:k,isFocused:J,innerProps:{id:this.getElementId("placeholder")}}),j);if(I)return X.map(function(P,b){var V=P===B,L="".concat(s.getOptionLabel(P),"-").concat(s.getOptionValue(P));return A.createElement(u,Se({},E,{components:{Container:f,Label:d,Remove:p},isFocused:V,isDisabled:k,key:L,index:b,removeProps:{onClick:function(){return s.removeValue(P)},onTouchEnd:function(){return s.removeValue(P)},onMouseDown:function(N){N.preventDefault()}},data:P}),s.formatOptionLabel(P,"value"))});if(D)return null;var x=X[0];return A.createElement(y,Se({},E,{data:x,isDisabled:k}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),a=s.ClearIndicator,u=this.commonProps,f=this.props,d=f.isDisabled,p=f.isLoading,y=this.state.isFocused;if(!this.isClearable()||!a||d||!this.hasValue()||p)return null;var w={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(a,Se({},u,{innerProps:w,isFocused:y}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),a=s.LoadingIndicator,u=this.commonProps,f=this.props,d=f.isDisabled,p=f.isLoading,y=this.state.isFocused;if(!a||!p)return null;var w={"aria-hidden":"true"};return A.createElement(a,Se({},u,{innerProps:w,isDisabled:d,isFocused:y}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator,u=s.IndicatorSeparator;if(!a||!u)return null;var f=this.commonProps,d=this.props.isDisabled,p=this.state.isFocused;return A.createElement(u,Se({},f,{isDisabled:d,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator;if(!a)return null;var u=this.commonProps,f=this.props.isDisabled,d=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(a,Se({},u,{innerProps:p,isDisabled:f,isFocused:d}))}},{key:"renderMenu",value:function(){var s=this,a=this.getComponents(),u=a.Group,f=a.GroupHeading,d=a.Menu,p=a.MenuList,y=a.MenuPortal,w=a.LoadingMessage,E=a.NoOptionsMessage,C=a.Option,R=this.commonProps,k=this.state.focusedOption,I=this.props,D=I.captureMenuScroll,j=I.inputValue,H=I.isLoading,X=I.loadingMessage,B=I.minMenuHeight,J=I.maxMenuHeight,x=I.menuIsOpen,P=I.menuPlacement,b=I.menuPosition,V=I.menuPortalTarget,L=I.menuShouldBlockScroll,$=I.menuShouldScrollIntoView,N=I.noOptionsMessage,We=I.onMenuScrollToTop,Fe=I.onMenuScrollToBottom;if(!x)return null;var Ve=function(le,Te){var Ie=le.type,Pe=le.data,Oe=le.isDisabled,xe=le.isSelected,qe=le.label,gt=le.value,Pn=k===Pe,kr=Oe?void 0:function(){return s.onOptionHover(Pe)},ir=Oe?void 0:function(){return s.selectOption(Pe)},sr="".concat(s.getElementId("option"),"-").concat(Te),ui={id:sr,onClick:ir,onMouseMove:kr,onMouseOver:kr,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:xe};return A.createElement(C,Se({},R,{innerProps:ui,data:Pe,isDisabled:Oe,isSelected:xe,key:sr,label:qe,type:Ie,value:gt,isFocused:Pn,innerRef:Pn?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(le.data,"menu"))},De;if(this.hasOptions())De=this.getCategorizedOptions().map(function(Y){if(Y.type==="group"){var le=Y.data,Te=Y.options,Ie=Y.index,Pe="".concat(s.getElementId("group"),"-").concat(Ie),Oe="".concat(Pe,"-heading");return A.createElement(u,Se({},R,{key:Pe,data:le,options:Te,Heading:f,headingProps:{id:Oe,data:Y.data},label:s.formatGroupLabel(Y.data)}),Y.options.map(function(xe){return Ve(xe,"".concat(Ie,"-").concat(xe.index))}))}else if(Y.type==="option")return Ve(Y,"".concat(Y.index))});else if(H){var ie=X({inputValue:j});if(ie===null)return null;De=A.createElement(w,R,ie)}else{var fe=N({inputValue:j});if(fe===null)return null;De=A.createElement(E,R,fe)}var ae={minMenuHeight:B,maxMenuHeight:J,menuPlacement:P,menuPosition:b,menuShouldScrollIntoView:$},z=A.createElement(mD,Se({},R,ae),function(Y){var le=Y.ref,Te=Y.placerProps,Ie=Te.placement,Pe=Te.maxHeight;return A.createElement(d,Se({},R,ae,{innerRef:le,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:H,placement:Ie}),A.createElement(BN,{captureEnabled:D,onTopArrive:We,onBottomArrive:Fe,lockEnabled:L},function(Oe){return A.createElement(p,Se({},R,{innerRef:function(qe){s.getMenuListRef(qe),Oe(qe)},innerProps:{role:"listbox","aria-multiselectable":R.isMulti,id:s.getElementId("listbox")},isLoading:H,maxHeight:Pe,focusedOption:k}),De)}))});return V||b==="fixed"?A.createElement(y,Se({},R,{appendTo:V,controlElement:this.controlRef,menuPlacement:P,menuPosition:b}),z):z}},{key:"renderFormField",value:function(){var s=this,a=this.props,u=a.delimiter,f=a.isDisabled,d=a.isMulti,p=a.name,y=a.required,w=this.state.selectValue;if(y&&!this.hasValue()&&!f)return A.createElement(qN,{name:p,onFocus:this.onValueInputFocus});if(!(!p||f))if(d)if(u){var E=w.map(function(k){return s.getOptionValue(k)}).join(u);return A.createElement("input",{name:p,type:"hidden",value:E})}else{var C=w.length>0?w.map(function(k,I){return A.createElement("input",{key:"i-".concat(I),name:p,type:"hidden",value:s.getOptionValue(k)})}):A.createElement("input",{name:p,type:"hidden",value:""});return A.createElement("div",null,C)}else{var R=w[0]?this.getOptionValue(w[0]):"";return A.createElement("input",{name:p,type:"hidden",value:R})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,a=this.state,u=a.ariaSelection,f=a.focusedOption,d=a.focusedValue,p=a.isFocused,y=a.selectValue,w=this.getFocusableOptions();return A.createElement(xN,Se({},s,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:f,focusedValue:d,isFocused:p,selectValue:y,focusableOptions:w,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),a=s.Control,u=s.IndicatorsContainer,f=s.SelectContainer,d=s.ValueContainer,p=this.props,y=p.className,w=p.id,E=p.isDisabled,C=p.menuIsOpen,R=this.state.isFocused,k=this.commonProps=this.getCommonProps();return A.createElement(f,Se({},k,{className:y,innerProps:{id:w,onKeyDown:this.onKeyDown},isDisabled:E,isFocused:R}),this.renderLiveRegion(),A.createElement(a,Se({},k,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:E,isFocused:R,menuIsOpen:C}),A.createElement(d,Se({},k,{isDisabled:E}),this.renderPlaceholderOrValue(),this.renderInput()),A.createElement(u,Se({},k,{isDisabled:E}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,a){var u=a.prevProps,f=a.clearFocusValueOnUpdate,d=a.inputIsHiddenAfterUpdate,p=a.ariaSelection,y=a.isFocused,w=a.prevWasFocused,E=a.instancePrefix,C=s.options,R=s.value,k=s.menuIsOpen,I=s.inputValue,D=s.isMulti,j=A_(R),H={};if(u&&(R!==u.value||C!==u.options||k!==u.menuIsOpen||I!==u.inputValue)){var X=k?lV(s,j):[],B=k?B_(Mc(s,j),"".concat(E,"-option")):[],J=f?uV(a,j):null,x=cV(a,X),P=$f(B,x);H={selectValue:j,focusedOption:x,focusedOptionId:P,focusableOptionsWithIds:B,focusedValue:J,clearFocusValueOnUpdate:!1}}var b=d!=null&&s!==u?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},V=p,L=y&&w;return y&&!L&&(V={value:Ec(D,j,j[0]||null),options:j,action:"initial-input-focus"},L=!w),(p==null?void 0:p.action)==="initial-input-focus"&&(V=null),we(we(we({},H),b),{},{prevProps:s,ariaSelection:V,prevWasFocused:L})}}]),t}(A.Component);SS.defaultProps=aV;var dV=A.forwardRef(function(n,e){var t=Ax(n);return A.createElement(SS,Se({ref:e},t))}),fV=dV;const TS=({options:n,onChange:e,placeholder:t,isMulti:r=!1,defaultValue:s,label:a,value:u})=>F.jsxs("div",{className:"select-input",children:[a&&F.jsx("label",{children:a}),F.jsx(fV,{value:n.find(f=>f.value===u),options:n,onChange:e,placeholder:t,isMulti:r,defaultValue:s,className:"select-input",classNamePrefix:"react-select"})]}),pV=()=>{const[n,e]=A.useState([]),[t,r]=A.useState(!0),[s,a]=A.useState(null),u=async()=>{try{r(!0);const p=await VE();return e(p),p}catch{return a("Error fetching teachers"),[]}finally{r(!1)}};return A.useEffect(()=>{u()},[]),{teachers:n,loadTeachers:u,loading:t,error:s,handleAddTeacher:async p=>{try{await _x(p),u()}catch{a("Error adding teacher")}},handleDeleteTeacher:async p=>{try{await wx(p),u()}catch{a("Error deleting teacher")}}}},mV=({isEditing:n,fields:e,initialData:t,onItemAdded:r,onItemUpdated:s,onCancelEdit:a})=>{const[u,f]=A.useState({});A.useEffect(()=>{t&&f(t)},[t]);const d=E=>{const{name:C,value:R}=E.target;f({...u,[C]:R})},p=E=>{f({...u,[E.name]:E.value})},y=async E=>{E.preventDefault(),t&&n?await(s==null?void 0:s(u)):await r(u),f({})},w=()=>{f({}),a&&a()};return F.jsxs("form",{onSubmit:y,className:n?"editing":"",children:[e.map(E=>{switch(E.type||"input"){case"select":return E.options&&F.jsx(TS,{label:E.label,options:E.options,value:u[E.name]||"",onChange:R=>p({name:E.name,...R}),placeholder:E.placeholder},E.name);case"date":return F.jsx("input",{type:"date",name:E.name,placeholder:E.placeholder,value:u[E.name]||"",onChange:d,required:!0},E.name);case"input":return F.jsx("input",{type:"text",name:E.name,placeholder:E.placeholder,value:u[E.name]||"",onChange:d,required:!0},E.name)}}),F.jsxs("div",{className:"buttons-container",children:[F.jsx("button",{className:"save-button",type:"submit",children:n?"Save":"Add"}),n&&F.jsx("button",{className:"cancel-button",type:"button",onClick:w,children:"Cancel"})]})]})},IS=({items:n,fields:e,onItemDeleted:t,onView:r,onEdit:s,editable:a,seeable:u,loading:f})=>{const d=async y=>{y!==""&&t&&t(y)},p=t!==void 0||u||a;return!f&&F.jsx("div",{className:"table-container",children:F.jsxs("table",{className:"list-base-table",children:[n&&n.length>0&&F.jsx("thead",{children:F.jsxs("tr",{children:[e.map(y=>F.jsx("th",{children:y.label||y.placeholder||y.name},y.name)),p&&F.jsx("th",{children:"Actions"})]})}),n&&n.length>0&&F.jsx("tbody",{children:n.map(y=>F.jsxs("tr",{children:[e.map(w=>{if(w.type==="select"&&w.options){const E=y[w.name],C=w.options.find(R=>R.value===E);return F.jsx("td",{children:C?C.label:"Unknown"},w.name)}return F.jsx("td",{children:y[w.name]!==void 0?y[w.name]:"N/A"},w.name)}),p&&F.jsxs("td",{className:"actions",children:[t&&F.jsx("button",{className:"delete-button",onClick:()=>d(y.id),children:"Delete"}),u&&F.jsx("button",{className:"view-button",onClick:()=>r(y),children:"View"}),a&&F.jsx("button",{className:"edit-button",onClick:()=>s(y),children:"Edit"})]})]},y.id))})]})})},gV=({title:n,fields:e,items:t,fetchItems:r,onEdit:s,onView:a,onItemAdded:u,onItemUpdated:f,onItemDeleted:d,importItem:p,initialFormData:y,loading:w,children:E})=>{const{showNotification:C}=Vh(),[R,k]=A.useState(!1),[I,D]=A.useState(null),j=async()=>{r&&await r()},H=async L=>{await u(L),j(),C("Elemento agregado","success"),b()},X=async L=>{await u(L)},B=async L=>{I&&f&&(await f(I.id,L),C("Elemento actualizado","success"),b()),f||C("Error al actualizar el elemento","error")},J=async L=>{d&&(await d(L),j(),C("Elemento eliminado","success"))},x=L=>{k(!0),D(L),s&&s(L)},P=L=>{D(L),a&&a(L)},b=()=>{k(!1),D(null)};A.useEffect(()=>{p&&X(p),j()},[p]);const V=Xr.Children.toArray(E);return F.jsxs("div",{className:"base-module-container",children:[n&&F.jsx("h1",{className:"title",children:n}),p&&F.jsx("button",{children:"Import"}),F.jsxs("div",{className:"module-container",children:[F.jsxs("div",{className:"form-container",children:[F.jsx(mV,{onItemAdded:H,onItemUpdated:B,fields:e,isEditing:R,onCancelEdit:b,initialData:R?t&&I&&t.find(L=>L.id===I.id):y}),V[0]]}),F.jsxs("div",{className:"list-container",children:[E&&F.jsx("div",{className:"upload-container",children:V[1]}),!R&&F.jsx(IS,{items:t,fields:e,onItemDeleted:J,editable:f!==void 0,seeable:a!==void 0,loading:w||!1,onEdit:x,onView:P})]})]})]})},vV=async(n,e)=>{const t=Rn(Je,`periods/${n}/courses/${e}/assignments`),r=await $s(t);return console.log({docs:r.docs,periodId:n,courseId:e}),r.docs.map(s=>({id:s.id,...s.data()}))},yV=async(n,e,t)=>{const r=Rn(Je,`periods/${n}/courses/${e}/assignments`);await da(r,t)},_V=async(n,e,t,r)=>{const s=Jt(Je,`periods/${n}/courses/${e}/assignments/${t}`);await Zi(s,r)},wV=async(n,e,t)=>{const r=Jt(Je,`periods/${n}/courses/${e}/assignments/${t}`);await ha(r)},CS=n=>{const{courseId:e,periodId:t}=n,[r,s]=A.useState([]),[a,u]=A.useState(!1),[f,d]=A.useState(null),p=A.useCallback(async()=>{u(!0);try{const C=await vV(t,e);s(C)}catch(C){d(C instanceof Error?C.message:"Error al cargar las calificaciones")}finally{u(!1)}},[t,e,u]);A.useEffect(()=>{let C=!0;return(async()=>{C&&await p()})(),()=>{C=!1}},[e,p]);const y=A.useCallback(async C=>{u(!0);try{await yV(t,e,C),await p()}catch(R){d(R instanceof Error?R.message:"Error adding assignment")}finally{u(!1)}},[t,e,p,u]),w=A.useCallback(async(C,R)=>{u(!0);try{await _V(t,e,C,R),await p()}catch(k){d(k instanceof Error?k.message:"Error updating assignment")}finally{u(!1)}},[t,e,p,u]),E=A.useCallback(async C=>{u(!0);try{await wV(t,e,C),await p()}catch(R){d(R instanceof Error?R.message:"Error deleting assignment")}finally{u(!1)}},[t,e,p,u]);return{assignments:r,loadAssignments:p,loading:a,error:f,handleAddAssignment:y,handleUpdateAssignment:w,handleDeleteAssignment:E}},EV=({periodId:n,courseId:e})=>{const{assignments:t,loading:r,error:s,handleAddAssignment:a,handleDeleteAssignment:u,handleUpdateAssignment:f}=CS({periodId:n,courseId:e}),d=A.useMemo(()=>t.reduce((y,w)=>y+(Number(w.contributionPercentage)||0),0),[t]),p=[{name:"title",placeholder:"Title of the assignment"},{name:"contributionPercentage",placeholder:"Contribution percentage to final grade"}];return r?F.jsx("div",{children:"Loading assignments..."}):s?F.jsxs("div",{children:["Error: ",s]}):F.jsxs(F.Fragment,{children:[F.jsxs("p",{children:[F.jsx("b",{children:"Total Percentage: "}),"(",d,")%"]}),F.jsx(gV,{fields:p,items:t,onItemAdded:a,onItemUpdated:f,onItemDeleted:u,loading:r})]})},SV=({periodId:n})=>{const e=Cp(),{courses:t,availableCourses:r,handleAddCourse:s,handleDeleteCourse:a,handleUpdateCourse:u}=Ex(n),{teachers:f}=pV(),[d,p]=A.useState(null),[y,w]=A.useState(null),[E]=Vs("selectPeriod",null),C=()=>{e(-1)},R=async I=>{if(y){const{id:D,...j}=I,H={...j,teacherId:y};await u(D,H),w(null)}},k=async()=>{const{id:I,...D}=t.filter(j=>j.id===d)[0];if(d){const j={...D,courseId:I,status:"Not Started",assignments:[]};await s(j),p(null)}};return F.jsxs("div",{className:"periods-manager card",children:[F.jsxs("h3",{children:[E==null?void 0:E.name," ",F.jsx("button",{onClick:C,children:"Volver"})]}),F.jsxs("select",{value:d||"",onChange:I=>p(I.target.value),children:[F.jsx("option",{value:"",children:"Select a Period"}),r.map(I=>F.jsx("option",{value:I.id,children:I.name},I.id))]}),F.jsx("button",{onClick:k,children:"Assign Period"})," ",F.jsx("div",{className:"periods-list",children:F.jsx("ul",{children:t.map(I=>F.jsxs("li",{children:[F.jsxs("div",{className:"button-container",children:[F.jsx("button",{className:"save-button",onClick:()=>R(I),children:"Save"}),I.assignments&&I.assignments.length==0&&F.jsx("button",{className:"delete-button",onClick:()=>a(I.id),children:"Delete"})]}),F.jsx("h3",{children:I.name}),F.jsx("p",{children:I.description}),F.jsxs("p",{children:["Teacher: ",I.teacherName]}),!I.teacherId&&F.jsx(TS,{label:"Teacher",options:f.map(D=>({value:D.id,label:D.name})),value:"",onChange:D=>w(D.value),placeholder:"Select Teacher"},"teacherId"),F.jsx(EV,{courseId:I.courseId,periodId:E==null?void 0:E.id})]},I.id))})})]})},TV=()=>{const{id:n}=i0();return F.jsx("div",{children:n&&F.jsx(SV,{periodId:n})})},IV=async n=>{const e=Rn(Je,"students");await da(e,n)},CV=async()=>{const n=Rn(Je,"students");return(await $s(n)).docs.map(t=>({id:t.id,fullName:t.data().fullName,identificationNumber:t.data().identificationNumber,email:t.data().email}))},RV=async n=>{try{const e=Jt(Je,"students",n),t=await lx(e);return t.exists()?{id:t.id,...t.data()}:(console.log("No such document!"),null)}catch(e){throw console.error("Error fetching student:",e),e}},PV=async n=>{const e=Jt(Je,"students",n);await ha(e)},AV=async(n,e)=>{const{id:t,...r}=e,s=Jt(Je,"students",n);await Zi(s,r)},kV=()=>{const{setIsLoading:n,setLoadingText:e}=Lh(),[t,r]=A.useState([]),[s,a]=A.useState(),[u,f]=A.useState(!0),[d,p]=A.useState(null),{showNotification:y}=Vh();A.useEffect(()=>{e("Loading Student"),n(u)},[u,n]);const w=async()=>{try{f(!0);const I=await CV();r(I)}catch{p("Error al cargar los estudiantes")}finally{f(!1)}},E=async I=>{try{if(!I){console.error("id Student null or undefined");return}f(!0);const D=await RV(I);console.log("studentData",D),a(D)}catch{p("Error al cargar el estudiante"),y("Error al cargar el estudiante","error"),console.error(`Error al cargar el estudiante ${I}`)}finally{f(!1)}};return A.useEffect(()=>{w()},[]),{students:t,student:s,loadStudents:w,loadStudent:E,loading:u,error:d,handleAddStudent:async I=>{try{if(t.filter(D=>D.fullName===I.fullName).length>0){y("El estudiante ya existe","error");return}await IV(I),y("Elemento agregado","success"),w()}catch{p("Error al agregar la calificacin")}},handleRemoveStudent:async I=>{try{await PV(I),w()}catch{p("Error al eliminar la calificacin")}},handleUpdateStudent:async(I,D)=>{try{await AV(I,D),w()}catch{p("Error updating period")}}}},bV=async n=>{const e=Rn(Je,`students/${n}/courses`);return(await $s(e)).docs.map(r=>({id:r.id,...r.data()}))},xV=async(n,e)=>{const t=Rn(Je,`students/${n}/courses`),r=await da(t,e);console.log("Course added with ID: ",r.id);const s=Jt(Je,`students/${n}`);await Zi(s,{coursesIds:AE(r.id)})},OV=async(n,e)=>{const t=Jt(Je,`students/${n}/courses`,e);await ha(t);const r=Jt(Je,`students/${n}`);await Zi(r,{coursesIds:kE(e)})},DV=async()=>{const n=Rn(Je,"periods");return(await $s(n)).docs.map(r=>({id:r.id,...r.data()}))},v2=async n=>{const e=Rn(Je,"periods");await da(e,n)},y2=async n=>{const e=Jt(Je,"periods",n);await ha(e)},_2=async(n,e)=>{const{id:t,...r}=e,s=Jt(Je,"periods",n);await Zi(s,r)},NV=n=>{const{setIsLoading:e}=Lh(),[t,r]=Vs("selectedPeriodId",null),[s]=A.useState([]),[a,u]=A.useState([]),[f,d]=A.useState(!0),[p,y]=A.useState(null),[w,E]=A.useState([]),[C,R]=Vs("availablePeriods",[]),{showNotification:k}=Vh();A.useEffect(()=>{e(f)},[f,e]);const I=async()=>{if(C.length===0)try{d(!0);const B=await DV();R(B)}catch{y("Error fetching available periods"),k("Error fetching available periods","error")}finally{d(!1)}},D=async B=>{try{if(d(!0),B){r(B);const J=await DE(B);console.log({periodId:B,fetchedAvailableCourses:J}),E(J)}else E([])}catch{k("Error fetching available courses","error")}finally{d(!1)}},j=async B=>{try{d(!0);const J=await bV(B);u(J)}catch{k("Error fetching courses","error")}finally{d(!1)}};return A.useEffect(()=>{I()},[]),A.useEffect(()=>{n&&j(n)},[n]),A.useEffect(()=>{t&&D(t)},[t]),{loading:f,error:p,courses:s,studentCourses:a,availablePeriods:C,handleAddCourse:async(B,J)=>{try{d(!0),await xV(B,J),j(B)}catch{k("Error adding course","error")}finally{d(!1)}},handleDeleteCourse:async(B,J)=>{try{if(!J)return;d(!0),await OV(B,J),j(B)}catch{y("Error deleting course"),k("Error deleting course","error")}finally{d(!1)}},availableCourses:w,loadAvailableCourses:D,loadAvailablePeriods:I,setPeriodId:r}},VV=({course:n,onEdit:e,onDelete:t})=>F.jsxs("div",{className:"course-card",children:[F.jsx("h3",{children:n.name}),n.description&&F.jsxs("p",{children:[F.jsx("strong",{children:"Description:"})," ",n.description]}),n.status&&F.jsxs("p",{children:[F.jsx("strong",{children:"Status:"})," ",n.status]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Assignments:"})," ",n.assignments.length]}),F.jsxs("div",{className:"course-card-actions",children:[e&&F.jsx("button",{onClick:()=>e(n),className:"edit-button",children:"Edit"}),t&&n.id&&F.jsx("button",{onClick:()=>t(n.id),className:"delete-button",children:"Delete"})]})]}),LV=({periodId:n,courseId:e})=>{const{assignments:t,loading:r}=CS({periodId:n,courseId:e}),s=[{name:"name",placeholder:"Course name"},{name:"description",placeholder:"Course description"}],a=f=>{console.log(f)},u=f=>{console.log(f)};return F.jsx("div",{children:F.jsx("div",{className:"list-container",children:F.jsx(IS,{items:t,fields:s,editable:!1,seeable:!1,loading:r,onEdit:a,onView:u})})})},MV=({student:n})=>{const[e,t]=Vs("selectedPeriodId",null),[r,s]=Vs("selectedCourseId",null),{error:a,availableCourses:u,availablePeriods:f,studentCourses:d,handleAddCourse:p,setPeriodId:y}=NV(n.id),w=async()=>{if(e&&r){const{id:R,duration:k,hours:I,...D}=u.filter(H=>H.id===r)[0],j={...D,courseId:R,periodId:e,status:"Not Started",finalGrade:0,assignments:[]};await p(n.id,j),t(null)}},E=R=>{console.log(R),t(R),y(R),s(null)},C=(R,k)=>R&&k&&String(R)===String(k);return a?F.jsx("div",{className:"error",children:a}):F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"container",children:[F.jsxs("div",{className:"item",children:[F.jsx("h3",{children:"Periods"}),F.jsx("div",{className:"button-container",children:f.map(R=>F.jsx("button",{className:`button ${C(e,R.id)?"active":""}`,onClick:()=>E(R.id),children:R.code},R.id))})]}),e&&F.jsxs("div",{className:"item",children:[F.jsx("h3",{children:"Available Courses"}),F.jsx("div",{className:"button-container",children:u.map(R=>F.jsx("button",{className:`button ${C(r,R.id)?"active":""}`,onClick:()=>s(R.id),children:R.name},R.id))}),u.length===0&&F.jsx("div",{className:"empty",children:"No courses available for this period"})]}),e&&r&&F.jsx("button",{className:"edit-button",onClick:w,children:"Assign course"})]}),e&&r&&F.jsx(LV,{courseId:e,periodId:e}),F.jsx("div",{className:"container",children:d.map(R=>F.jsx(VV,{course:R},`card-${R.id}`))})]})},FV=({student:n,onEdit:e,onDelete:t})=>F.jsxs("div",{className:"student-card",children:[F.jsx("h3",{children:n.fullName}),n.identificationNumber&&F.jsxs("p",{children:[F.jsx("strong",{children:"ID:"})," ",n.identificationNumber]}),n.email&&F.jsxs("p",{children:[F.jsx("strong",{children:"Email:"})," ",n.email]}),F.jsxs("div",{className:"student-card-actions",children:[e&&F.jsx("button",{onClick:()=>e(n),className:"edit-button",children:"Edit"}),t&&n.id&&F.jsx("button",{onClick:()=>t(n.id),className:"delete-button",children:"Delete"})]})]}),UV=({student:n})=>F.jsxs("div",{children:[F.jsx("h2",{className:"title",children:"Student Details"}),n&&F.jsx(FV,{student:n}),n&&n.id&&F.jsx(MV,{student:n})]}),W_=()=>{const{loadStudent:n,student:e,loading:t}=kV(),{id:r}=i0();return A.useEffect(()=>{r&&!e&&n(r)},[r,e]),F.jsx(F.Fragment,{children:!t&&e&&F.jsx(UV,{student:e})})},jV=A.lazy(()=>Yi(()=>import("./Login-CX0mTvM9.js"),[])),$V=A.lazy(()=>Yi(()=>import("./Register-C8tPwRU8.js"),__vite__mapDeps([0,1]))),zV=A.lazy(()=>Yi(()=>import("./Courses-CwrqYgnx.js"),[])),BV=A.lazy(()=>Yi(()=>import("./Grades-yKtwz6M_.js"),[])),q_=A.lazy(()=>Yi(()=>import("./Periods-BwByY4yW.js"),[])),HV=A.lazy(()=>Yi(()=>import("./Dashboard-B5fNXjS4.js"),__vite__mapDeps([2,3]))),WV=A.lazy(()=>Yi(()=>import("./Students-QYcJy0_W.js"),__vite__mapDeps([4,5]))),qV=A.lazy(()=>Yi(()=>import("./Teachers-CDgWjUV6.js"),[])),KV=()=>{const{loading:n}=xE(),{setIsLoading:e}=Lh(),[t,r]=A.useState(!1),[s,a]=A.useState(!1);if(A.useEffect(()=>{let f;return n?e(!0):f=setTimeout(()=>{e(!1),r(!0),a(!0)},2e3),()=>{f&&clearTimeout(f)}},[n,e]),!t)return null;const u=F.jsxs(x1,{children:[F.jsx(dn,{path:"/",element:F.jsx(jV,{})}),F.jsx(dn,{path:"/register",element:F.jsx($V,{})}),F.jsx(dn,{path:"/dashboard",element:F.jsx(vr,{element:F.jsx(HV,{})})}),F.jsx(dn,{path:"/students",element:F.jsx(vr,{element:F.jsx(WV,{})})}),F.jsx(dn,{path:"/students/:id/periods",element:F.jsx(vr,{element:F.jsx(W_,{})})}),F.jsx(dn,{path:"/students/:id/courses",element:F.jsx(vr,{element:F.jsx(W_,{})})}),F.jsx(dn,{path:"/teachers",element:F.jsx(vr,{element:F.jsx(qV,{})})}),F.jsx(dn,{path:"/courses",element:F.jsx(vr,{element:F.jsx(zV,{})})}),F.jsx(dn,{path:"/grades",element:F.jsx(vr,{element:F.jsx(BV,{})})}),F.jsx(dn,{path:"/periods",element:F.jsx(vr,{element:F.jsx(q_,{})})}),F.jsx(dn,{path:"/periods/courses",element:F.jsx(vr,{element:F.jsx(q_,{})})}),F.jsx(dn,{path:"/periods/:id/courses",element:F.jsx(vr,{element:F.jsx(TV,{})})}),F.jsx(dn,{path:"*",element:F.jsx(a0,{to:"/"})})," "]});return F.jsx(A.Suspense,{fallback:F.jsx(_m,{text:"Cargando componente..."}),children:s?u:null})},RS=A.createContext(void 0),GV=({children:n})=>{const[e,t]=A.useState(null);return F.jsx(RS.Provider,{value:{openDropdown:e,setOpenDropdown:t},children:n})},QV=()=>{const n=A.useContext(RS);if(n===void 0)throw new Error("useDropdown must be used within a DropdownProvider");return n},PS=({id:n,title:e,items:t})=>{const{openDropdown:r,setOpenDropdown:s}=QV(),a=Ar(),u=()=>{s(r===n?null:n)},f=r===n,d=t.some(p=>a.pathname===p.to);return F.jsxs("div",{className:"dropdown",children:[F.jsxs("button",{onClick:u,className:`dropdown-button ${d?"active":""}`,children:[e," ",F.jsx("span",{className:"dropdown-icon",children:""})]}),f&&F.jsx("ul",{className:"dropdown-menu",children:t.map((p,y)=>F.jsx("li",{className:a.pathname===p.to?"active":"",onClick:()=>s(null),children:F.jsxs(Vl,{to:p.to,style:{display:"flex",alignItems:"center"},children:[p.icon&&F.jsx("span",{className:"item-icon",children:p.icon}),p.label]})},y))})]})},YV=({items:n})=>{const e=Ar(),t=n.some(r=>e.pathname===r.to);return F.jsx("header",{className:"navbar",children:F.jsx("ul",{children:n.map(r=>F.jsx("li",{className:e.pathname===r.to?"active":"",children:r.children?F.jsx(PS,{id:`${r.label.toLowerCase()}-dropdown-desktop`,title:r.label,items:r.children}):F.jsx("button",{className:`${t?"active":""}`,children:F.jsx(Vl,{to:r.to,children:r.label})})},r.label))})})},XV=({items:n,isOpen:e,onClose:t})=>F.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[F.jsx("button",{className:"close-button",onClick:t,children:" "}),F.jsx("ul",{children:n.map(r=>F.jsx("li",{children:r.children?F.jsx(PS,{id:`${r.label.toLowerCase()}-dropdown`,title:r.label,items:r.children}):F.jsx(Vl,{to:r.to,onClick:t,children:r.label})},r.label))})]});var AS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},K_=Xr.createContext&&Xr.createContext(AS),JV=["attr","size","title"];function ZV(n,e){if(n==null)return{};var t=e2(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function e2(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ch(){return ch=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ch.apply(this,arguments)}function G_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function hh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(t),!0).forEach(function(r){t2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function t2(n,e,t){return e=n2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function n2(n){var e=r2(n,"string");return typeof e=="symbol"?e:e+""}function r2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kS(n){return n&&n.map((e,t)=>Xr.createElement(e.tag,hh({key:t},e.attr),kS(e.child)))}function i2(n){return e=>Xr.createElement(s2,ch({attr:hh({},n.attr)},e),kS(n.child))}function s2(n){var e=t=>{var{attr:r,size:s,title:a}=n,u=ZV(n,JV),f=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Xr.createElement("svg",ch({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:hh(hh({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),a&&Xr.createElement("title",null,a),n.children)};return K_!==void 0?Xr.createElement(K_.Consumer,null,t=>e(t)):e(AS)}function o2(n){return i2({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}const Q_=[{label:"Dashboard",to:"/dashboard"},{label:"Students",to:"",children:[{label:"Estudiantes",to:"/students"},{label:"Calificaciones",to:"/grades"}]},{label:"Periods",to:"",children:[{label:"Courses",to:"/courses-period"},{label:"Calificaciones",to:"/grades"}]},{label:"Params",to:"",children:[{label:"Periods",to:"/periods"},{label:"Courses",to:"/courses"},{label:"Profesores",to:"/teachers"}]},{label:"User",to:"",children:[{label:"Login",to:"/login"},{label:"Register",to:"/register"}]}],a2=()=>{const[n,e]=A.useState(!1),t=()=>{e(!n)};return F.jsxs("div",{children:[F.jsxs("button",{className:"toggle-button",onClick:t,children:[F.jsx(o2,{})," "]}),F.jsx(XV,{items:Q_,isOpen:n,onClose:()=>e(!1)}),F.jsx(YV,{items:Q_})]})},l2=({children:n})=>F.jsxs("div",{className:"grid",children:[F.jsx("div",{className:"header",children:F.jsx(a2,{})}),F.jsx("div",{className:"main",children:n})," "]}),u2=()=>F.jsx(tI,{basename:"/learntrackcenter",children:F.jsx(fx,{children:F.jsx(yx,{children:F.jsx(GV,{children:F.jsx(l2,{children:F.jsx(KV,{})})})})})});$T.createRoot(document.getElementById("root")).render(F.jsx(A.StrictMode,{children:F.jsx(u2,{})}));export{gV as B,_m as L,MV as P,hx as a,h2 as b,Cp as c,Vh as d,c2 as e,Rn as f,g2 as g,Je as h,$s as i,F as j,da as k,Jt as l,ha as m,Zi as n,Lh as o,DV as p,v2 as q,A as r,d2 as s,y2 as t,xE as u,_2 as v,Vs as w,kV as x,pV as y};
