import{c as h,j as t,D as m}from"./index-Cui4C6id.js";import{r as n}from"./vendor-react-BWjxQFbR.js";import{f as p,a as C,d as f,u as g}from"./courseService-CXf6yShE.js";import"./vendor-firebase-CpkMzyVB.js";import"./vendor-ui-CZ9GI7ht.js";import"./vendor-utils-BDfVuDdi.js";const x=()=>{const[d,u]=n.useState([]),[o,a]=n.useState(!0),[c,r]=n.useState(null),s=async()=>{try{a(!0);const e=await p();return u(e),e}catch{return r("Error fetching courses"),[]}finally{a(!1)}};return n.useEffect(()=>{s()},[]),{courses:d,loadCourses:s,loading:o,error:c,setError:r,handleAddCourse:async e=>{try{await C(e),s()}catch{r("Error adding course")}},handleDeleteCourse:async e=>{try{await f(e),s()}catch{r("Error deleting course")}},handleUpdateCourse:async(e,l)=>{try{await g(e,l),s()}catch{r("Error updating course")}}}},y=()=>{const{setIsLoading:d}=h(),{courses:u,loading:o,error:a,handleAddCourse:c,handleDeleteCourse:r,handleUpdateCourse:s}=x();n.useEffect(()=>{d(o)},[o,d]);const i=[{name:"name",placeholder:"name"},{name:"description",placeholder:"description"},{name:"duration",placeholder:"Duration (weeks)",size:15},{name:"hours",placeholder:"Hours per week",size:15}];return t.jsxs(t.Fragment,{children:[t.jsx(m,{title:"Course Management",fields:i,items:u,handlers:{onItemAdded:c,onItemDeleted:r,onItemUpdated:s},ableImport:!0,loading:o,showForm:!1}),a&&t.jsx("div",{className:"error",children:a})," "]})},S=()=>t.jsx("div",{children:t.jsx(y,{})});export{S as default};
