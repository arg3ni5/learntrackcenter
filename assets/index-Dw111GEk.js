const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Register-D_S5-beB.js","assets/Register-Duh75M7k.css","assets/Dashboard-CvFi--_k.js","assets/Dashboard-BREJmAyz.css","assets/Students-mfGY8KlA.js","assets/Students-DQVCCoZa.css"])))=>i.map(i=>d[i]);
function F1(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function U1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _f={exports:{}},ll={},wf={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function j1(){if($v)return Ve;$v=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function S(H){return H===null||typeof H!="object"?null:(H=w&&H[w]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,b={};function P(H,X,le){this.props=H,this.context=X,this.refs=b,this.updater=le||T}P.prototype.isReactComponent={},P.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},P.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function O(){}O.prototype=P.prototype;function j(H,X,le){this.props=H,this.context=X,this.refs=b,this.updater=le||T}var L=j.prototype=new O;L.constructor=j,I(L,P.prototype),L.isPureReactComponent=!0;var G=Array.isArray,B=Object.prototype.hasOwnProperty,J={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(H,X,le){var Te,Ie={},Pe=null,De=null;if(X!=null)for(Te in X.ref!==void 0&&(De=X.ref),X.key!==void 0&&(Pe=""+X.key),X)B.call(X,Te)&&!k.hasOwnProperty(Te)&&(Ie[Te]=X[Te]);var Oe=arguments.length-2;if(Oe===1)Ie.children=le;else if(1<Oe){for(var Ke=Array(Oe),gt=0;gt<Oe;gt++)Ke[gt]=arguments[gt+2];Ie.children=Ke}if(H&&H.defaultProps)for(Te in Oe=H.defaultProps,Oe)Ie[Te]===void 0&&(Ie[Te]=Oe[Te]);return{$$typeof:n,type:H,key:Pe,ref:De,props:Ie,_owner:J.current}}function x(H,X){return{$$typeof:n,type:H.type,key:X,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function U(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(le){return X[le]})}var z=/\/+/g;function N(H,X){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):X.toString(36)}function He(H,X,le,Te,Ie){var Pe=typeof H;(Pe==="undefined"||Pe==="boolean")&&(H=null);var De=!1;if(H===null)De=!0;else switch(Pe){case"string":case"number":De=!0;break;case"object":switch(H.$$typeof){case n:case e:De=!0}}if(De)return De=H,Ie=Ie(De),H=Te===""?"."+N(De,0):Te,G(Ie)?(le="",H!=null&&(le=H.replace(z,"$&/")+"/"),He(Ie,X,le,"",function(gt){return gt})):Ie!=null&&(V(Ie)&&(Ie=x(Ie,le+(!Ie.key||De&&De.key===Ie.key?"":(""+Ie.key).replace(z,"$&/")+"/")+H)),X.push(Ie)),1;if(De=0,Te=Te===""?".":Te+":",G(H))for(var Oe=0;Oe<H.length;Oe++){Pe=H[Oe];var Ke=Te+N(Pe,Oe);De+=He(Pe,X,le,Ke,Ie)}else if(Ke=S(H),typeof Ke=="function")for(H=Ke.call(H),Oe=0;!(Pe=H.next()).done;)Pe=Pe.value,Ke=Te+N(Pe,Oe++),De+=He(Pe,X,le,Ke,Ie);else if(Pe==="object")throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return De}function Le(H,X,le){if(H==null)return H;var Te=[],Ie=0;return He(H,Te,"","",function(Pe){return X.call(le,Pe,Ie++)}),Te}function Ne(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(le){(H._status===0||H._status===-1)&&(H._status=1,H._result=le)},function(le){(H._status===0||H._status===-1)&&(H._status=2,H._result=le)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var xe={current:null},se={transition:null},de={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:se,ReactCurrentOwner:J};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Le,forEach:function(H,X,le){Le(H,function(){X.apply(this,arguments)},le)},count:function(H){var X=0;return Le(H,function(){X++}),X},toArray:function(H){return Le(H,function(X){return X})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ve.Component=P,Ve.Fragment=t,Ve.Profiler=s,Ve.PureComponent=j,Ve.StrictMode=r,Ve.Suspense=h,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ve.act=te,Ve.cloneElement=function(H,X,le){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Te=I({},H.props),Ie=H.key,Pe=H.ref,De=H._owner;if(X!=null){if(X.ref!==void 0&&(Pe=X.ref,De=J.current),X.key!==void 0&&(Ie=""+X.key),H.type&&H.type.defaultProps)var Oe=H.type.defaultProps;for(Ke in X)B.call(X,Ke)&&!k.hasOwnProperty(Ke)&&(Te[Ke]=X[Ke]===void 0&&Oe!==void 0?Oe[Ke]:X[Ke])}var Ke=arguments.length-2;if(Ke===1)Te.children=le;else if(1<Ke){Oe=Array(Ke);for(var gt=0;gt<Ke;gt++)Oe[gt]=arguments[gt+2];Te.children=Oe}return{$$typeof:n,type:H.type,key:Ie,ref:Pe,props:Te,_owner:De}},Ve.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},Ve.createElement=R,Ve.createFactory=function(H){var X=R.bind(null,H);return X.type=H,X},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(H){return{$$typeof:f,render:H}},Ve.isValidElement=V,Ve.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:Ne}},Ve.memo=function(H,X){return{$$typeof:p,type:H,compare:X===void 0?null:X}},Ve.startTransition=function(H){var X=se.transition;se.transition={};try{H()}finally{se.transition=X}},Ve.unstable_act=te,Ve.useCallback=function(H,X){return xe.current.useCallback(H,X)},Ve.useContext=function(H){return xe.current.useContext(H)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(H){return xe.current.useDeferredValue(H)},Ve.useEffect=function(H,X){return xe.current.useEffect(H,X)},Ve.useId=function(){return xe.current.useId()},Ve.useImperativeHandle=function(H,X,le){return xe.current.useImperativeHandle(H,X,le)},Ve.useInsertionEffect=function(H,X){return xe.current.useInsertionEffect(H,X)},Ve.useLayoutEffect=function(H,X){return xe.current.useLayoutEffect(H,X)},Ve.useMemo=function(H,X){return xe.current.useMemo(H,X)},Ve.useReducer=function(H,X,le){return xe.current.useReducer(H,X,le)},Ve.useRef=function(H){return xe.current.useRef(H)},Ve.useState=function(H){return xe.current.useState(H)},Ve.useSyncExternalStore=function(H,X,le){return xe.current.useSyncExternalStore(H,X,le)},Ve.useTransition=function(){return xe.current.useTransition()},Ve.version="18.3.1",Ve}var zv;function Rp(){return zv||(zv=1,wf.exports=j1()),wf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function $1(){if(Bv)return ll;Bv=1;var n=Rp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,p){var y,w={},S=null,T=null;p!==void 0&&(S=""+p),h.key!==void 0&&(S=""+h.key),h.ref!==void 0&&(T=h.ref);for(y in h)r.call(h,y)&&!a.hasOwnProperty(y)&&(w[y]=h[y]);if(f&&f.defaultProps)for(y in h=f.defaultProps,h)w[y]===void 0&&(w[y]=h[y]);return{$$typeof:e,type:f,key:S,ref:T,props:w,_owner:s.current}}return ll.Fragment=t,ll.jsx=u,ll.jsxs=u,ll}var Hv;function z1(){return Hv||(Hv=1,_f.exports=$1()),_f.exports}var M=z1(),A=Rp();const Zr=U1(A),Wv=F1({__proto__:null,default:Zr},[A]);var cc={},Ef={exports:{}},hn={},Sf={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function B1(){return qv||(qv=1,function(n){function e(se,de){var te=se.length;se.push(de);e:for(;0<te;){var H=te-1>>>1,X=se[H];if(0<s(X,de))se[H]=de,se[te]=X,te=H;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var de=se[0],te=se.pop();if(te!==de){se[0]=te;e:for(var H=0,X=se.length,le=X>>>1;H<le;){var Te=2*(H+1)-1,Ie=se[Te],Pe=Te+1,De=se[Pe];if(0>s(Ie,te))Pe<X&&0>s(De,Ie)?(se[H]=De,se[Pe]=te,H=Pe):(se[H]=Ie,se[Te]=te,H=Te);else if(Pe<X&&0>s(De,te))se[H]=De,se[Pe]=te,H=Pe;else break e}}return de}function s(se,de){var te=se.sortIndex-de.sortIndex;return te!==0?te:se.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],p=[],y=1,w=null,S=3,T=!1,I=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(se){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=se)r(p),de.sortIndex=de.expirationTime,e(h,de);else break;de=t(p)}}function G(se){if(b=!1,L(se),!I)if(t(h)!==null)I=!0,Ne(B);else{var de=t(p);de!==null&&xe(G,de.startTime-se)}}function B(se,de){I=!1,b&&(b=!1,O(R),R=-1),T=!0;var te=S;try{for(L(de),w=t(h);w!==null&&(!(w.expirationTime>de)||se&&!U());){var H=w.callback;if(typeof H=="function"){w.callback=null,S=w.priorityLevel;var X=H(w.expirationTime<=de);de=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(h)&&r(h),L(de)}else r(h);w=t(h)}if(w!==null)var le=!0;else{var Te=t(p);Te!==null&&xe(G,Te.startTime-de),le=!1}return le}finally{w=null,S=te,T=!1}}var J=!1,k=null,R=-1,x=5,V=-1;function U(){return!(n.unstable_now()-V<x)}function z(){if(k!==null){var se=n.unstable_now();V=se;var de=!0;try{de=k(!0,se)}finally{de?N():(J=!1,k=null)}}else J=!1}var N;if(typeof j=="function")N=function(){j(z)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Le=He.port2;He.port1.onmessage=z,N=function(){Le.postMessage(null)}}else N=function(){P(z,0)};function Ne(se){k=se,J||(J=!0,N())}function xe(se,de){R=P(function(){se(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){I||T||(I=!0,Ne(B))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(se){switch(S){case 1:case 2:case 3:var de=3;break;default:de=S}var te=S;S=de;try{return se()}finally{S=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,de){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var te=S;S=se;try{return de()}finally{S=te}},n.unstable_scheduleCallback=function(se,de,te){var H=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?H+te:H):te=H,se){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=te+X,se={id:y++,callback:de,priorityLevel:se,startTime:te,expirationTime:X,sortIndex:-1},te>H?(se.sortIndex=te,e(p,se),t(h)===null&&se===t(p)&&(b?(O(R),R=-1):b=!0,xe(G,te-H))):(se.sortIndex=X,e(h,se),I||T||(I=!0,Ne(B))),se},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(se){var de=S;return function(){var te=S;S=de;try{return se.apply(this,arguments)}finally{S=te}}}}(Tf)),Tf}var Kv;function H1(){return Kv||(Kv=1,Sf.exports=B1()),Sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function W1(){if(Gv)return hn;Gv=1;var n=Rp(),e=H1();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function S(i){return h.call(w,i)?!0:h.call(y,i)?!1:p.test(i)?w[i]=!0:(y[i]=!0,!1)}function T(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,o,l,d){if(o===null||typeof o>"u"||T(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(i,o,l,d,m,v,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=E}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];P[o]=new b(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(O,j);P[o]=new b(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(O,j);P[o]=new b(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(O,j);P[o]=new b(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function L(i,o,l,d){var m=P.hasOwnProperty(o)?P[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(I(o,l,m,d)&&(l=null),d||m===null?S(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),J=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),se=Symbol.iterator;function de(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var te=Object.assign,H;function X(i){if(H===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+i}var le=!1;function Te(i,o){if(!i||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var d=Q}Reflect.construct(i,[],o)}else{try{o.call()}catch(Q){d=Q}i.call(o.prototype)}else{try{throw Error()}catch(Q){d=Q}i()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),v=d.stack.split(`
`),E=m.length-1,D=v.length-1;1<=E&&0<=D&&m[E]!==v[D];)D--;for(;1<=E&&0<=D;E--,D--)if(m[E]!==v[D]){if(E!==1||D!==1)do if(E--,D--,0>D||m[E]!==v[D]){var F=`
`+m[E].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=E&&0<=D);break}}}finally{le=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function Ie(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Te(i.type,!1),i;case 11:return i=Te(i.type.render,!1),i;case 1:return i=Te(i.type,!0),i;default:return""}}function Pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case J:return"Portal";case x:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case He:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Le:return o=i.displayName||null,o!==null?o:Pe(i.type)||"Memo";case Ne:o=i._payload,i=i._init;try{return Pe(i(o))}catch{}}return null}function De(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ke(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function gt(i){var o=Ke(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){d=""+E,v.call(this,E)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function An(i){i._valueTracker||(i._valueTracker=gt(i))}function xr(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=Ke(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function sr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function or(i,o){var l=o.checked;return te({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ci(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Oe(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function pa(i,o){o=o.checked,o!=null&&L(i,"checked",o,!1)}function ma(i,o){pa(i,o);var l=Oe(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Bs(i,o.type,l):o.hasOwnProperty("defaultValue")&&Bs(i,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ql(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Bs(i,o,l){(o!=="number"||sr(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Or=Array.isArray;function Dr(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Oe(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function ga(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Hs(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Or(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Oe(l)}}function Ws(i,o){var l=Oe(o.value),d=Oe(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function va(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function St(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?St(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Nr,ya=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Nr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function di(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ns=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(i){ns.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ts[o]=ts[i]})});function _a(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ts.hasOwnProperty(i)&&ts[i]?(""+o).trim():o+"px"}function wa(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=_a(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var Ea=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(i,o){if(o){if(Ea[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ta(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function qs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ks=null,bn=null,ar=null;function Gs(i){if(i=Ka(i)){if(typeof Ks!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Cu(o),Ks(i.stateNode,i.type,o))}}function lr(i){bn?ar?ar.push(i):ar=[i]:bn=i}function Ia(){if(bn){var i=bn,o=ar;if(ar=bn=null,Gs(i),o)for(i=0;i<o.length;i++)Gs(o[i])}}function is(i,o){return i(o)}function Ca(){}var Vr=!1;function Ra(i,o,l){if(Vr)return i(o,l);Vr=!0;try{return is(i,o,l)}finally{Vr=!1,(bn!==null||ar!==null)&&(Ca(),Ia())}}function ft(i,o){var l=i.stateNode;if(l===null)return null;var d=Cu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Qs=!1;if(f)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Qs=!1}function ss(i,o,l,d,m,v,E,D,F){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(l,Q)}catch(re){this.onError(re)}}var os=!1,Ys=null,jn=!1,Pa=null,qd={onError:function(i){os=!0,Ys=i}};function Xs(i,o,l,d,m,v,E,D,F){os=!1,Ys=null,ss.apply(qd,arguments)}function Yl(i,o,l,d,m,v,E,D,F){if(Xs.apply(this,arguments),os){if(os){var Q=Ys;os=!1,Ys=null}else throw Error(t(198));jn||(jn=!0,Pa=Q)}}function $n(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function as(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function zn(i){if($n(i)!==i)throw Error(t(188))}function Xl(i){var o=i.alternate;if(!o){if(o=$n(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return zn(m),i;if(v===d)return zn(m),o;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=v;else{for(var E=!1,D=m.child;D;){if(D===l){E=!0,l=m,d=v;break}if(D===d){E=!0,d=m,l=v;break}D=D.sibling}if(!E){for(D=v.child;D;){if(D===l){E=!0,l=v,d=m;break}if(D===d){E=!0,d=v,l=m;break}D=D.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Aa(i){return i=Xl(i),i!==null?Js(i):null}function Js(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Js(i);if(o!==null)return o;i=i.sibling}return null}var Zs=e.unstable_scheduleCallback,ba=e.unstable_cancelCallback,Jl=e.unstable_shouldYield,Kd=e.unstable_requestPaint,et=e.unstable_now,Zl=e.unstable_getCurrentPriorityLevel,ls=e.unstable_ImmediatePriority,hi=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,ka=e.unstable_LowPriority,eu=e.unstable_IdlePriority,us=null,yn=null;function tu(i){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(us,i,void 0,(i.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:ru,xa=Math.log,nu=Math.LN2;function ru(i){return i>>>=0,i===0?32:31-(xa(i)/nu|0)|0}var eo=64,to=4194304;function fi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function cs(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,E=l&268435455;if(E!==0){var D=E&~m;D!==0?d=fi(D):(v&=E,v!==0&&(d=fi(v)))}else E=l&~m,E!==0?d=fi(E):v!==0&&(d=fi(v));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(d&4&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-Zt(o),m=1<<l,d|=i[l],o&=~m;return d}function Gd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var E=31-Zt(v),D=1<<E,F=m[E];F===-1?(!(D&l)||D&d)&&(m[E]=Gd(D,o)):F<=o&&(i.expiredLanes|=D),v&=~D}}function _n(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ds(){var i=eo;return eo<<=1,!(eo&4194240)&&(eo=64),i}function pi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function mi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Zt(o),i[o]=l}function Ze(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Zt(l),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~v}}function gi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-Zt(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var Ue=0;function vi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var iu,no,su,ou,au,Oa=!1,ur=[],Lt=null,Bn=null,Hn=null,yi=new Map,xn=new Map,cr=[],Qd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lu(i,o){switch(i){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":yi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(o.pointerId)}}function sn(i,o,l,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Ka(o),o!==null&&no(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Yd(i,o,l,d,m){switch(o){case"focusin":return Lt=sn(Lt,i,o,l,d,m),!0;case"dragenter":return Bn=sn(Bn,i,o,l,d,m),!0;case"mouseover":return Hn=sn(Hn,i,o,l,d,m),!0;case"pointerover":var v=m.pointerId;return yi.set(v,sn(yi.get(v)||null,i,o,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,xn.set(v,sn(xn.get(v)||null,i,o,l,d,m)),!0}return!1}function uu(i){var o=gs(i.target);if(o!==null){var l=$n(o);if(l!==null){if(o=l.tag,o===13){if(o=as(l),o!==null){i.blockedOn=o,au(i.priority,function(){su(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=ro(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);rs=d,l.target.dispatchEvent(d),rs=null}else return o=Ka(l),o!==null&&no(o),i.blockedOn=l,!1;o.shift()}return!0}function hs(i,o,l){Mr(i)&&l.delete(o)}function cu(){Oa=!1,Lt!==null&&Mr(Lt)&&(Lt=null),Bn!==null&&Mr(Bn)&&(Bn=null),Hn!==null&&Mr(Hn)&&(Hn=null),yi.forEach(hs),xn.forEach(hs)}function Wn(i,o){i.blockedOn===o&&(i.blockedOn=null,Oa||(Oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cu)))}function qn(i){function o(m){return Wn(m,i)}if(0<ur.length){Wn(ur[0],i);for(var l=1;l<ur.length;l++){var d=ur[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Lt!==null&&Wn(Lt,i),Bn!==null&&Wn(Bn,i),Hn!==null&&Wn(Hn,i),yi.forEach(o),xn.forEach(o),l=0;l<cr.length;l++)d=cr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<cr.length&&(l=cr[0],l.blockedOn===null);)uu(l),l.blockedOn===null&&cr.shift()}var Fr=G.ReactCurrentBatchConfig,_i=!0;function it(i,o,l,d){var m=Ue,v=Fr.transition;Fr.transition=null;try{Ue=1,Da(i,o,l,d)}finally{Ue=m,Fr.transition=v}}function Xd(i,o,l,d){var m=Ue,v=Fr.transition;Fr.transition=null;try{Ue=4,Da(i,o,l,d)}finally{Ue=m,Fr.transition=v}}function Da(i,o,l,d){if(_i){var m=ro(i,o,l,d);if(m===null)lh(i,o,d,fs,l),lu(i,d);else if(Yd(m,i,o,l,d))d.stopPropagation();else if(lu(i,d),o&4&&-1<Qd.indexOf(i)){for(;m!==null;){var v=Ka(m);if(v!==null&&iu(v),v=ro(i,o,l,d),v===null&&lh(i,o,d,fs,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else lh(i,o,d,null,l)}}var fs=null;function ro(i,o,l,d){if(fs=null,i=qs(d),i=gs(i),i!==null)if(o=$n(i),o===null)i=null;else if(l=o.tag,l===13){if(i=as(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return fs=i,null}function Na(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zl()){case ls:return 1;case hi:return 4;case kn:case ka:return 16;case eu:return 536870912;default:return 16}default:return 16}}var wn=null,io=null,on=null;function Va(){if(on)return on;var i,o=io,l=o.length,d,m="value"in wn?wn.value:wn.textContent,v=m.length;for(i=0;i<l&&o[i]===m[i];i++);var E=l-i;for(d=1;d<=E&&o[l-d]===m[v-d];d++);return on=m.slice(i,1<d?1-d:void 0)}function so(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function dr(){return!0}function La(){return!1}function Mt(i){function o(l,d,m,v,E){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?dr:La,this.isPropagationStopped=La,this}return te(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),o}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Mt(Kn),hr=te({},Kn,{view:0,detail:0}),Jd=Mt(hr),ao,Ur,wi,ps=te({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(ao=i.screenX-wi.screenX,Ur=i.screenY-wi.screenY):Ur=ao=0,wi=i),ao)},movementY:function(i){return"movementY"in i?i.movementY:Ur}}),lo=Mt(ps),Ma=te({},ps,{dataTransfer:0}),du=Mt(Ma),uo=te({},hr,{relatedTarget:0}),co=Mt(uo),hu=te({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),jr=Mt(hu),fu=te({},Kn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pu=Mt(fu),mu=te({},Kn,{data:0}),Fa=Mt(mu),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=gu[i])?!!o[i]:!1}function fr(){return vu}var c=te({},hr,{key:function(i){if(i.key){var o=ho[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=so(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?en[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(i){return i.type==="keypress"?so(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?so(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Mt(c),_=te({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Mt(_),W=te({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),Y=Mt(W),ae=te({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=Mt(ae),It=te({},ps,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Mt(It),kt=[9,13,27,32],vt=f&&"CompositionEvent"in window,On=null;f&&"documentMode"in document&&(On=document.documentMode);var En=f&&"TextEvent"in window&&!On,ms=f&&(!vt||On&&8<On&&11>=On),fo=" ",Vm=!1;function Lm(i,o){switch(i){case"keyup":return kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var po=!1;function LS(i,o){switch(i){case"compositionend":return Mm(o);case"keypress":return o.which!==32?null:(Vm=!0,fo);case"textInput":return i=o.data,i===fo&&Vm?null:i;default:return null}}function MS(i,o){if(po)return i==="compositionend"||!vt&&Lm(i,o)?(i=Va(),on=io=wn=null,po=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ms&&o.locale!=="ko"?null:o.data;default:return null}}var FS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!FS[i.type]:o==="textarea"}function Um(i,o,l,d){lr(d),o=Su(o,"onChange"),0<o.length&&(l=new oo("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Ua=null,ja=null;function US(i){rg(i,0)}function yu(i){var o=_o(i);if(xr(o))return i}function jS(i,o){if(i==="change")return o}var jm=!1;if(f){var Zd;if(f){var eh="oninput"in document;if(!eh){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),eh=typeof $m.oninput=="function"}Zd=eh}else Zd=!1;jm=Zd&&(!document.documentMode||9<document.documentMode)}function zm(){Ua&&(Ua.detachEvent("onpropertychange",Bm),ja=Ua=null)}function Bm(i){if(i.propertyName==="value"&&yu(ja)){var o=[];Um(o,ja,i,qs(i)),Ra(US,o)}}function $S(i,o,l){i==="focusin"?(zm(),Ua=o,ja=l,Ua.attachEvent("onpropertychange",Bm)):i==="focusout"&&zm()}function zS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yu(ja)}function BS(i,o){if(i==="click")return yu(o)}function HS(i,o){if(i==="input"||i==="change")return yu(o)}function WS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Gn=typeof Object.is=="function"?Object.is:WS;function $a(i,o){if(Gn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!h.call(o,m)||!Gn(i[m],o[m]))return!1}return!0}function Hm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Wm(i,o){var l=Hm(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hm(l)}}function qm(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?qm(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Km(){for(var i=window,o=sr();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=sr(i.document)}return o}function th(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function qS(i){var o=Km(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&qm(l.ownerDocument.documentElement,l)){if(d!==null&&th(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=Wm(l,v);var E=Wm(l,d);m&&E&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var KS=f&&"documentMode"in document&&11>=document.documentMode,mo=null,nh=null,za=null,rh=!1;function Gm(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rh||mo==null||mo!==sr(d)||(d=mo,"selectionStart"in d&&th(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),za&&$a(za,d)||(za=d,d=Su(nh,"onSelect"),0<d.length&&(o=new oo("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=mo)))}function _u(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var go={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},ih={},Qm={};f&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function wu(i){if(ih[i])return ih[i];if(!go[i])return i;var o=go[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Qm)return ih[i]=o[l];return i}var Ym=wu("animationend"),Xm=wu("animationiteration"),Jm=wu("animationstart"),Zm=wu("transitionend"),eg=new Map,tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(i,o){eg.set(i,o),a(o,[i])}for(var sh=0;sh<tg.length;sh++){var oh=tg[sh],GS=oh.toLowerCase(),QS=oh[0].toUpperCase()+oh.slice(1);Ei(GS,"on"+QS)}Ei(Ym,"onAnimationEnd"),Ei(Xm,"onAnimationIteration"),Ei(Jm,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Zm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function ng(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Yl(d,o,void 0,i),i.currentTarget=null}function rg(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var E=d.length-1;0<=E;E--){var D=d[E],F=D.instance,Q=D.currentTarget;if(D=D.listener,F!==v&&m.isPropagationStopped())break e;ng(m,D,Q),v=F}else for(E=0;E<d.length;E++){if(D=d[E],F=D.instance,Q=D.currentTarget,D=D.listener,F!==v&&m.isPropagationStopped())break e;ng(m,D,Q),v=F}}}if(jn)throw i=Pa,jn=!1,Pa=null,i}function nt(i,o){var l=o[ph];l===void 0&&(l=o[ph]=new Set);var d=i+"__bubble";l.has(d)||(ig(o,i,2,!1),l.add(d))}function ah(i,o,l){var d=0;o&&(d|=4),ig(l,i,d,o)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Ha(i){if(!i[Eu]){i[Eu]=!0,r.forEach(function(l){l!=="selectionchange"&&(YS.has(l)||ah(l,!1,i),ah(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Eu]||(o[Eu]=!0,ah("selectionchange",!1,o))}}function ig(i,o,l,d){switch(Na(o)){case 1:var m=it;break;case 4:m=Xd;break;default:m=Da}l=m.bind(null,o,l,i),m=void 0,!Qs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function lh(i,o,l,d,m){var v=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var D=d.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(E===4)for(E=d.return;E!==null;){var F=E.tag;if((F===3||F===4)&&(F=E.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;E=E.return}for(;D!==null;){if(E=gs(D),E===null)return;if(F=E.tag,F===5||F===6){d=v=E;continue e}D=D.parentNode}}d=d.return}Ra(function(){var Q=v,re=qs(l),ie=[];e:{var ee=eg.get(i);if(ee!==void 0){var ue=oo,fe=i;switch(i){case"keypress":if(so(l)===0)break e;case"keydown":case"keyup":ue=g;break;case"focusin":fe="focus",ue=co;break;case"focusout":fe="blur",ue=co;break;case"beforeblur":case"afterblur":ue=co;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Y;break;case Ym:case Xm:case Jm:ue=jr;break;case Zm:ue=Je;break;case"scroll":ue=Jd;break;case"wheel":ue=$e;break;case"copy":case"cut":case"paste":ue=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=C}var pe=(o&4)!==0,pt=!pe&&i==="scroll",q=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var $=Q,K;$!==null;){K=$;var oe=K.stateNode;if(K.tag===5&&oe!==null&&(K=oe,q!==null&&(oe=ft($,q),oe!=null&&pe.push(Wa($,oe,K)))),pt)break;$=$.return}0<pe.length&&(ee=new ue(ee,fe,null,l,re),ie.push({event:ee,listeners:pe}))}}if(!(o&7)){e:{if(ee=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ee&&l!==rs&&(fe=l.relatedTarget||l.fromElement)&&(gs(fe)||fe[$r]))break e;if((ue||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(fe=l.relatedTarget||l.toElement,ue=Q,fe=fe?gs(fe):null,fe!==null&&(pt=$n(fe),fe!==pt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=Q),ue!==fe)){if(pe=lo,oe="onMouseLeave",q="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(pe=C,oe="onPointerLeave",q="onPointerEnter",$="pointer"),pt=ue==null?ee:_o(ue),K=fe==null?ee:_o(fe),ee=new pe(oe,$+"leave",ue,l,re),ee.target=pt,ee.relatedTarget=K,oe=null,gs(re)===Q&&(pe=new pe(q,$+"enter",fe,l,re),pe.target=K,pe.relatedTarget=pt,oe=pe),pt=oe,ue&&fe)t:{for(pe=ue,q=fe,$=0,K=pe;K;K=vo(K))$++;for(K=0,oe=q;oe;oe=vo(oe))K++;for(;0<$-K;)pe=vo(pe),$--;for(;0<K-$;)q=vo(q),K--;for(;$--;){if(pe===q||q!==null&&pe===q.alternate)break t;pe=vo(pe),q=vo(q)}pe=null}else pe=null;ue!==null&&sg(ie,ee,ue,pe,!1),fe!==null&&pt!==null&&sg(ie,pt,fe,pe,!0)}}e:{if(ee=Q?_o(Q):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var me=jS;else if(Fm(ee))if(jm)me=HS;else{me=zS;var ye=$S}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(me=BS);if(me&&(me=me(i,Q))){Um(ie,me,l,re);break e}ye&&ye(i,ee,Q),i==="focusout"&&(ye=ee._wrapperState)&&ye.controlled&&ee.type==="number"&&Bs(ee,"number",ee.value)}switch(ye=Q?_o(Q):window,i){case"focusin":(Fm(ye)||ye.contentEditable==="true")&&(mo=ye,nh=Q,za=null);break;case"focusout":za=nh=mo=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Gm(ie,l,re);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":Gm(ie,l,re)}var _e;if(vt)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else po?Lm(i,l)&&(Ce="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(ms&&l.locale!=="ko"&&(po||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&po&&(_e=Va()):(wn=re,io="value"in wn?wn.value:wn.textContent,po=!0)),ye=Su(Q,Ce),0<ye.length&&(Ce=new Fa(Ce,i,null,l,re),ie.push({event:Ce,listeners:ye}),_e?Ce.data=_e:(_e=Mm(l),_e!==null&&(Ce.data=_e)))),(_e=En?LS(i,l):MS(i,l))&&(Q=Su(Q,"onBeforeInput"),0<Q.length&&(re=new Fa("onBeforeInput","beforeinput",null,l,re),ie.push({event:re,listeners:Q}),re.data=_e))}rg(ie,o)})}function Wa(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Su(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ft(i,l),v!=null&&d.unshift(Wa(i,v,m)),v=ft(i,o),v!=null&&d.push(Wa(i,v,m))),i=i.return}return d}function vo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function sg(i,o,l,d,m){for(var v=o._reactName,E=[];l!==null&&l!==d;){var D=l,F=D.alternate,Q=D.stateNode;if(F!==null&&F===d)break;D.tag===5&&Q!==null&&(D=Q,m?(F=ft(l,v),F!=null&&E.unshift(Wa(l,F,D))):m||(F=ft(l,v),F!=null&&E.push(Wa(l,F,D)))),l=l.return}E.length!==0&&i.push({event:o,listeners:E})}var XS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function og(i){return(typeof i=="string"?i:""+i).replace(XS,`
`).replace(JS,"")}function Tu(i,o,l){if(o=og(o),og(i)!==o&&l)throw Error(t(425))}function Iu(){}var uh=null,ch=null;function dh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,ag=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof ag<"u"?function(i){return ag.resolve(null).then(i).catch(t1)}:hh;function t1(i){setTimeout(function(){throw i})}function fh(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),qn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);qn(o)}function Si(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function lg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var yo=Math.random().toString(36).slice(2),pr="__reactFiber$"+yo,qa="__reactProps$"+yo,$r="__reactContainer$"+yo,ph="__reactEvents$"+yo,n1="__reactListeners$"+yo,r1="__reactHandles$"+yo;function gs(i){var o=i[pr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[$r]||l[pr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=lg(i);i!==null;){if(l=i[pr])return l;i=lg(i)}return o}i=l,l=i.parentNode}return null}function Ka(i){return i=i[pr]||i[$r],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function _o(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Cu(i){return i[qa]||null}var mh=[],wo=-1;function Ti(i){return{current:i}}function rt(i){0>wo||(i.current=mh[wo],mh[wo]=null,wo--)}function tt(i,o){wo++,mh[wo]=i.current,i.current=o}var Ii={},Ht=Ti(Ii),an=Ti(!1),vs=Ii;function Eo(i,o){var l=i.type.contextTypes;if(!l)return Ii;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function ln(i){return i=i.childContextTypes,i!=null}function Ru(){rt(an),rt(Ht)}function ug(i,o,l){if(Ht.current!==Ii)throw Error(t(168));tt(Ht,o),tt(an,l)}function cg(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,De(i)||"Unknown",m));return te({},l,d)}function Pu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ii,vs=Ht.current,tt(Ht,i),tt(an,an.current),!0}function dg(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=cg(i,o,vs),d.__reactInternalMemoizedMergedChildContext=i,rt(an),rt(Ht),tt(Ht,i)):rt(an),tt(an,l)}var zr=null,Au=!1,gh=!1;function hg(i){zr===null?zr=[i]:zr.push(i)}function i1(i){Au=!0,hg(i)}function Ci(){if(!gh&&zr!==null){gh=!0;var i=0,o=Ue;try{var l=zr;for(Ue=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}zr=null,Au=!1}catch(m){throw zr!==null&&(zr=zr.slice(i+1)),Zs(ls,Ci),m}finally{Ue=o,gh=!1}}return null}var So=[],To=0,bu=null,ku=0,Dn=[],Nn=0,ys=null,Br=1,Hr="";function _s(i,o){So[To++]=ku,So[To++]=bu,bu=i,ku=o}function fg(i,o,l){Dn[Nn++]=Br,Dn[Nn++]=Hr,Dn[Nn++]=ys,ys=i;var d=Br;i=Hr;var m=32-Zt(d)-1;d&=~(1<<m),l+=1;var v=32-Zt(o)+m;if(30<v){var E=m-m%5;v=(d&(1<<E)-1).toString(32),d>>=E,m-=E,Br=1<<32-Zt(o)+m|l<<m|d,Hr=v+i}else Br=1<<v|l<<m|d,Hr=i}function vh(i){i.return!==null&&(_s(i,1),fg(i,1,0))}function yh(i){for(;i===bu;)bu=So[--To],So[To]=null,ku=So[--To],So[To]=null;for(;i===ys;)ys=Dn[--Nn],Dn[Nn]=null,Hr=Dn[--Nn],Dn[Nn]=null,Br=Dn[--Nn],Dn[Nn]=null}var Sn=null,Tn=null,st=!1,Qn=null;function pg(i,o){var l=Fn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function mg(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Sn=i,Tn=Si(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Sn=i,Tn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=ys!==null?{id:Br,overflow:Hr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Fn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Sn=i,Tn=null,!0):!1;default:return!1}}function _h(i){return(i.mode&1)!==0&&(i.flags&128)===0}function wh(i){if(st){var o=Tn;if(o){var l=o;if(!mg(i,o)){if(_h(i))throw Error(t(418));o=Si(l.nextSibling);var d=Sn;o&&mg(i,o)?pg(d,l):(i.flags=i.flags&-4097|2,st=!1,Sn=i)}}else{if(_h(i))throw Error(t(418));i.flags=i.flags&-4097|2,st=!1,Sn=i}}}function gg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Sn=i}function xu(i){if(i!==Sn)return!1;if(!st)return gg(i),st=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!dh(i.type,i.memoizedProps)),o&&(o=Tn)){if(_h(i))throw vg(),Error(t(418));for(;o;)pg(i,o),o=Si(o.nextSibling)}if(gg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Tn=Si(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Tn=null}}else Tn=Sn?Si(i.stateNode.nextSibling):null;return!0}function vg(){for(var i=Tn;i;)i=Si(i.nextSibling)}function Io(){Tn=Sn=null,st=!1}function Eh(i){Qn===null?Qn=[i]:Qn.push(i)}var s1=G.ReactCurrentBatchConfig;function Ga(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(E){var D=m.refs;E===null?delete D[v]:D[v]=E},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Ou(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function yg(i){var o=i._init;return o(i._payload)}function _g(i){function o(q,$){if(i){var K=q.deletions;K===null?(q.deletions=[$],q.flags|=16):K.push($)}}function l(q,$){if(!i)return null;for(;$!==null;)o(q,$),$=$.sibling;return null}function d(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function m(q,$){return q=Di(q,$),q.index=0,q.sibling=null,q}function v(q,$,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<$?(q.flags|=2,$):K):(q.flags|=2,$)):(q.flags|=1048576,$)}function E(q){return i&&q.alternate===null&&(q.flags|=2),q}function D(q,$,K,oe){return $===null||$.tag!==6?($=ff(K,q.mode,oe),$.return=q,$):($=m($,K),$.return=q,$)}function F(q,$,K,oe){var me=K.type;return me===k?re(q,$,K.props.children,oe,K.key):$!==null&&($.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ne&&yg(me)===$.type)?(oe=m($,K.props),oe.ref=Ga(q,$,K),oe.return=q,oe):(oe=nc(K.type,K.key,K.props,null,q.mode,oe),oe.ref=Ga(q,$,K),oe.return=q,oe)}function Q(q,$,K,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=pf(K,q.mode,oe),$.return=q,$):($=m($,K.children||[]),$.return=q,$)}function re(q,$,K,oe,me){return $===null||$.tag!==7?($=Ps(K,q.mode,oe,me),$.return=q,$):($=m($,K),$.return=q,$)}function ie(q,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=ff(""+$,q.mode,K),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case B:return K=nc($.type,$.key,$.props,null,q.mode,K),K.ref=Ga(q,null,$),K.return=q,K;case J:return $=pf($,q.mode,K),$.return=q,$;case Ne:var oe=$._init;return ie(q,oe($._payload),K)}if(Or($)||de($))return $=Ps($,q.mode,K,null),$.return=q,$;Ou(q,$)}return null}function ee(q,$,K,oe){var me=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return me!==null?null:D(q,$,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return K.key===me?F(q,$,K,oe):null;case J:return K.key===me?Q(q,$,K,oe):null;case Ne:return me=K._init,ee(q,$,me(K._payload),oe)}if(Or(K)||de(K))return me!==null?null:re(q,$,K,oe,null);Ou(q,K)}return null}function ue(q,$,K,oe,me){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return q=q.get(K)||null,D($,q,""+oe,me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case B:return q=q.get(oe.key===null?K:oe.key)||null,F($,q,oe,me);case J:return q=q.get(oe.key===null?K:oe.key)||null,Q($,q,oe,me);case Ne:var ye=oe._init;return ue(q,$,K,ye(oe._payload),me)}if(Or(oe)||de(oe))return q=q.get(K)||null,re($,q,oe,me,null);Ou($,oe)}return null}function fe(q,$,K,oe){for(var me=null,ye=null,_e=$,Ce=$=0,Dt=null;_e!==null&&Ce<K.length;Ce++){_e.index>Ce?(Dt=_e,_e=null):Dt=_e.sibling;var qe=ee(q,_e,K[Ce],oe);if(qe===null){_e===null&&(_e=Dt);break}i&&_e&&qe.alternate===null&&o(q,_e),$=v(qe,$,Ce),ye===null?me=qe:ye.sibling=qe,ye=qe,_e=Dt}if(Ce===K.length)return l(q,_e),st&&_s(q,Ce),me;if(_e===null){for(;Ce<K.length;Ce++)_e=ie(q,K[Ce],oe),_e!==null&&($=v(_e,$,Ce),ye===null?me=_e:ye.sibling=_e,ye=_e);return st&&_s(q,Ce),me}for(_e=d(q,_e);Ce<K.length;Ce++)Dt=ue(_e,q,Ce,K[Ce],oe),Dt!==null&&(i&&Dt.alternate!==null&&_e.delete(Dt.key===null?Ce:Dt.key),$=v(Dt,$,Ce),ye===null?me=Dt:ye.sibling=Dt,ye=Dt);return i&&_e.forEach(function(Ni){return o(q,Ni)}),st&&_s(q,Ce),me}function pe(q,$,K,oe){var me=de(K);if(typeof me!="function")throw Error(t(150));if(K=me.call(K),K==null)throw Error(t(151));for(var ye=me=null,_e=$,Ce=$=0,Dt=null,qe=K.next();_e!==null&&!qe.done;Ce++,qe=K.next()){_e.index>Ce?(Dt=_e,_e=null):Dt=_e.sibling;var Ni=ee(q,_e,qe.value,oe);if(Ni===null){_e===null&&(_e=Dt);break}i&&_e&&Ni.alternate===null&&o(q,_e),$=v(Ni,$,Ce),ye===null?me=Ni:ye.sibling=Ni,ye=Ni,_e=Dt}if(qe.done)return l(q,_e),st&&_s(q,Ce),me;if(_e===null){for(;!qe.done;Ce++,qe=K.next())qe=ie(q,qe.value,oe),qe!==null&&($=v(qe,$,Ce),ye===null?me=qe:ye.sibling=qe,ye=qe);return st&&_s(q,Ce),me}for(_e=d(q,_e);!qe.done;Ce++,qe=K.next())qe=ue(_e,q,Ce,qe.value,oe),qe!==null&&(i&&qe.alternate!==null&&_e.delete(qe.key===null?Ce:qe.key),$=v(qe,$,Ce),ye===null?me=qe:ye.sibling=qe,ye=qe);return i&&_e.forEach(function(M1){return o(q,M1)}),st&&_s(q,Ce),me}function pt(q,$,K,oe){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case B:e:{for(var me=K.key,ye=$;ye!==null;){if(ye.key===me){if(me=K.type,me===k){if(ye.tag===7){l(q,ye.sibling),$=m(ye,K.props.children),$.return=q,q=$;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ne&&yg(me)===ye.type){l(q,ye.sibling),$=m(ye,K.props),$.ref=Ga(q,ye,K),$.return=q,q=$;break e}l(q,ye);break}else o(q,ye);ye=ye.sibling}K.type===k?($=Ps(K.props.children,q.mode,oe,K.key),$.return=q,q=$):(oe=nc(K.type,K.key,K.props,null,q.mode,oe),oe.ref=Ga(q,$,K),oe.return=q,q=oe)}return E(q);case J:e:{for(ye=K.key;$!==null;){if($.key===ye)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){l(q,$.sibling),$=m($,K.children||[]),$.return=q,q=$;break e}else{l(q,$);break}else o(q,$);$=$.sibling}$=pf(K,q.mode,oe),$.return=q,q=$}return E(q);case Ne:return ye=K._init,pt(q,$,ye(K._payload),oe)}if(Or(K))return fe(q,$,K,oe);if(de(K))return pe(q,$,K,oe);Ou(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(l(q,$.sibling),$=m($,K),$.return=q,q=$):(l(q,$),$=ff(K,q.mode,oe),$.return=q,q=$),E(q)):l(q,$)}return pt}var Co=_g(!0),wg=_g(!1),Du=Ti(null),Nu=null,Ro=null,Sh=null;function Th(){Sh=Ro=Nu=null}function Ih(i){var o=Du.current;rt(Du),i._currentValue=o}function Ch(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Po(i,o){Nu=i,Sh=Ro=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(un=!0),i.firstContext=null)}function Vn(i){var o=i._currentValue;if(Sh!==i)if(i={context:i,memoizedValue:o,next:null},Ro===null){if(Nu===null)throw Error(t(308));Ro=i,Nu.dependencies={lanes:0,firstContext:i}}else Ro=Ro.next=i;return o}var ws=null;function Rh(i){ws===null?ws=[i]:ws.push(i)}function Eg(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,Rh(o)):(l.next=m.next,m.next=l),o.interleaved=l,Wr(i,d)}function Wr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ri=!1;function Ph(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Pi(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,We&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Wr(i,l)}return m=d.interleaved,m===null?(o.next=o,Rh(d)):(o.next=m.next,m.next=o),d.interleaved=o,Wr(i,l)}function Vu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,gi(i,l)}}function Tg(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Lu(i,o,l,d){var m=i.updateQueue;Ri=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var F=D,Q=F.next;F.next=null,E===null?v=Q:E.next=Q,E=F;var re=i.alternate;re!==null&&(re=re.updateQueue,D=re.lastBaseUpdate,D!==E&&(D===null?re.firstBaseUpdate=Q:D.next=Q,re.lastBaseUpdate=F))}if(v!==null){var ie=m.baseState;E=0,re=Q=F=null,D=v;do{var ee=D.lane,ue=D.eventTime;if((d&ee)===ee){re!==null&&(re=re.next={eventTime:ue,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var fe=i,pe=D;switch(ee=o,ue=l,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ie=fe.call(ue,ie,ee);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ee=typeof fe=="function"?fe.call(ue,ie,ee):fe,ee==null)break e;ie=te({},ie,ee);break e;case 2:Ri=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[D]:ee.push(D))}else ue={eventTime:ue,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},re===null?(Q=re=ue,F=ie):re=re.next=ue,E|=ee;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(re===null&&(F=ie),m.baseState=F,m.firstBaseUpdate=Q,m.lastBaseUpdate=re,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ts|=E,i.lanes=E,i.memoizedState=ie}}function Ig(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Qa={},mr=Ti(Qa),Ya=Ti(Qa),Xa=Ti(Qa);function Es(i){if(i===Qa)throw Error(t(174));return i}function Ah(i,o){switch(tt(Xa,o),tt(Ya,i),tt(mr,Qa),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Tt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Tt(o,i)}rt(mr),tt(mr,o)}function Ao(){rt(mr),rt(Ya),rt(Xa)}function Cg(i){Es(Xa.current);var o=Es(mr.current),l=Tt(o,i.type);o!==l&&(tt(Ya,i),tt(mr,l))}function bh(i){Ya.current===i&&(rt(mr),rt(Ya))}var lt=Ti(0);function Mu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var kh=[];function xh(){for(var i=0;i<kh.length;i++)kh[i]._workInProgressVersionPrimary=null;kh.length=0}var Fu=G.ReactCurrentDispatcher,Oh=G.ReactCurrentBatchConfig,Ss=0,ut=null,Ct=null,xt=null,Uu=!1,Ja=!1,Za=0,o1=0;function Wt(){throw Error(t(321))}function Dh(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Gn(i[l],o[l]))return!1;return!0}function Nh(i,o,l,d,m,v){if(Ss=v,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fu.current=i===null||i.memoizedState===null?c1:d1,i=l(d,m),Ja){v=0;do{if(Ja=!1,Za=0,25<=v)throw Error(t(301));v+=1,xt=Ct=null,o.updateQueue=null,Fu.current=h1,i=l(d,m)}while(Ja)}if(Fu.current=zu,o=Ct!==null&&Ct.next!==null,Ss=0,xt=Ct=ut=null,Uu=!1,o)throw Error(t(300));return i}function Vh(){var i=Za!==0;return Za=0,i}function gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?ut.memoizedState=xt=i:xt=xt.next=i,xt}function Ln(){if(Ct===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var o=xt===null?ut.memoizedState:xt.next;if(o!==null)xt=o,Ct=i;else{if(i===null)throw Error(t(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},xt===null?ut.memoizedState=xt=i:xt=xt.next=i}return xt}function el(i,o){return typeof o=="function"?o(i):o}function Lh(i){var o=Ln(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=Ct,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var D=E=null,F=null,Q=v;do{var re=Q.lane;if((Ss&re)===re)F!==null&&(F=F.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:i(d,Q.action);else{var ie={lane:re,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};F===null?(D=F=ie,E=d):F=F.next=ie,ut.lanes|=re,Ts|=re}Q=Q.next}while(Q!==null&&Q!==v);F===null?E=d:F.next=D,Gn(d,o.memoizedState)||(un=!0),o.memoizedState=d,o.baseState=E,o.baseQueue=F,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do v=m.lane,ut.lanes|=v,Ts|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Mh(i){var o=Ln(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do v=i(v,E.action),E=E.next;while(E!==m);Gn(v,o.memoizedState)||(un=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,d]}function Rg(){}function Pg(i,o){var l=ut,d=Ln(),m=o(),v=!Gn(d.memoizedState,m);if(v&&(d.memoizedState=m,un=!0),d=d.queue,Fh(kg.bind(null,l,d,i),[i]),d.getSnapshot!==o||v||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,tl(9,bg.bind(null,l,d,m,o),void 0,null),Ot===null)throw Error(t(349));Ss&30||Ag(l,o,m)}return m}function Ag(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function bg(i,o,l,d){o.value=l,o.getSnapshot=d,xg(o)&&Og(i)}function kg(i,o,l){return l(function(){xg(o)&&Og(i)})}function xg(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Gn(i,l)}catch{return!0}}function Og(i){var o=Wr(i,1);o!==null&&Zn(o,i,1,-1)}function Dg(i){var o=gr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:i},o.queue=i,i=i.dispatch=u1.bind(null,ut,i),[o.memoizedState,i]}function tl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function Ng(){return Ln().memoizedState}function ju(i,o,l,d){var m=gr();ut.flags|=i,m.memoizedState=tl(1|o,l,void 0,d===void 0?null:d)}function $u(i,o,l,d){var m=Ln();d=d===void 0?null:d;var v=void 0;if(Ct!==null){var E=Ct.memoizedState;if(v=E.destroy,d!==null&&Dh(d,E.deps)){m.memoizedState=tl(o,l,v,d);return}}ut.flags|=i,m.memoizedState=tl(1|o,l,v,d)}function Vg(i,o){return ju(8390656,8,i,o)}function Fh(i,o){return $u(2048,8,i,o)}function Lg(i,o){return $u(4,2,i,o)}function Mg(i,o){return $u(4,4,i,o)}function Fg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Ug(i,o,l){return l=l!=null?l.concat([i]):null,$u(4,4,Fg.bind(null,o,i),l)}function Uh(){}function jg(i,o){var l=Ln();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Dh(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function $g(i,o){var l=Ln();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Dh(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function zg(i,o,l){return Ss&21?(Gn(l,o)||(l=ds(),ut.lanes|=l,Ts|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,un=!0),i.memoizedState=l)}function a1(i,o){var l=Ue;Ue=l!==0&&4>l?l:4,i(!0);var d=Oh.transition;Oh.transition={};try{i(!1),o()}finally{Ue=l,Oh.transition=d}}function Bg(){return Ln().memoizedState}function l1(i,o,l){var d=xi(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Hg(i))Wg(o,l);else if(l=Eg(i,o,l,d),l!==null){var m=nn();Zn(l,i,d,m),qg(l,o,d)}}function u1(i,o,l){var d=xi(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hg(i))Wg(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,D=v(E,l);if(m.hasEagerState=!0,m.eagerState=D,Gn(D,E)){var F=o.interleaved;F===null?(m.next=m,Rh(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}l=Eg(i,o,m,d),l!==null&&(m=nn(),Zn(l,i,d,m),qg(l,o,d))}}function Hg(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function Wg(i,o){Ja=Uu=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function qg(i,o,l){if(l&4194240){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,gi(i,l)}}var zu={readContext:Vn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},c1={readContext:Vn,useCallback:function(i,o){return gr().memoizedState=[i,o===void 0?null:o],i},useContext:Vn,useEffect:Vg,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,ju(4194308,4,Fg.bind(null,o,i),l)},useLayoutEffect:function(i,o){return ju(4194308,4,i,o)},useInsertionEffect:function(i,o){return ju(4,2,i,o)},useMemo:function(i,o){var l=gr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=gr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=l1.bind(null,ut,i),[d.memoizedState,i]},useRef:function(i){var o=gr();return i={current:i},o.memoizedState=i},useState:Dg,useDebugValue:Uh,useDeferredValue:function(i){return gr().memoizedState=i},useTransition:function(){var i=Dg(!1),o=i[0];return i=a1.bind(null,i[1]),gr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=ut,m=gr();if(st){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Ot===null)throw Error(t(349));Ss&30||Ag(d,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,Vg(kg.bind(null,d,v,i),[i]),d.flags|=2048,tl(9,bg.bind(null,d,v,l,o),void 0,null),l},useId:function(){var i=gr(),o=Ot.identifierPrefix;if(st){var l=Hr,d=Br;l=(d&~(1<<32-Zt(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=Za++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=o1++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},d1={readContext:Vn,useCallback:jg,useContext:Vn,useEffect:Fh,useImperativeHandle:Ug,useInsertionEffect:Lg,useLayoutEffect:Mg,useMemo:$g,useReducer:Lh,useRef:Ng,useState:function(){return Lh(el)},useDebugValue:Uh,useDeferredValue:function(i){var o=Ln();return zg(o,Ct.memoizedState,i)},useTransition:function(){var i=Lh(el)[0],o=Ln().memoizedState;return[i,o]},useMutableSource:Rg,useSyncExternalStore:Pg,useId:Bg,unstable_isNewReconciler:!1},h1={readContext:Vn,useCallback:jg,useContext:Vn,useEffect:Fh,useImperativeHandle:Ug,useInsertionEffect:Lg,useLayoutEffect:Mg,useMemo:$g,useReducer:Mh,useRef:Ng,useState:function(){return Mh(el)},useDebugValue:Uh,useDeferredValue:function(i){var o=Ln();return Ct===null?o.memoizedState=i:zg(o,Ct.memoizedState,i)},useTransition:function(){var i=Mh(el)[0],o=Ln().memoizedState;return[i,o]},useMutableSource:Rg,useSyncExternalStore:Pg,useId:Bg,unstable_isNewReconciler:!1};function Yn(i,o){if(i&&i.defaultProps){o=te({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function jh(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:te({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Bu={isMounted:function(i){return(i=i._reactInternals)?$n(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=nn(),m=xi(i),v=qr(d,m);v.payload=o,l!=null&&(v.callback=l),o=Pi(i,v,m),o!==null&&(Zn(o,i,m,d),Vu(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=nn(),m=xi(i),v=qr(d,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=Pi(i,v,m),o!==null&&(Zn(o,i,m,d),Vu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=nn(),d=xi(i),m=qr(l,d);m.tag=2,o!=null&&(m.callback=o),o=Pi(i,m,d),o!==null&&(Zn(o,i,d,l),Vu(o,i,d))}};function Kg(i,o,l,d,m,v,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,E):o.prototype&&o.prototype.isPureReactComponent?!$a(l,d)||!$a(m,v):!0}function Gg(i,o,l){var d=!1,m=Ii,v=o.contextType;return typeof v=="object"&&v!==null?v=Vn(v):(m=ln(o)?vs:Ht.current,d=o.contextTypes,v=(d=d!=null)?Eo(i,m):Ii),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Bu,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function Qg(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&Bu.enqueueReplaceState(o,o.state,null)}function $h(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Ph(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Vn(v):(v=ln(o)?vs:Ht.current,m.context=Eo(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(jh(i,o,v,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Bu.enqueueReplaceState(m,m.state,null),Lu(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function bo(i,o){try{var l="",d=o;do l+=Ie(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function zh(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Bh(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var f1=typeof WeakMap=="function"?WeakMap:Map;function Yg(i,o,l){l=qr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Yu||(Yu=!0,sf=d),Bh(i,o)},l}function Xg(i,o,l){l=qr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){Bh(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Bh(i,o),typeof d!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),l}function Jg(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new f1;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=P1.bind(null,i,o,l),o.then(i,i))}function Zg(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ev(i,o,l,d,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=qr(-1,1),o.tag=2,Pi(l,o,1))),l.lanes|=1),i)}var p1=G.ReactCurrentOwner,un=!1;function tn(i,o,l,d){o.child=i===null?wg(o,null,l,d):Co(o,i.child,l,d)}function tv(i,o,l,d,m){l=l.render;var v=o.ref;return Po(o,m),d=Nh(i,o,l,d,v,m),l=Vh(),i!==null&&!un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Kr(i,o,m)):(st&&l&&vh(o),o.flags|=1,tn(i,o,d,m),o.child)}function nv(i,o,l,d,m){if(i===null){var v=l.type;return typeof v=="function"&&!hf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,rv(i,o,v,d,m)):(i=nc(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:$a,l(E,d)&&i.ref===o.ref)return Kr(i,o,m)}return o.flags|=1,i=Di(v,d),i.ref=o.ref,i.return=o,o.child=i}function rv(i,o,l,d,m){if(i!==null){var v=i.memoizedProps;if($a(v,d)&&i.ref===o.ref)if(un=!1,o.pendingProps=d=v,(i.lanes&m)!==0)i.flags&131072&&(un=!0);else return o.lanes=i.lanes,Kr(i,o,m)}return Hh(i,o,l,d,m)}function iv(i,o,l){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(xo,In),In|=l;else{if(!(l&1073741824))return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,tt(xo,In),In|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,tt(xo,In),In|=d}else v!==null?(d=v.baseLanes|l,o.memoizedState=null):d=l,tt(xo,In),In|=d;return tn(i,o,m,l),o.child}function sv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Hh(i,o,l,d,m){var v=ln(l)?vs:Ht.current;return v=Eo(o,v),Po(o,m),l=Nh(i,o,l,d,v,m),d=Vh(),i!==null&&!un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Kr(i,o,m)):(st&&d&&vh(o),o.flags|=1,tn(i,o,l,m),o.child)}function ov(i,o,l,d,m){if(ln(l)){var v=!0;Pu(o)}else v=!1;if(Po(o,m),o.stateNode===null)Wu(i,o),Gg(o,l,d),$h(o,l,d,m),d=!0;else if(i===null){var E=o.stateNode,D=o.memoizedProps;E.props=D;var F=E.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Vn(Q):(Q=ln(l)?vs:Ht.current,Q=Eo(o,Q));var re=l.getDerivedStateFromProps,ie=typeof re=="function"||typeof E.getSnapshotBeforeUpdate=="function";ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==d||F!==Q)&&Qg(o,E,d,Q),Ri=!1;var ee=o.memoizedState;E.state=ee,Lu(o,d,E,m),F=o.memoizedState,D!==d||ee!==F||an.current||Ri?(typeof re=="function"&&(jh(o,l,re,d),F=o.memoizedState),(D=Ri||Kg(o,l,D,d,ee,F,Q))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=F),E.props=d,E.state=F,E.context=Q,d=D):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{E=o.stateNode,Sg(i,o),D=o.memoizedProps,Q=o.type===o.elementType?D:Yn(o.type,D),E.props=Q,ie=o.pendingProps,ee=E.context,F=l.contextType,typeof F=="object"&&F!==null?F=Vn(F):(F=ln(l)?vs:Ht.current,F=Eo(o,F));var ue=l.getDerivedStateFromProps;(re=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==ie||ee!==F)&&Qg(o,E,d,F),Ri=!1,ee=o.memoizedState,E.state=ee,Lu(o,d,E,m);var fe=o.memoizedState;D!==ie||ee!==fe||an.current||Ri?(typeof ue=="function"&&(jh(o,l,ue,d),fe=o.memoizedState),(Q=Ri||Kg(o,l,Q,d,ee,fe,F)||!1)?(re||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,fe,F),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,fe,F)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=fe),E.props=d,E.state=fe,E.context=F,d=Q):(typeof E.componentDidUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),d=!1)}return Wh(i,o,l,d,v,m)}function Wh(i,o,l,d,m,v){sv(i,o);var E=(o.flags&128)!==0;if(!d&&!E)return m&&dg(o,l,!1),Kr(i,o,v);d=o.stateNode,p1.current=o;var D=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&E?(o.child=Co(o,i.child,null,v),o.child=Co(o,null,D,v)):tn(i,o,D,v),o.memoizedState=d.state,m&&dg(o,l,!0),o.child}function av(i){var o=i.stateNode;o.pendingContext?ug(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ug(i,o.context,!1),Ah(i,o.containerInfo)}function lv(i,o,l,d,m){return Io(),Eh(m),o.flags|=256,tn(i,o,l,d),o.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Kh(i){return{baseLanes:i,cachePool:null,transitions:null}}function uv(i,o,l){var d=o.pendingProps,m=lt.current,v=!1,E=(o.flags&128)!==0,D;if((D=E)||(D=i!==null&&i.memoizedState===null?!1:(m&2)!==0),D?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),tt(lt,m&1),i===null)return wh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(E=d.children,i=d.fallback,v?(d=o.mode,v=o.child,E={mode:"hidden",children:E},!(d&1)&&v!==null?(v.childLanes=0,v.pendingProps=E):v=rc(E,d,0,null),i=Ps(i,d,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Kh(l),o.memoizedState=qh,i):Gh(o,E));if(m=i.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return m1(i,o,E,d,D,m,l);if(v){v=d.fallback,E=o.mode,m=i.child,D=m.sibling;var F={mode:"hidden",children:d.children};return!(E&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=F,o.deletions=null):(d=Di(m,F),d.subtreeFlags=m.subtreeFlags&14680064),D!==null?v=Di(D,v):(v=Ps(v,E,l,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,E=i.child.memoizedState,E=E===null?Kh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=i.childLanes&~l,o.memoizedState=qh,d}return v=i.child,i=v.sibling,d=Di(v,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function Gh(i,o){return o=rc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Hu(i,o,l,d){return d!==null&&Eh(d),Co(o,i.child,null,l),i=Gh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function m1(i,o,l,d,m,v,E){if(l)return o.flags&256?(o.flags&=-257,d=zh(Error(t(422))),Hu(i,o,E,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=rc({mode:"visible",children:d.children},m,0,null),v=Ps(v,m,E,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,o.mode&1&&Co(o,i.child,null,E),o.child.memoizedState=Kh(E),o.memoizedState=qh,v);if(!(o.mode&1))return Hu(i,o,E,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var D=d.dgst;return d=D,v=Error(t(419)),d=zh(v,d,void 0),Hu(i,o,E,d)}if(D=(E&i.childLanes)!==0,un||D){if(d=Ot,d!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|E)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Wr(i,m),Zn(d,i,m,-1))}return df(),d=zh(Error(t(421))),Hu(i,o,E,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=A1.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Tn=Si(m.nextSibling),Sn=o,st=!0,Qn=null,i!==null&&(Dn[Nn++]=Br,Dn[Nn++]=Hr,Dn[Nn++]=ys,Br=i.id,Hr=i.overflow,ys=o),o=Gh(o,d.children),o.flags|=4096,o)}function cv(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Ch(i.return,o,l)}function Qh(i,o,l,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function dv(i,o,l){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(tn(i,o,d.children,l),d=lt.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cv(i,l,o);else if(i.tag===19)cv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(tt(lt,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Mu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Qh(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Mu(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Qh(o,!0,l,null,v);break;case"together":Qh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Wu(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Kr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Ts|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Di(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Di(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function g1(i,o,l){switch(o.tag){case 3:av(o),Io();break;case 5:Cg(o);break;case 1:ln(o.type)&&Pu(o);break;case 4:Ah(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;tt(Du,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(tt(lt,lt.current&1),o.flags|=128,null):l&o.child.childLanes?uv(i,o,l):(tt(lt,lt.current&1),i=Kr(i,o,l),i!==null?i.sibling:null);tt(lt,lt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,i.flags&128){if(d)return dv(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(lt,lt.current),d)break;return null;case 22:case 23:return o.lanes=0,iv(i,o,l)}return Kr(i,o,l)}var hv,Yh,fv,pv;hv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Yh=function(){},fv=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,Es(mr.current);var v=null;switch(l){case"input":m=or(i,m),d=or(i,d),v=[];break;case"select":m=te({},m,{value:void 0}),d=te({},d,{value:void 0}),v=[];break;case"textarea":m=ga(i,m),d=ga(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Iu)}Sa(l,d);var E;l=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var D=m[Q];for(E in D)D.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in d){var F=d[Q];if(D=m!=null?m[Q]:void 0,d.hasOwnProperty(Q)&&F!==D&&(F!=null||D!=null))if(Q==="style")if(D){for(E in D)!D.hasOwnProperty(E)||F&&F.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in F)F.hasOwnProperty(E)&&D[E]!==F[E]&&(l||(l={}),l[E]=F[E])}else l||(v||(v=[]),v.push(Q,l)),l=F;else Q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,D=D?D.__html:void 0,F!=null&&D!==F&&(v=v||[]).push(Q,F)):Q==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(Q,""+F):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?(F!=null&&Q==="onScroll"&&nt("scroll",i),v||D===F||(v=[])):(v=v||[]).push(Q,F))}l&&(v=v||[]).push("style",l);var Q=v;(o.updateQueue=Q)&&(o.flags|=4)}},pv=function(i,o,l,d){l!==d&&(o.flags|=4)};function nl(i,o){if(!st)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function v1(i,o,l){var d=o.pendingProps;switch(yh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return ln(o.type)&&Ru(),qt(o),null;case 3:return d=o.stateNode,Ao(),rt(an),rt(Ht),xh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(xu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Qn!==null&&(lf(Qn),Qn=null))),Yh(i,o),qt(o),null;case 5:bh(o);var m=Es(Xa.current);if(l=o.type,i!==null&&o.stateNode!=null)fv(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return qt(o),null}if(i=Es(mr.current),xu(o)){d=o.stateNode,l=o.type;var v=o.memoizedProps;switch(d[pr]=o,d[qa]=v,i=(o.mode&1)!==0,l){case"dialog":nt("cancel",d),nt("close",d);break;case"iframe":case"object":case"embed":nt("load",d);break;case"video":case"audio":for(m=0;m<Ba.length;m++)nt(Ba[m],d);break;case"source":nt("error",d);break;case"img":case"image":case"link":nt("error",d),nt("load",d);break;case"details":nt("toggle",d);break;case"input":ci(d,v),nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},nt("invalid",d);break;case"textarea":Hs(d,v),nt("invalid",d)}Sa(l,v),m=null;for(var E in v)if(v.hasOwnProperty(E)){var D=v[E];E==="children"?typeof D=="string"?d.textContent!==D&&(v.suppressHydrationWarning!==!0&&Tu(d.textContent,D,i),m=["children",D]):typeof D=="number"&&d.textContent!==""+D&&(v.suppressHydrationWarning!==!0&&Tu(d.textContent,D,i),m=["children",""+D]):s.hasOwnProperty(E)&&D!=null&&E==="onScroll"&&nt("scroll",d)}switch(l){case"input":An(d),Ql(d,v,!0);break;case"textarea":An(d),va(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Iu)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=St(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=E.createElement(l,{is:d.is}):(i=E.createElement(l),l==="select"&&(E=i,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):i=E.createElementNS(i,l),i[pr]=o,i[qa]=d,hv(i,o,!1,!1),o.stateNode=i;e:{switch(E=Ta(l,d),l){case"dialog":nt("cancel",i),nt("close",i),m=d;break;case"iframe":case"object":case"embed":nt("load",i),m=d;break;case"video":case"audio":for(m=0;m<Ba.length;m++)nt(Ba[m],i);m=d;break;case"source":nt("error",i),m=d;break;case"img":case"image":case"link":nt("error",i),nt("load",i),m=d;break;case"details":nt("toggle",i),m=d;break;case"input":ci(i,d),m=or(i,d),nt("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=te({},d,{value:void 0}),nt("invalid",i);break;case"textarea":Hs(i,d),m=ga(i,d),nt("invalid",i);break;default:m=d}Sa(l,m),D=m;for(v in D)if(D.hasOwnProperty(v)){var F=D[v];v==="style"?wa(i,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&ya(i,F)):v==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&di(i,F):typeof F=="number"&&di(i,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?F!=null&&v==="onScroll"&&nt("scroll",i):F!=null&&L(i,v,F,E))}switch(l){case"input":An(i),Ql(i,d,!1);break;case"textarea":An(i),va(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Oe(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?Dr(i,!!d.multiple,v,!1):d.defaultValue!=null&&Dr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Iu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return qt(o),null;case 6:if(i&&o.stateNode!=null)pv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=Es(Xa.current),Es(mr.current),xu(o)){if(d=o.stateNode,l=o.memoizedProps,d[pr]=o,(v=d.nodeValue!==l)&&(i=Sn,i!==null))switch(i.tag){case 3:Tu(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Tu(d.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[pr]=o,o.stateNode=d}return qt(o),null;case 13:if(rt(lt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(st&&Tn!==null&&o.mode&1&&!(o.flags&128))vg(),Io(),o.flags|=98560,v=!1;else if(v=xu(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[pr]=o}else Io(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;qt(o),v=!1}else Qn!==null&&(lf(Qn),Qn=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||lt.current&1?Rt===0&&(Rt=3):df())),o.updateQueue!==null&&(o.flags|=4),qt(o),null);case 4:return Ao(),Yh(i,o),i===null&&Ha(o.stateNode.containerInfo),qt(o),null;case 10:return Ih(o.type._context),qt(o),null;case 17:return ln(o.type)&&Ru(),qt(o),null;case 19:if(rt(lt),v=o.memoizedState,v===null)return qt(o),null;if(d=(o.flags&128)!==0,E=v.rendering,E===null)if(d)nl(v,!1);else{if(Rt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(E=Mu(i),E!==null){for(o.flags|=128,nl(v,!1),d=E.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)v=l,i=d,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,i=E.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return tt(lt,lt.current&1|2),o.child}i=i.sibling}v.tail!==null&&et()>Oo&&(o.flags|=128,d=!0,nl(v,!1),o.lanes=4194304)}else{if(!d)if(i=Mu(E),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),nl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!st)return qt(o),null}else 2*et()-v.renderingStartTime>Oo&&l!==1073741824&&(o.flags|=128,d=!0,nl(v,!1),o.lanes=4194304);v.isBackwards?(E.sibling=o.child,o.child=E):(l=v.last,l!==null?l.sibling=E:o.child=E,v.last=E)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=et(),o.sibling=null,l=lt.current,tt(lt,d?l&1|2:l&1),o):(qt(o),null);case 22:case 23:return cf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?In&1073741824&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function y1(i,o){switch(yh(o),o.tag){case 1:return ln(o.type)&&Ru(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ao(),rt(an),rt(Ht),xh(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return bh(o),null;case 13:if(rt(lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Io()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rt(lt),null;case 4:return Ao(),null;case 10:return Ih(o.type._context),null;case 22:case 23:return cf(),null;case 24:return null;default:return null}}var qu=!1,Kt=!1,_1=typeof WeakSet=="function"?WeakSet:Set,he=null;function ko(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){dt(i,o,d)}else l.current=null}function Xh(i,o,l){try{l()}catch(d){dt(i,o,d)}}var mv=!1;function w1(i,o){if(uh=_i,i=Km(),th(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,D=-1,F=-1,Q=0,re=0,ie=i,ee=null;t:for(;;){for(var ue;ie!==l||m!==0&&ie.nodeType!==3||(D=E+m),ie!==v||d!==0&&ie.nodeType!==3||(F=E+d),ie.nodeType===3&&(E+=ie.nodeValue.length),(ue=ie.firstChild)!==null;)ee=ie,ie=ue;for(;;){if(ie===i)break t;if(ee===l&&++Q===m&&(D=E),ee===v&&++re===d&&(F=E),(ue=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=ue}l=D===-1||F===-1?null:{start:D,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(ch={focusedElem:i,selectionRange:l},_i=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var fe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,pt=fe.memoizedState,q=o.stateNode,$=q.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Yn(o.type,pe),pt);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){dt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return fe=mv,mv=!1,fe}function rl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Xh(o,l,v)}m=m.next}while(m!==d)}}function Ku(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Jh(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function gv(i){var o=i.alternate;o!==null&&(i.alternate=null,gv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[pr],delete o[qa],delete o[ph],delete o[n1],delete o[r1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function vv(i){return i.tag===5||i.tag===3||i.tag===4}function yv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||vv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zh(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Iu));else if(d!==4&&(i=i.child,i!==null))for(Zh(i,o,l),i=i.sibling;i!==null;)Zh(i,o,l),i=i.sibling}function ef(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(ef(i,o,l),i=i.sibling;i!==null;)ef(i,o,l),i=i.sibling}var Ft=null,Xn=!1;function Ai(i,o,l){for(l=l.child;l!==null;)_v(i,o,l),l=l.sibling}function _v(i,o,l){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(us,l)}catch{}switch(l.tag){case 5:Kt||ko(l,o);case 6:var d=Ft,m=Xn;Ft=null,Ai(i,o,l),Ft=d,Xn=m,Ft!==null&&(Xn?(i=Ft,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(Xn?(i=Ft,l=l.stateNode,i.nodeType===8?fh(i.parentNode,l):i.nodeType===1&&fh(i,l),qn(i)):fh(Ft,l.stateNode));break;case 4:d=Ft,m=Xn,Ft=l.stateNode.containerInfo,Xn=!0,Ai(i,o,l),Ft=d,Xn=m;break;case 0:case 11:case 14:case 15:if(!Kt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,E=v.destroy;v=v.tag,E!==void 0&&(v&2||v&4)&&Xh(l,o,E),m=m.next}while(m!==d)}Ai(i,o,l);break;case 1:if(!Kt&&(ko(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(D){dt(l,o,D)}Ai(i,o,l);break;case 21:Ai(i,o,l);break;case 22:l.mode&1?(Kt=(d=Kt)||l.memoizedState!==null,Ai(i,o,l),Kt=d):Ai(i,o,l);break;default:Ai(i,o,l)}}function wv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new _1),o.forEach(function(d){var m=b1.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Jn(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=i,E=o,D=E;e:for(;D!==null;){switch(D.tag){case 5:Ft=D.stateNode,Xn=!1;break e;case 3:Ft=D.stateNode.containerInfo,Xn=!0;break e;case 4:Ft=D.stateNode.containerInfo,Xn=!0;break e}D=D.return}if(Ft===null)throw Error(t(160));_v(v,E,m),Ft=null,Xn=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(Q){dt(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ev(o,i),o=o.sibling}function Ev(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Jn(o,i),vr(i),d&4){try{rl(3,i,i.return),Ku(3,i)}catch(pe){dt(i,i.return,pe)}try{rl(5,i,i.return)}catch(pe){dt(i,i.return,pe)}}break;case 1:Jn(o,i),vr(i),d&512&&l!==null&&ko(l,l.return);break;case 5:if(Jn(o,i),vr(i),d&512&&l!==null&&ko(l,l.return),i.flags&32){var m=i.stateNode;try{di(m,"")}catch(pe){dt(i,i.return,pe)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,E=l!==null?l.memoizedProps:v,D=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{D==="input"&&v.type==="radio"&&v.name!=null&&pa(m,v),Ta(D,E);var Q=Ta(D,v);for(E=0;E<F.length;E+=2){var re=F[E],ie=F[E+1];re==="style"?wa(m,ie):re==="dangerouslySetInnerHTML"?ya(m,ie):re==="children"?di(m,ie):L(m,re,ie,Q)}switch(D){case"input":ma(m,v);break;case"textarea":Ws(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?Dr(m,!!v.multiple,ue,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Dr(m,!!v.multiple,v.defaultValue,!0):Dr(m,!!v.multiple,v.multiple?[]:"",!1))}m[qa]=v}catch(pe){dt(i,i.return,pe)}}break;case 6:if(Jn(o,i),vr(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(pe){dt(i,i.return,pe)}}break;case 3:if(Jn(o,i),vr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{qn(o.containerInfo)}catch(pe){dt(i,i.return,pe)}break;case 4:Jn(o,i),vr(i);break;case 13:Jn(o,i),vr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(rf=et())),d&4&&wv(i);break;case 22:if(re=l!==null&&l.memoizedState!==null,i.mode&1?(Kt=(Q=Kt)||re,Jn(o,i),Kt=Q):Jn(o,i),vr(i),d&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!re&&i.mode&1)for(he=i,re=i.child;re!==null;){for(ie=he=re;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:rl(4,ee,ee.return);break;case 1:ko(ee,ee.return);var fe=ee.stateNode;if(typeof fe.componentWillUnmount=="function"){d=ee,l=ee.return;try{o=d,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){dt(d,l,pe)}}break;case 5:ko(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Iv(ie);continue}}ue!==null?(ue.return=ee,he=ue):Iv(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{m=ie.stateNode,Q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(D=ie.stateNode,F=ie.memoizedProps.style,E=F!=null&&F.hasOwnProperty("display")?F.display:null,D.style.display=_a("display",E))}catch(pe){dt(i,i.return,pe)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=Q?"":ie.memoizedProps}catch(pe){dt(i,i.return,pe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Jn(o,i),vr(i),d&4&&wv(i);break;case 21:break;default:Jn(o,i),vr(i)}}function vr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(vv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(di(m,""),d.flags&=-33);var v=yv(i);ef(i,v,m);break;case 3:case 4:var E=d.stateNode.containerInfo,D=yv(i);Zh(i,D,E);break;default:throw Error(t(161))}}catch(F){dt(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function E1(i,o,l){he=i,Sv(i)}function Sv(i,o,l){for(var d=(i.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&d){var E=m.memoizedState!==null||qu;if(!E){var D=m.alternate,F=D!==null&&D.memoizedState!==null||Kt;D=qu;var Q=Kt;if(qu=E,(Kt=F)&&!Q)for(he=m;he!==null;)E=he,F=E.child,E.tag===22&&E.memoizedState!==null?Cv(m):F!==null?(F.return=E,he=F):Cv(m);for(;v!==null;)he=v,Sv(v),v=v.sibling;he=m,qu=D,Kt=Q}Tv(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,he=v):Tv(i)}}function Tv(i){for(;he!==null;){var o=he;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Kt||Ku(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Kt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Yn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Ig(o,v,d);break;case 3:var E=o.updateQueue;if(E!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Ig(o,E,l)}break;case 5:var D=o.stateNode;if(l===null&&o.flags&4){l=D;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var re=Q.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&qn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Kt||o.flags&512&&Jh(o)}catch(ee){dt(o,o.return,ee)}}if(o===i){he=null;break}if(l=o.sibling,l!==null){l.return=o.return,he=l;break}he=o.return}}function Iv(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var l=o.sibling;if(l!==null){l.return=o.return,he=l;break}he=o.return}}function Cv(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Ku(4,o)}catch(F){dt(o,l,F)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(F){dt(o,m,F)}}var v=o.return;try{Jh(o)}catch(F){dt(o,v,F)}break;case 5:var E=o.return;try{Jh(o)}catch(F){dt(o,E,F)}}}catch(F){dt(o,o.return,F)}if(o===i){he=null;break}var D=o.sibling;if(D!==null){D.return=o.return,he=D;break}he=o.return}}var S1=Math.ceil,Gu=G.ReactCurrentDispatcher,tf=G.ReactCurrentOwner,Mn=G.ReactCurrentBatchConfig,We=0,Ot=null,yt=null,Ut=0,In=0,xo=Ti(0),Rt=0,il=null,Ts=0,Qu=0,nf=0,sl=null,cn=null,rf=0,Oo=1/0,Gr=null,Yu=!1,sf=null,bi=null,Xu=!1,ki=null,Ju=0,ol=0,of=null,Zu=-1,ec=0;function nn(){return We&6?et():Zu!==-1?Zu:Zu=et()}function xi(i){return i.mode&1?We&2&&Ut!==0?Ut&-Ut:s1.transition!==null?(ec===0&&(ec=ds()),ec):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:Na(i.type)),i):1}function Zn(i,o,l,d){if(50<ol)throw ol=0,of=null,Error(t(185));mi(i,l,d),(!(We&2)||i!==Ot)&&(i===Ot&&(!(We&2)&&(Qu|=l),Rt===4&&Oi(i,Ut)),dn(i,d),l===1&&We===0&&!(o.mode&1)&&(Oo=et()+500,Au&&Ci()))}function dn(i,o){var l=i.callbackNode;Lr(i,o);var d=cs(i,i===Ot?Ut:0);if(d===0)l!==null&&ba(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&ba(l),o===1)i.tag===0?i1(Pv.bind(null,i)):hg(Pv.bind(null,i)),e1(function(){!(We&6)&&Ci()}),l=null;else{switch(vi(d)){case 1:l=ls;break;case 4:l=hi;break;case 16:l=kn;break;case 536870912:l=eu;break;default:l=kn}l=Vv(l,Rv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Rv(i,o){if(Zu=-1,ec=0,We&6)throw Error(t(327));var l=i.callbackNode;if(Do()&&i.callbackNode!==l)return null;var d=cs(i,i===Ot?Ut:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=tc(i,d);else{o=d;var m=We;We|=2;var v=bv();(Ot!==i||Ut!==o)&&(Gr=null,Oo=et()+500,Cs(i,o));do try{C1();break}catch(D){Av(i,D)}while(!0);Th(),Gu.current=v,We=m,yt!==null?o=0:(Ot=null,Ut=0,o=Rt)}if(o!==0){if(o===2&&(m=_n(i),m!==0&&(d=m,o=af(i,m))),o===1)throw l=il,Cs(i,0),Oi(i,d),dn(i,et()),l;if(o===6)Oi(i,d);else{if(m=i.current.alternate,!(d&30)&&!T1(m)&&(o=tc(i,d),o===2&&(v=_n(i),v!==0&&(d=v,o=af(i,v))),o===1))throw l=il,Cs(i,0),Oi(i,d),dn(i,et()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Rs(i,cn,Gr);break;case 3:if(Oi(i,d),(d&130023424)===d&&(o=rf+500-et(),10<o)){if(cs(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){nn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=hh(Rs.bind(null,i,cn,Gr),o);break}Rs(i,cn,Gr);break;case 4:if(Oi(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var E=31-Zt(d);v=1<<E,E=o[E],E>m&&(m=E),d&=~v}if(d=m,d=et()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*S1(d/1960))-d,10<d){i.timeoutHandle=hh(Rs.bind(null,i,cn,Gr),d);break}Rs(i,cn,Gr);break;case 5:Rs(i,cn,Gr);break;default:throw Error(t(329))}}}return dn(i,et()),i.callbackNode===l?Rv.bind(null,i):null}function af(i,o){var l=sl;return i.current.memoizedState.isDehydrated&&(Cs(i,o).flags|=256),i=tc(i,o),i!==2&&(o=cn,cn=l,o!==null&&lf(o)),i}function lf(i){cn===null?cn=i:cn.push.apply(cn,i)}function T1(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!Gn(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oi(i,o){for(o&=~nf,o&=~Qu,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Zt(o),d=1<<l;i[l]=-1,o&=~d}}function Pv(i){if(We&6)throw Error(t(327));Do();var o=cs(i,0);if(!(o&1))return dn(i,et()),null;var l=tc(i,o);if(i.tag!==0&&l===2){var d=_n(i);d!==0&&(o=d,l=af(i,d))}if(l===1)throw l=il,Cs(i,0),Oi(i,o),dn(i,et()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Rs(i,cn,Gr),dn(i,et()),null}function uf(i,o){var l=We;We|=1;try{return i(o)}finally{We=l,We===0&&(Oo=et()+500,Au&&Ci())}}function Is(i){ki!==null&&ki.tag===0&&!(We&6)&&Do();var o=We;We|=1;var l=Mn.transition,d=Ue;try{if(Mn.transition=null,Ue=1,i)return i()}finally{Ue=d,Mn.transition=l,We=o,!(We&6)&&Ci()}}function cf(){In=xo.current,rt(xo)}function Cs(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,ZS(l)),yt!==null)for(l=yt.return;l!==null;){var d=l;switch(yh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ru();break;case 3:Ao(),rt(an),rt(Ht),xh();break;case 5:bh(d);break;case 4:Ao();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:Ih(d.type._context);break;case 22:case 23:cf()}l=l.return}if(Ot=i,yt=i=Di(i.current,null),Ut=In=o,Rt=0,il=null,nf=Qu=Ts=0,cn=sl=null,ws!==null){for(o=0;o<ws.length;o++)if(l=ws[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var E=v.next;v.next=m,d.next=E}l.pending=d}ws=null}return i}function Av(i,o){do{var l=yt;try{if(Th(),Fu.current=zu,Uu){for(var d=ut.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Uu=!1}if(Ss=0,xt=Ct=ut=null,Ja=!1,Za=0,tf.current=null,l===null||l.return===null){Rt=1,il=o,yt=null;break}e:{var v=i,E=l.return,D=l,F=o;if(o=Ut,D.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Q=F,re=D,ie=re.tag;if(!(re.mode&1)&&(ie===0||ie===11||ie===15)){var ee=re.alternate;ee?(re.updateQueue=ee.updateQueue,re.memoizedState=ee.memoizedState,re.lanes=ee.lanes):(re.updateQueue=null,re.memoizedState=null)}var ue=Zg(E);if(ue!==null){ue.flags&=-257,ev(ue,E,D,v,o),ue.mode&1&&Jg(v,Q,o),o=ue,F=Q;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(F),o.updateQueue=pe}else fe.add(F);break e}else{if(!(o&1)){Jg(v,Q,o),df();break e}F=Error(t(426))}}else if(st&&D.mode&1){var pt=Zg(E);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),ev(pt,E,D,v,o),Eh(bo(F,D));break e}}v=F=bo(F,D),Rt!==4&&(Rt=2),sl===null?sl=[v]:sl.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var q=Yg(v,F,o);Tg(v,q);break e;case 1:D=F;var $=v.type,K=v.stateNode;if(!(v.flags&128)&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(bi===null||!bi.has(K)))){v.flags|=65536,o&=-o,v.lanes|=o;var oe=Xg(v,D,o);Tg(v,oe);break e}}v=v.return}while(v!==null)}xv(l)}catch(me){o=me,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function bv(){var i=Gu.current;return Gu.current=zu,i===null?zu:i}function df(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Ot===null||!(Ts&268435455)&&!(Qu&268435455)||Oi(Ot,Ut)}function tc(i,o){var l=We;We|=2;var d=bv();(Ot!==i||Ut!==o)&&(Gr=null,Cs(i,o));do try{I1();break}catch(m){Av(i,m)}while(!0);if(Th(),We=l,Gu.current=d,yt!==null)throw Error(t(261));return Ot=null,Ut=0,Rt}function I1(){for(;yt!==null;)kv(yt)}function C1(){for(;yt!==null&&!Jl();)kv(yt)}function kv(i){var o=Nv(i.alternate,i,In);i.memoizedProps=i.pendingProps,o===null?xv(i):yt=o,tf.current=null}function xv(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=y1(l,o),l!==null){l.flags&=32767,yt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Rt=6,yt=null;return}}else if(l=v1(l,o,In),l!==null){yt=l;return}if(o=o.sibling,o!==null){yt=o;return}yt=o=i}while(o!==null);Rt===0&&(Rt=5)}function Rs(i,o,l){var d=Ue,m=Mn.transition;try{Mn.transition=null,Ue=1,R1(i,o,l,d)}finally{Mn.transition=m,Ue=d}return null}function R1(i,o,l,d){do Do();while(ki!==null);if(We&6)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(Ze(i,v),i===Ot&&(yt=Ot=null,Ut=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Xu||(Xu=!0,Vv(kn,function(){return Do(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=Mn.transition,Mn.transition=null;var E=Ue;Ue=1;var D=We;We|=4,tf.current=null,w1(i,l),Ev(l,i),qS(ch),_i=!!uh,ch=uh=null,i.current=l,E1(l),Kd(),We=D,Ue=E,Mn.transition=v}else i.current=l;if(Xu&&(Xu=!1,ki=i,Ju=m),v=i.pendingLanes,v===0&&(bi=null),tu(l.stateNode),dn(i,et()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Yu)throw Yu=!1,i=sf,sf=null,i;return Ju&1&&i.tag!==0&&Do(),v=i.pendingLanes,v&1?i===of?ol++:(ol=0,of=i):ol=0,Ci(),null}function Do(){if(ki!==null){var i=vi(Ju),o=Mn.transition,l=Ue;try{if(Mn.transition=null,Ue=16>i?16:i,ki===null)var d=!1;else{if(i=ki,ki=null,Ju=0,We&6)throw Error(t(331));var m=We;for(We|=4,he=i.current;he!==null;){var v=he,E=v.child;if(he.flags&16){var D=v.deletions;if(D!==null){for(var F=0;F<D.length;F++){var Q=D[F];for(he=Q;he!==null;){var re=he;switch(re.tag){case 0:case 11:case 15:rl(8,re,v)}var ie=re.child;if(ie!==null)ie.return=re,he=ie;else for(;he!==null;){re=he;var ee=re.sibling,ue=re.return;if(gv(re),re===Q){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var fe=v.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var pt=pe.sibling;pe.sibling=null,pe=pt}while(pe!==null)}}he=v}}if(v.subtreeFlags&2064&&E!==null)E.return=v,he=E;else e:for(;he!==null;){if(v=he,v.flags&2048)switch(v.tag){case 0:case 11:case 15:rl(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,he=q;break e}he=v.return}}var $=i.current;for(he=$;he!==null;){E=he;var K=E.child;if(E.subtreeFlags&2064&&K!==null)K.return=E,he=K;else e:for(E=$;he!==null;){if(D=he,D.flags&2048)try{switch(D.tag){case 0:case 11:case 15:Ku(9,D)}}catch(me){dt(D,D.return,me)}if(D===E){he=null;break e}var oe=D.sibling;if(oe!==null){oe.return=D.return,he=oe;break e}he=D.return}}if(We=m,Ci(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(us,i)}catch{}d=!0}return d}finally{Ue=l,Mn.transition=o}}return!1}function Ov(i,o,l){o=bo(l,o),o=Yg(i,o,1),i=Pi(i,o,1),o=nn(),i!==null&&(mi(i,1,o),dn(i,o))}function dt(i,o,l){if(i.tag===3)Ov(i,i,l);else for(;o!==null;){if(o.tag===3){Ov(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(bi===null||!bi.has(d))){i=bo(l,i),i=Xg(o,i,1),o=Pi(o,i,1),i=nn(),o!==null&&(mi(o,1,i),dn(o,i));break}}o=o.return}}function P1(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=nn(),i.pingedLanes|=i.suspendedLanes&l,Ot===i&&(Ut&l)===l&&(Rt===4||Rt===3&&(Ut&130023424)===Ut&&500>et()-rf?Cs(i,0):nf|=l),dn(i,o)}function Dv(i,o){o===0&&(i.mode&1?(o=to,to<<=1,!(to&130023424)&&(to=4194304)):o=1);var l=nn();i=Wr(i,o),i!==null&&(mi(i,o,l),dn(i,l))}function A1(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Dv(i,l)}function b1(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Dv(i,l)}var Nv;Nv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||an.current)un=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return un=!1,g1(i,o,l);un=!!(i.flags&131072)}else un=!1,st&&o.flags&1048576&&fg(o,ku,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Wu(i,o),i=o.pendingProps;var m=Eo(o,Ht.current);Po(o,l),m=Nh(null,o,d,i,m,l);var v=Vh();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ln(d)?(v=!0,Pu(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ph(o),m.updater=Bu,o.stateNode=m,m._reactInternals=o,$h(o,d,i,l),o=Wh(null,o,d,!0,v,l)):(o.tag=0,st&&v&&vh(o),tn(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Wu(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=x1(d),i=Yn(d,i),m){case 0:o=Hh(null,o,d,i,l);break e;case 1:o=ov(null,o,d,i,l);break e;case 11:o=tv(null,o,d,i,l);break e;case 14:o=nv(null,o,d,Yn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Yn(d,m),Hh(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Yn(d,m),ov(i,o,d,m,l);case 3:e:{if(av(o),i===null)throw Error(t(387));d=o.pendingProps,v=o.memoizedState,m=v.element,Sg(i,o),Lu(o,d,null,l);var E=o.memoizedState;if(d=E.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=bo(Error(t(423)),o),o=lv(i,o,d,l,m);break e}else if(d!==m){m=bo(Error(t(424)),o),o=lv(i,o,d,l,m);break e}else for(Tn=Si(o.stateNode.containerInfo.firstChild),Sn=o,st=!0,Qn=null,l=wg(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Io(),d===m){o=Kr(i,o,l);break e}tn(i,o,d,l)}o=o.child}return o;case 5:return Cg(o),i===null&&wh(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,E=m.children,dh(d,m)?E=null:v!==null&&dh(d,v)&&(o.flags|=32),sv(i,o),tn(i,o,E,l),o.child;case 6:return i===null&&wh(o),null;case 13:return uv(i,o,l);case 4:return Ah(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Co(o,null,d,l):tn(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Yn(d,m),tv(i,o,d,m,l);case 7:return tn(i,o,o.pendingProps,l),o.child;case 8:return tn(i,o,o.pendingProps.children,l),o.child;case 12:return tn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,E=m.value,tt(Du,d._currentValue),d._currentValue=E,v!==null)if(Gn(v.value,E)){if(v.children===m.children&&!an.current){o=Kr(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var D=v.dependencies;if(D!==null){E=v.child;for(var F=D.firstContext;F!==null;){if(F.context===d){if(v.tag===1){F=qr(-1,l&-l),F.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var re=Q.pending;re===null?F.next=F:(F.next=re.next,re.next=F),Q.pending=F}}v.lanes|=l,F=v.alternate,F!==null&&(F.lanes|=l),Ch(v.return,l,o),D.lanes|=l;break}F=F.next}}else if(v.tag===10)E=v.type===o.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=l,D=E.alternate,D!==null&&(D.lanes|=l),Ch(E,l,o),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===o){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}tn(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Po(o,l),m=Vn(m),d=d(m),o.flags|=1,tn(i,o,d,l),o.child;case 14:return d=o.type,m=Yn(d,o.pendingProps),m=Yn(d.type,m),nv(i,o,d,m,l);case 15:return rv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Yn(d,m),Wu(i,o),o.tag=1,ln(d)?(i=!0,Pu(o)):i=!1,Po(o,l),Gg(o,d,m),$h(o,d,m,l),Wh(null,o,d,!0,i,l);case 19:return dv(i,o,l);case 22:return iv(i,o,l)}throw Error(t(156,o.tag))};function Vv(i,o){return Zs(i,o)}function k1(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(i,o,l,d){return new k1(i,o,l,d)}function hf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function x1(i){if(typeof i=="function")return hf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===Le)return 14}return 2}function Di(i,o){var l=i.alternate;return l===null?(l=Fn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function nc(i,o,l,d,m,v){var E=2;if(d=i,typeof i=="function")hf(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case k:return Ps(l.children,m,v,o);case R:E=8,m|=8;break;case x:return i=Fn(12,l,o,m|2),i.elementType=x,i.lanes=v,i;case N:return i=Fn(13,l,o,m),i.elementType=N,i.lanes=v,i;case He:return i=Fn(19,l,o,m),i.elementType=He,i.lanes=v,i;case xe:return rc(l,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:E=10;break e;case U:E=9;break e;case z:E=11;break e;case Le:E=14;break e;case Ne:E=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Fn(E,l,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function Ps(i,o,l,d){return i=Fn(7,i,d,o),i.lanes=l,i}function rc(i,o,l,d){return i=Fn(22,i,d,o),i.elementType=xe,i.lanes=l,i.stateNode={isHidden:!1},i}function ff(i,o,l){return i=Fn(6,i,null,o),i.lanes=l,i}function pf(i,o,l){return o=Fn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function O1(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function mf(i,o,l,d,m,v,E,D,F){return i=new O1(i,o,l,D,F),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Fn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ph(v),i}function D1(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function Lv(i){if(!i)return Ii;i=i._reactInternals;e:{if($n(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ln(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(ln(l))return cg(i,l,o)}return o}function Mv(i,o,l,d,m,v,E,D,F){return i=mf(l,d,!0,i,m,v,E,D,F),i.context=Lv(null),l=i.current,d=nn(),m=xi(l),v=qr(d,m),v.callback=o??null,Pi(l,v,m),i.current.lanes=m,mi(i,m,d),dn(i,d),i}function ic(i,o,l,d){var m=o.current,v=nn(),E=xi(m);return l=Lv(l),o.context===null?o.context=l:o.pendingContext=l,o=qr(v,E),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Pi(m,o,E),i!==null&&(Zn(i,m,E,v),Vu(i,m,E)),E}function sc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Fv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function gf(i,o){Fv(i,o),(i=i.alternate)&&Fv(i,o)}var Uv=typeof reportError=="function"?reportError:function(i){console.error(i)};function vf(i){this._internalRoot=i}oc.prototype.render=vf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));ic(i,o,null,null)},oc.prototype.unmount=vf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Is(function(){ic(null,i,null,null)}),o[$r]=null}};function oc(i){this._internalRoot=i}oc.prototype.unstable_scheduleHydration=function(i){if(i){var o=ou();i={blockedOn:null,target:i,priority:o};for(var l=0;l<cr.length&&o!==0&&o<cr[l].priority;l++);cr.splice(l,0,i),l===0&&uu(i)}};function yf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ac(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function jv(){}function N1(i,o,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var Q=sc(E);v.call(Q)}}var E=Mv(o,d,i,0,null,!1,!1,"",jv);return i._reactRootContainer=E,i[$r]=E.current,Ha(i.nodeType===8?i.parentNode:i),Is(),E}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var D=d;d=function(){var Q=sc(F);D.call(Q)}}var F=mf(i,0,!1,null,null,!1,!1,"",jv);return i._reactRootContainer=F,i[$r]=F.current,Ha(i.nodeType===8?i.parentNode:i),Is(function(){ic(o,F,l,d)}),F}function lc(i,o,l,d,m){var v=l._reactRootContainer;if(v){var E=v;if(typeof m=="function"){var D=m;m=function(){var F=sc(E);D.call(F)}}ic(o,E,i,m)}else E=N1(l,o,i,m,d);return sc(E)}iu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=fi(o.pendingLanes);l!==0&&(gi(o,l|1),dn(o,et()),!(We&6)&&(Oo=et()+500,Ci()))}break;case 13:Is(function(){var d=Wr(i,1);if(d!==null){var m=nn();Zn(d,i,1,m)}}),gf(i,1)}},no=function(i){if(i.tag===13){var o=Wr(i,134217728);if(o!==null){var l=nn();Zn(o,i,134217728,l)}gf(i,134217728)}},su=function(i){if(i.tag===13){var o=xi(i),l=Wr(i,o);if(l!==null){var d=nn();Zn(l,i,o,d)}gf(i,o)}},ou=function(){return Ue},au=function(i,o){var l=Ue;try{return Ue=i,o()}finally{Ue=l}},Ks=function(i,o,l){switch(o){case"input":if(ma(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=Cu(d);if(!m)throw Error(t(90));xr(d),ma(d,m)}}}break;case"textarea":Ws(i,l);break;case"select":o=l.value,o!=null&&Dr(i,!!l.multiple,o,!1)}},is=uf,Ca=Is;var V1={usingClientEntryPoint:!1,Events:[Ka,_o,Cu,lr,Ia,uf]},al={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L1={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Aa(i),i===null?null:i.stateNode},findFiberByHostInstance:al.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{us=uc.inject(L1),yn=uc}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V1,hn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(o))throw Error(t(200));return D1(i,o,null,l)},hn.createRoot=function(i,o){if(!yf(i))throw Error(t(299));var l=!1,d="",m=Uv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=mf(i,1,!1,null,null,l,!1,d,m),i[$r]=o.current,Ha(i.nodeType===8?i.parentNode:i),new vf(o)},hn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Aa(o),i=i===null?null:i.stateNode,i},hn.flushSync=function(i){return Is(i)},hn.hydrate=function(i,o,l){if(!ac(o))throw Error(t(200));return lc(null,i,o,!0,l)},hn.hydrateRoot=function(i,o,l){if(!yf(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",E=Uv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),o=Mv(o,null,i,1,l??null,m,!1,v,E),i[$r]=o.current,Ha(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new oc(o)},hn.render=function(i,o,l){if(!ac(o))throw Error(t(200));return lc(null,i,o,!1,l)},hn.unmountComponentAtNode=function(i){if(!ac(i))throw Error(t(40));return i._reactRootContainer?(Is(function(){lc(null,null,i,!1,function(){i._reactRootContainer=null,i[$r]=null})}),!0):!1},hn.unstable_batchedUpdates=uf,hn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!ac(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return lc(i,o,l,!1,d)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Qv;function e0(){if(Qv)return Ef.exports;Qv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ef.exports=W1(),Ef.exports}var Yv;function q1(){if(Yv)return cc;Yv=1;var n=e0();return cc.createRoot=n.createRoot,cc.hydrateRoot=n.hydrateRoot,cc}var K1=q1(),ul={},Xv;function G1(){if(Xv)return ul;Xv=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.parse=u,ul.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function u(S,T){const I=new a,b=S.length;if(b<2)return I;const P=(T==null?void 0:T.decode)||y;let O=0;do{const j=S.indexOf("=",O);if(j===-1)break;const L=S.indexOf(";",O),G=L===-1?b:L;if(j>G){O=S.lastIndexOf(";",j-1)+1;continue}const B=f(S,O,j),J=h(S,j,B),k=S.slice(B,J);if(I[k]===void 0){let R=f(S,j+1,G),x=h(S,G,R);const V=P(S.slice(R,x));I[k]=V}O=G+1}while(O<b);return I}function f(S,T,I){do{const b=S.charCodeAt(T);if(b!==32&&b!==9)return T}while(++T<I);return I}function h(S,T,I){for(;T>I;){const b=S.charCodeAt(--T);if(b!==32&&b!==9)return T+1}return I}function p(S,T,I){const b=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const P=b(T);if(!e.test(P))throw new TypeError(`argument val is invalid: ${T}`);let O=S+"="+P;if(!I)return O;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);O+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);O+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);O+="; Path="+I.path}if(I.expires){if(!w(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);O+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(O+="; HttpOnly"),I.secure&&(O+="; Secure"),I.partitioned&&(O+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return O}function y(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return s.call(S)==="[object Date]"}return ul}G1();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jv="popstate";function Q1(n={}){function e(r,s){let{pathname:a,search:u,hash:f}=r.location;return Kf("",{pathname:a,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Tl(s)}return X1(e,t,null,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y1(){return Math.random().toString(36).substring(2,10)}function Zv(n,e){return{usr:n.state,key:n.key,idx:e}}function Kf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:t,key:e&&e.key||r||Y1()}}function Tl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function X1(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,f="POP",h=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function w(){f="POP";let P=y(),O=P==null?null:P-p;p=P,h&&h({action:f,location:b.location,delta:O})}function S(P,O){f="PUSH";let j=Kf(b.location,P,O);p=y()+1;let L=Zv(j,p),G=b.createHref(j);try{u.pushState(L,"",G)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(G)}a&&h&&h({action:f,location:b.location,delta:1})}function T(P,O){f="REPLACE";let j=Kf(b.location,P,O);p=y();let L=Zv(j,p),G=b.createHref(j);u.replaceState(L,"",G),a&&h&&h({action:f,location:b.location,delta:0})}function I(P){let O=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof P=="string"?P:Tl(P);return j=j.replace(/ $/,"%20"),at(O,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,O)}let b={get action(){return f},get location(){return n(s,u)},listen(P){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Jv,w),h=P,()=>{s.removeEventListener(Jv,w),h=null}},createHref(P){return e(s,P)},createURL:I,encodeLocation(P){let O=I(P);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:S,replace:T,go(P){return u.go(P)}};return b}function t0(n,e,t="/"){return J1(n,e,t,!1)}function J1(n,e,t,r){let s=typeof e=="string"?na(e):e,a=Wi(s.pathname||"/",t);if(a==null)return null;let u=n0(n);Z1(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let p=cT(a);f=lT(u[h],p,r)}return f}function n0(n,e=[],t=[],r=""){let s=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(at(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=ei([r,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(at(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),n0(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:oT(p,a.index),routesMeta:y})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,u);else for(let h of r0(a.path))s(a,u,h)}),e}function r0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=r0(r.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),s&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function Z1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var eT=/^:[\w-]+$/,tT=3,nT=2,rT=1,iT=10,sT=-2,ey=n=>n==="*";function oT(n,e){let t=n.split("/"),r=t.length;return t.some(ey)&&(r+=sT),e&&(r+=nT),t.filter(s=>!ey(s)).reduce((s,a)=>s+(eT.test(a)?tT:a===""?rT:iT),r)}function aT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function lT(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],p=f===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=Uc({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),S=h.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=Uc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:ei([a,w.pathname]),pathnameBase:pT(ei([a,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(a=ei([a,w.pathnameBase]))}return u}function Uc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=uT(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:w},S)=>{if(y==="*"){let I=f[S]||"";u=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const T=f[S];return w&&!T?p[y]=void 0:p[y]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function uT(n,e=!1,t=!0){tr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function dT(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?na(n):n;return{pathname:t?t.startsWith("/")?t:hT(t,e):e,search:mT(r),hash:gT(s)}}function hT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function If(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pp(n){let e=fT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ap(n,e,t,r=!1){let s;typeof n=="string"?s=na(n):(s={...n},at(!s.pathname||!s.pathname.includes("?"),If("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),If("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),If("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,f;if(u==null)f=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),w-=1;s.pathname=S.join("/")}f=w>=0?e[w]:"/"}let h=dT(s,f),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var ei=n=>n.join("/").replace(/\/\/+/g,"/"),pT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function vT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var i0=["POST","PUT","PATCH","DELETE"];new Set(i0);var yT=["GET",...i0];new Set(yT);var ra=A.createContext(null);ra.displayName="DataRouter";var fd=A.createContext(null);fd.displayName="DataRouterState";var s0=A.createContext({isTransitioning:!1});s0.displayName="ViewTransition";var _T=A.createContext(new Map);_T.displayName="Fetchers";var wT=A.createContext(null);wT.displayName="Await";var nr=A.createContext(null);nr.displayName="Navigation";var Dl=A.createContext(null);Dl.displayName="Location";var rr=A.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var bp=A.createContext(null);bp.displayName="RouteError";function ET(n,{relative:e}={}){at(ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=A.useContext(nr),{hash:s,pathname:a,search:u}=Nl(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:ei([t,a])),r.createHref({pathname:f,search:u,hash:s})}function ia(){return A.useContext(Dl)!=null}function kr(){return at(ia(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Dl).location}var o0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a0(n){A.useContext(nr).static||A.useLayoutEffect(n)}function kp(){let{isDataRoute:n}=A.useContext(rr);return n?NT():ST()}function ST(){at(ia(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(ra),{basename:e,navigator:t}=A.useContext(nr),{matches:r}=A.useContext(rr),{pathname:s}=kr(),a=JSON.stringify(Pp(r)),u=A.useRef(!1);return a0(()=>{u.current=!0}),A.useCallback((h,p={})=>{if(tr(u.current,o0),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=Ap(h,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ei([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,a,s,n])}A.createContext(null);function l0(){let{matches:n}=A.useContext(rr),e=n[n.length-1];return e?e.params:{}}function Nl(n,{relative:e}={}){let{matches:t}=A.useContext(rr),{pathname:r}=kr(),s=JSON.stringify(Pp(t));return A.useMemo(()=>Ap(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function TT(n,e){return u0(n,e)}function u0(n,e,t,r){var O;at(ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=A.useContext(nr),{matches:a}=A.useContext(rr),u=a[a.length-1],f=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";c0(h,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=kr(),S;if(e){let j=typeof e=="string"?na(e):e;at(p==="/"||((O=j.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=w;let T=S.pathname||"/",I=T;if(p!=="/"){let j=p.replace(/^\//,"").split("/");I="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=t0(n,{pathname:I});tr(y||b!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),tr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=AT(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:ei([p,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:ei([p,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,t,r);return e&&P?A.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},P):P}function IT(){let n=DT(),e=vT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:s},t):null,u)}var CT=A.createElement(IT,null),RT=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?A.createElement(rr.Provider,{value:this.props.routeContext},A.createElement(bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PT({routeContext:n,match:e,children:t}){let r=A.useContext(ra);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(rr.Provider,{value:n},t)}function AT(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);at(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:y,errors:w}=t,S=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||S){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,p,y)=>{let w,S=!1,T=null,I=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,T=p.route.errorElement||CT,u&&(f<0&&y===0?(c0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,I=null):f===y&&(S=!0,I=p.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,y+1)),P=()=>{let O;return w?O=T:S?O=I:p.route.Component?O=A.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,A.createElement(PT,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:O})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?A.createElement(RT,{location:t.location,revalidation:t.revalidation,component:T,error:w,children:P(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):P()},null)}function xp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(n){let e=A.useContext(ra);return at(e,xp(n)),e}function kT(n){let e=A.useContext(fd);return at(e,xp(n)),e}function xT(n){let e=A.useContext(rr);return at(e,xp(n)),e}function Op(n){let e=xT(n),t=e.matches[e.matches.length-1];return at(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function OT(){return Op("useRouteId")}function DT(){var r;let n=A.useContext(bp),e=kT("useRouteError"),t=Op("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function NT(){let{router:n}=bT("useNavigate"),e=Op("useNavigate"),t=A.useRef(!1);return a0(()=>{t.current=!0}),A.useCallback(async(s,a={})=>{tr(t.current,o0),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var ty={};function c0(n,e,t){!e&&!ty[n]&&(ty[n]=!0,tr(!1,t))}A.memo(VT);function VT({routes:n,future:e,state:t}){return u0(n,void 0,t,e)}function d0({to:n,replace:e,state:t,relative:r}){at(ia(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=A.useContext(nr);tr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=A.useContext(rr),{pathname:u}=kr(),f=kp(),h=Ap(n,Pp(a),u,r==="path"),p=JSON.stringify(h);return A.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function fn(n){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){at(!ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=na(t));let{pathname:h="/",search:p="",hash:y="",state:w=null,key:S="default"}=t,T=A.useMemo(()=>{let I=Wi(h,u);return I==null?null:{location:{pathname:I,search:p,hash:y,state:w,key:S},navigationType:r}},[u,h,p,y,w,S,r]);return tr(T!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:A.createElement(nr.Provider,{value:f},A.createElement(Dl.Provider,{children:e,value:T}))}function MT({children:n,location:e}){return TT(Gf(n),e)}function Gf(n,e=[]){let t=[];return A.Children.forEach(n,(r,s)=>{if(!A.isValidElement(r))return;let a=[...e,s];if(r.type===A.Fragment){t.push.apply(t,Gf(r.props.children,a));return}at(r.type===fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Gf(r.props.children,a)),t.push(u)}),t}var Tc="get",Ic="application/x-www-form-urlencoded";function pd(n){return n!=null&&typeof n.tagName=="string"}function FT(n){return pd(n)&&n.tagName.toLowerCase()==="button"}function UT(n){return pd(n)&&n.tagName.toLowerCase()==="form"}function jT(n){return pd(n)&&n.tagName.toLowerCase()==="input"}function $T(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zT(n,e){return n.button===0&&(!e||e==="_self")&&!$T(n)}var dc=null;function BT(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var HT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cf(n){return n!=null&&!HT.has(n)?(tr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):n}function WT(n,e){let t,r,s,a,u;if(UT(n)){let f=n.getAttribute("action");r=f?Wi(f,e):null,t=n.getAttribute("method")||Tc,s=Cf(n.getAttribute("enctype"))||Ic,a=new FormData(n)}else if(FT(n)||jT(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Wi(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Tc,s=Cf(n.getAttribute("formenctype"))||Cf(f.getAttribute("enctype"))||Ic,a=new FormData(f,n),!BT()){let{name:p,type:y,value:w}=n;if(y==="image"){let S=p?`${p}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else p&&a.append(p,w)}}else{if(pd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tc,r=null,s=Ic,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function Dp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function qT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function GT(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await qT(a,t);return u.links?u.links():[]}return[]}));return JT(r.flat(1).filter(KT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ny(n,e,t,r,s,a){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,f=(h,p)=>{var y;return t[p].pathname!==h.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>u(h,p)||f(h,p)):a==="data"?e.filter((h,p)=>{var w;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let S=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function QT(n,e){return YT(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function YT(n){return[...new Set(n)]}function XT(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function JT(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(XT(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function ZT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function eI(){let n=A.useContext(ra);return Dp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tI(){let n=A.useContext(fd);return Dp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Np=A.createContext(void 0);Np.displayName="FrameworkContext";function h0(){let n=A.useContext(Np);return Dp(n,"You must render this element inside a <HydratedRouter> element"),n}function nI(n,e){let t=A.useContext(Np),[r,s]=A.useState(!1),[a,u]=A.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:w}=e,S=A.useRef(null);A.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let b=O=>{O.forEach(j=>{u(j.isIntersecting)})},P=new IntersectionObserver(b,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[n]),A.useEffect(()=>{if(r){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[r]);let T=()=>{s(!0)},I=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,S,{}]:[a,S,{onFocus:cl(f,T),onBlur:cl(h,I),onMouseEnter:cl(p,T),onMouseLeave:cl(y,I),onTouchStart:cl(w,T)}]:[!1,S,{}]}function cl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function rI({page:n,...e}){let{router:t}=eI(),r=A.useMemo(()=>t0(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?A.createElement(sI,{page:n,matches:r,...e}):null}function iI(n){let{manifest:e,routeModules:t}=h0(),[r,s]=A.useState([]);return A.useEffect(()=>{let a=!1;return GT(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function sI({page:n,matches:e,...t}){let r=kr(),{manifest:s,routeModules:a}=h0(),{loaderData:u,matches:f}=tI(),h=A.useMemo(()=>ny(n,e,f,s,r,"data"),[n,e,f,s,r]),p=A.useMemo(()=>ny(n,e,f,s,r,"assets"),[n,e,f,s,r]),y=A.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(P=>{var j;let O=s.routes[P.route.id];!O||!O.hasLoader||(!h.some(L=>L.route.id===P.route.id)&&P.route.id in u&&((j=a[P.route.id])!=null&&j.shouldRevalidate)||O.hasClientLoader?I=!0:T.add(P.route.id))}),T.size===0)return[];let b=ZT(n);return I&&T.size>0&&b.searchParams.set("_routes",e.filter(P=>T.has(P.route.id)).map(P=>P.route.id).join(",")),[b.pathname+b.search]},[u,r,s,h,e,n,a]),w=A.useMemo(()=>QT(p,s),[p,s]),S=iI(p);return A.createElement(A.Fragment,null,y.map(T=>A.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),w.map(T=>A.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),S.map(({key:T,link:I})=>A.createElement("link",{key:T,...I})))}function oI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var f0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f0&&(window.__reactRouterVersion="7.1.1")}catch{}function aI({basename:n,children:e,window:t}){let r=A.useRef();r.current==null&&(r.current=Q1({window:t,v5Compat:!0}));let s=r.current,[a,u]=A.useState({action:s.action,location:s.location}),f=A.useCallback(h=>{A.startTransition(()=>u(h))},[u]);return A.useLayoutEffect(()=>s.listen(f),[s,f]),A.createElement(LT,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var p0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vl=A.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:f,target:h,to:p,preventScrollReset:y,viewTransition:w,...S},T){let{basename:I}=A.useContext(nr),b=typeof p=="string"&&p0.test(p),P,O=!1;if(typeof p=="string"&&b&&(P=p,f0))try{let x=new URL(window.location.href),V=p.startsWith("//")?new URL(x.protocol+p):new URL(p),U=Wi(V.pathname,I);V.origin===x.origin&&U!=null?p=U+V.search+V.hash:O=!0}catch{tr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=ET(p,{relative:s}),[L,G,B]=nI(r,S),J=dI(p,{replace:u,state:f,target:h,preventScrollReset:y,relative:s,viewTransition:w});function k(x){e&&e(x),x.defaultPrevented||J(x)}let R=A.createElement("a",{...S,...B,href:P||j,onClick:O||a?e:k,ref:oI(T,G),target:h,"data-discover":!b&&t==="render"?"true":void 0});return L&&!b?A.createElement(A.Fragment,null,R,A.createElement(rI,{page:j})):R});Vl.displayName="Link";var lI=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:f,children:h,...p},y){let w=Nl(u,{relative:p.relative}),S=kr(),T=A.useContext(fd),{navigator:I,basename:b}=A.useContext(nr),P=T!=null&&gI(w)&&f===!0,O=I.encodeLocation?I.encodeLocation(w).pathname:w.pathname,j=S.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(j=j.toLowerCase(),L=L?L.toLowerCase():null,O=O.toLowerCase()),L&&b&&(L=Wi(L,b)||L);const G=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let B=j===O||!s&&j.startsWith(O)&&j.charAt(G)==="/",J=L!=null&&(L===O||!s&&L.startsWith(O)&&L.charAt(O.length)==="/"),k={isActive:B,isPending:J,isTransitioning:P},R=B?e:void 0,x;typeof r=="function"?x=r(k):x=[r,B?"active":null,J?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(k):a;return A.createElement(Vl,{...p,"aria-current":R,className:x,ref:y,style:V,to:u,viewTransition:f},typeof h=="function"?h(k):h)});lI.displayName="NavLink";var uI=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Tc,action:f,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:w,...S},T)=>{let I=pI(),b=mI(f,{relative:p}),P=u.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&p0.test(f),j=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let G=L.nativeEvent.submitter,B=(G==null?void 0:G.getAttribute("formmethod"))||u;I(G||L.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:s,state:a,relative:p,preventScrollReset:y,viewTransition:w})};return A.createElement("form",{ref:T,method:P,action:b,onSubmit:r?h:j,...S,"data-discover":!O&&n==="render"?"true":void 0})});uI.displayName="Form";function cI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m0(n){let e=A.useContext(ra);return at(e,cI(n)),e}function dI(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let f=kp(),h=kr(),p=Nl(n,{relative:a});return A.useCallback(y=>{if(zT(y,e)){y.preventDefault();let w=t!==void 0?t:Tl(h)===Tl(p);f(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[h,f,p,t,r,e,n,s,a,u])}var hI=0,fI=()=>`__${String(++hI)}__`;function pI(){let{router:n}=m0("useSubmit"),{basename:e}=A.useContext(nr),t=OT();return A.useCallback(async(r,s={})=>{let{action:a,method:u,encType:f,formData:h,body:p}=WT(r,e);if(s.navigate===!1){let y=s.fetcherKey||fI();await n.fetch(y,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function mI(n,{relative:e}={}){let{basename:t}=A.useContext(nr),r=A.useContext(rr);at(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Nl(n||".",{relative:e})},u=kr();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(w=>w).forEach(w=>f.append("index",w));let y=f.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ei([t,a.pathname])),Tl(a)}function gI(n,e={}){let t=A.useContext(s0);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=m0("useViewTransitionState"),s=Nl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Wi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Wi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Uc(s.pathname,u)!=null||Uc(s.pathname,a)!=null}new TextEncoder;var vI=e0();const yI="modulepreload",_I=function(n){return"/learntrackcenter/"+n},ry={},Xi=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(t.map(h=>{if(h=_I(h),h in ry)return;ry[h]=!0;const p=h.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":yI,p||(w.as="script"),w.crossOrigin="",w.href=h,f&&w.setAttribute("nonce",f),document.head.appendChild(w),p)return new Promise((S,T)=>{w.addEventListener("load",S),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})};var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},wI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],f=n[t++],h=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,f=u?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,y=a>>2,w=(a&3)<<4|f>>4;let S=(f&15)<<2|p>>6,T=p&63;h||(T=64,u||(S=64)),r.push(t[y],t[w],t[S],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(g0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||f==null||p==null||w==null)throw new EI;const S=a<<2|f>>4;if(r.push(S),p!==64){const T=f<<4&240|p>>2;if(r.push(T),w!==64){const I=p<<6&192|w;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class EI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SI=function(n){const e=g0(n);return v0.encodeByteArray(e,!0)},jc=function(n){return SI(n).replace(/\./g,"")},y0=function(n){try{return v0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=()=>TI().__FIREBASE_DEFAULTS__,CI=()=>{if(typeof process>"u"||typeof iy>"u")return;const n=iy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&y0(n[1]);return e&&JSON.parse(e)},md=()=>{try{return II()||CI()||RI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_0=n=>{var e,t;return(t=(e=md())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},PI=n=>{const e=_0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},w0=()=>{var n;return(n=md())===null||n===void 0?void 0:n.config},E0=n=>{var e;return(e=md())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[jc(JSON.stringify(t)),jc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function xI(){var n;const e=(n=md())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VI(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function LI(){return!xI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MI(){try{return typeof indexedDB=="object"}catch{return!1}}function FI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="FirebaseError";class li extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=UI,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?jI(a,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new li(s,f,r)}}function jI(n,e){return n.replace($I,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const $I=/\{\$([^}]+)}/g;function zI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ho(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(sy(a)&&sy(u)){if(!Ho(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function sy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function BI(n,e){const t=new HI(n,e);return t.subscribe.bind(t)}class HI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");WI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Rf),s.error===void 0&&(s.error=Rf),s.complete===void 0&&(s.complete=Rf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n){return n&&n._delegate?n._delegate:n}class Os{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new AI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GI(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KI(n){return n===As?void 0:n}function GI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const YI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},XI=Me.INFO,JI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},ZI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=JI[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=XI,this._logHandler=ZI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const eC=(n,e)=>e.some(t=>n instanceof t);let oy,ay;function tC(){return oy||(oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nC(){return ay||(ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Qf=new WeakMap,T0=new WeakMap,Pf=new WeakMap,Lp=new WeakMap;function rC(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(ji(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&S0.set(t,n)}).catch(()=>{}),Lp.set(e,n),e}function iC(n){if(Qf.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Qf.set(n,e)}let Yf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||T0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ji(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sC(n){Yf=n(Yf)}function oC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Af(this),e,...t);return T0.set(r,e.sort?e.sort():[e]),ji(r)}:nC().includes(n)?function(...e){return n.apply(Af(this),e),ji(S0.get(this))}:function(...e){return ji(n.apply(Af(this),e))}}function aC(n){return typeof n=="function"?oC(n):(n instanceof IDBTransaction&&iC(n),eC(n,tC())?new Proxy(n,Yf):n)}function ji(n){if(n instanceof IDBRequest)return rC(n);if(Pf.has(n))return Pf.get(n);const e=aC(n);return e!==n&&(Pf.set(n,e),Lp.set(e,n)),e}const Af=n=>Lp.get(n);function lC(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),f=ji(u);return r&&u.addEventListener("upgradeneeded",h=>{r(ji(u.result),h.oldVersion,h.newVersion,ji(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const uC=["get","getKey","getAll","getAllKeys","count"],cC=["put","add","delete","clear"],bf=new Map;function ly(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=cC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uC.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),s&&h.done]))[0]};return bf.set(e,a),a}sC(n=>({...n,get:(e,t,r)=>ly(e,t)||n.get(e,t,r),has:(e,t)=>!!ly(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function hC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",uy="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Vp("@firebase/app"),fC="@firebase/app-compat",pC="@firebase/analytics-compat",mC="@firebase/analytics",gC="@firebase/app-check-compat",vC="@firebase/app-check",yC="@firebase/auth",_C="@firebase/auth-compat",wC="@firebase/database",EC="@firebase/data-connect",SC="@firebase/database-compat",TC="@firebase/functions",IC="@firebase/functions-compat",CC="@firebase/installations",RC="@firebase/installations-compat",PC="@firebase/messaging",AC="@firebase/messaging-compat",bC="@firebase/performance",kC="@firebase/performance-compat",xC="@firebase/remote-config",OC="@firebase/remote-config-compat",DC="@firebase/storage",NC="@firebase/storage-compat",VC="@firebase/firestore",LC="@firebase/vertexai",MC="@firebase/firestore-compat",FC="firebase",UC="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",jC={[Xf]:"fire-core",[fC]:"fire-core-compat",[mC]:"fire-analytics",[pC]:"fire-analytics-compat",[vC]:"fire-app-check",[gC]:"fire-app-check-compat",[yC]:"fire-auth",[_C]:"fire-auth-compat",[wC]:"fire-rtdb",[EC]:"fire-data-connect",[SC]:"fire-rtdb-compat",[TC]:"fire-fn",[IC]:"fire-fn-compat",[CC]:"fire-iid",[RC]:"fire-iid-compat",[PC]:"fire-fcm",[AC]:"fire-fcm-compat",[bC]:"fire-perf",[kC]:"fire-perf-compat",[xC]:"fire-rc",[OC]:"fire-rc-compat",[DC]:"fire-gcs",[NC]:"fire-gcs-compat",[VC]:"fire-fst",[MC]:"fire-fst-compat",[LC]:"fire-vertex","fire-js":"fire-js",[FC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,$C=new Map,Zf=new Map;function cy(n,e){try{n.container.addComponent(e)}catch(t){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wo(n){const e=n.name;if(Zf.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,n);for(const t of $c.values())cy(t,n);for(const t of $C.values())cy(t,n);return!0}function Mp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Er(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new Ll("app","Firebase",zC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=UC;function I0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $i.create("bad-app-name",{appName:String(s)});if(t||(t=w0()),!t)throw $i.create("no-options");const a=$c.get(s);if(a){if(Ho(t,a.options)&&Ho(r,a.config))return a;throw $i.create("duplicate-app",{appName:s})}const u=new QI(s);for(const h of Zf.values())u.addComponent(h);const f=new BC(t,r,u);return $c.set(s,f),f}function C0(n=Jf){const e=$c.get(n);if(!e&&n===Jf&&w0())return I0();if(!e)throw $i.create("no-app",{appName:n});return e}function zi(n,e,t){var r;let s=(r=jC[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(f.join(" "));return}Wo(new Os(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firebase-heartbeat-database",WC=1,Il="firebase-heartbeat-store";let kf=null;function R0(){return kf||(kf=lC(HC,WC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Il)}catch(t){console.warn(t)}}}}).catch(n=>{throw $i.create("idb-open",{originalErrorMessage:n.message})})),kf}async function qC(n){try{const t=(await R0()).transaction(Il),r=await t.objectStore(Il).get(P0(n));return await t.done,r}catch(e){if(e instanceof li)ri.warn(e.message);else{const t=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(t.message)}}}async function dy(n,e){try{const r=(await R0()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,P0(n)),await r.done}catch(t){if(t instanceof li)ri.warn(t.message);else{const r=$i.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ri.warn(r.message)}}}function P0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=1024,GC=30*24*60*60*1e3;class QC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=hy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=GC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hy(),{heartbeatsToSend:r,unsentEntries:s}=YC(this._heartbeatsCache.heartbeats),a=jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ri.warn(t),""}}}function hy(){return new Date().toISOString().substring(0,10)}function YC(n,e=KC){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),fy(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),fy(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class XC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MI()?FI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return dy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return dy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fy(n){return jc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){Wo(new Os("platform-logger",e=>new dC(e),"PRIVATE")),Wo(new Os("heartbeat",e=>new QC(e),"PRIVATE")),zi(Xf,uy,n),zi(Xf,uy,"esm2017"),zi("fire-js","")}JC("");function Fp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function A0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZC=A0,b0=new Ll("auth","Firebase",A0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Vp("@firebase/auth");function eR(n,...e){zc.logLevel<=Me.WARN&&zc.warn(`Auth (${sa}): ${n}`,...e)}function Cc(n,...e){zc.logLevel<=Me.ERROR&&zc.error(`Auth (${sa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(n,...e){throw jp(n,...e)}function er(n,...e){return jp(n,...e)}function Up(n,e,t){const r=Object.assign(Object.assign({},ZC()),{[e]:t});return new Ll("auth","Firebase",r).create(e,{appName:n.name})}function Bi(n){return Up(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tR(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rr(n,"argument-error"),Up(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return b0.create(n,...e)}function Ae(n,e,...t){if(!n)throw jp(e,...t)}function Yr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cc(e),new Error(e)}function ii(n,e){n||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nR(){return py()==="http:"||py()==="https:"}function py(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nR()||DI()||"connection"in navigator)?navigator.onLine:!0}function iR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=kI()||NI()}get(){return rR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n,e){ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new Fl(3e4,6e4);function Ul(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fs(n,e,t,r,s={}){return x0(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Ml(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return OI()||(p.referrerPolicy="no-referrer"),k0.fetch()(D0(n,n.config.apiHost,t,f),p)})}async function x0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},sR),e);try{const s=new lR(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw hc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw hc(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw hc(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw hc(n,"user-disabled",u);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Up(n,y,p);Rr(n,y)}}catch(s){if(s instanceof li)throw s;Rr(n,"network-request-failed",{message:String(s)})}}async function O0(n,e,t,r,s={}){const a=await Fs(n,e,t,r,s);return"mfaPendingCredential"in a&&Rr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function D0(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?$p(n.config,s):`${n.config.apiScheme}://${s}`}function aR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),oR.get())})}}function hc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=er(n,e,r);return s.customData._tokenResponse=t,s}function my(n){return n!==void 0&&n.enterprise!==void 0}class uR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cR(n,e){return Fs(n,"GET","/v2/recaptchaConfig",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e){return Fs(n,"POST","/v1/accounts:delete",e)}async function N0(n,e){return Fs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hR(n,e=!1){const t=Vt(n),r=await t.getIdToken(e),s=zp(r);Ae(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:yl(xf(s.auth_time)),issuedAtTime:yl(xf(s.iat)),expirationTime:yl(xf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xf(n){return Number(n)*1e3}function zp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const s=y0(t);return s?JSON.parse(s):(Cc("Failed to decode base64 JWT payload"),null)}catch(s){return Cc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function gy(n){const e=zp(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof li&&fR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function fR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Cl(n,N0(t,{idToken:r}));Ae(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?V0(a.providerUserInfo):[],f=gR(n.providerData,u),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),y=h?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new tp(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function mR(n){const e=Vt(n);await Bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function V0(n){return n.map(e=>{var{providerId:t}=e,r=Fp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(n,e){const t=await x0(n,{},async()=>{const r=Ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=D0(n,s,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",k0.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yR(n,e){return Fs(n,"POST","/v2/accounts:revokeToken",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=gy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await vR(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Uo;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ae(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new tp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hR(this,e)}reload(){return mR(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await Cl(this,dR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,f,h,p,y;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,S=(s=t.email)!==null&&s!==void 0?s:void 0,T=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,I=(u=t.photoURL)!==null&&u!==void 0?u:void 0,b=(f=t.tenantId)!==null&&f!==void 0?f:void 0,P=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,O=(p=t.createdAt)!==null&&p!==void 0?p:void 0,j=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:L,emailVerified:G,isAnonymous:B,providerData:J,stsTokenManager:k}=t;Ae(L&&k,e,"internal-error");const R=Uo.fromJSON(this.name,k);Ae(typeof L=="string",e,"internal-error"),Vi(w,e.name),Vi(S,e.name),Ae(typeof G=="boolean",e,"internal-error"),Ae(typeof B=="boolean",e,"internal-error"),Vi(T,e.name),Vi(I,e.name),Vi(b,e.name),Vi(P,e.name),Vi(O,e.name),Vi(j,e.name);const x=new Xr({uid:L,auth:e,email:S,emailVerified:G,displayName:w,isAnonymous:B,photoURL:I,phoneNumber:T,tenantId:b,stsTokenManager:R,createdAt:O,lastLoginAt:j});return J&&Array.isArray(J)&&(x.providerData=J.map(V=>Object.assign({},V))),P&&(x._redirectEventId=P),x}static async _fromIdTokenResponse(e,t,r=!1){const s=new Uo;s.updateFromServerResponse(t);const a=new Xr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Bc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ae(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?V0(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),f=new Uo;f.updateFromIdToken(r);const h=new Xr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;function Jr(n){ii(n instanceof Function,"Expected a class definition");let e=vy.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}L0.type="NONE";const yy=L0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n,e,t){return`firebase:${n}:${e}:${t}`}class jo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Rc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Rc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new jo(Jr(yy),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Jr(yy);const u=Rc(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const y=await p._get(u);if(y){const w=Xr._fromJSON(e,y);p!==a&&(f=w),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new jo(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new jo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z0(e))return"Blackberry";if(B0(e))return"Webos";if(F0(e))return"Safari";if((e.includes("chrome/")||U0(e))&&!e.includes("edge/"))return"Chrome";if($0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function M0(n=Jt()){return/firefox\//i.test(n)}function F0(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U0(n=Jt()){return/crios\//i.test(n)}function j0(n=Jt()){return/iemobile/i.test(n)}function $0(n=Jt()){return/android/i.test(n)}function z0(n=Jt()){return/blackberry/i.test(n)}function B0(n=Jt()){return/webos/i.test(n)}function Bp(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _R(n=Jt()){var e;return Bp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wR(){return VI()&&document.documentMode===10}function H0(n=Jt()){return Bp(n)||$0(n)||B0(n)||z0(n)||/windows phone/i.test(n)||j0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(n,e=[]){let t;switch(n){case"Browser":t=_y(Jt());break;case"Worker":t=`${_y(Jt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(n,e={}){return Fs(n,"GET","/v2/passwordPolicy",Ul(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=6;class IR{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:TR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wy(this),this.idTokenSubscription=new wy(this),this.beforeStateQueue=new ER(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await N0(this,{idToken:e}),r=await Xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Er(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(Bi(this));const t=e?Vt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SR(this),t=new IR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await yR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Us(n){return Vt(n)}class wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=BI(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RR(n){gd=n}function q0(n){return gd.loadJS(n)}function PR(){return gd.recaptchaEnterpriseScript}function AR(){return gd.gapiScript}function bR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class kR{constructor(){this.enterprise=new xR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const OR="recaptcha-enterprise",K0="NO_RECAPTCHA";class DR{constructor(e){this.type=OR,this.auth=Us(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{cR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new uR(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(h=>{f(h)})})}function s(a,u,f){const h=window.grecaptcha;my(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(K0)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(f=>{if(!t&&my(window.grecaptcha))s(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=PR();h.length!==0&&(h+=f),q0(h).then(()=>{s(f,a,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function Ey(n,e,t,r=!1,s=!1){const a=new DR(n);let u;if(s)u=K0;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f=Object.assign({},e);return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function NR(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ey(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Ey(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(n,e){const t=Mp(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Ho(a,e??{}))return s;Rr(s,"already-initialized")}return t.initialize({options:e})}function LR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Jr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MR(n,e,t){const r=Us(n);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=G0(e),{host:u,port:f}=FR(e),h=f===null?"":`:${f}`;r.config.emulator={url:`${a}//${u}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),UR()}function G0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FR(n){const e=G0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Sy(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Sy(u)}}}function Sy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function UR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,t){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e){return O0(n,"POST","/v1/accounts:signInWithIdp",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="http://localhost";class Ds extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Fp(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Ds(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$o(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:jR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ml(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends jl{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ds._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Qr.credential(t,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends jl{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends jl{constructor(){super("twitter.com")}static credential(e,t){return Ds._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(n,e){return O0(n,"POST","/v1/accounts:signUp",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Xr._fromIdTokenResponse(e,r,s),u=Ty(r);return new Ns({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Ty(r);return new Ns({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Ty(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends li{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Hc(e,t,r,s)}}function Y0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(n,a,e,r):a})}async function zR(n,e,t=!1){const r=await Cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ns._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(n,e,t=!1){const{auth:r}=n;if(Er(r.app))return Promise.reject(Bi(r));const s="reauthenticate";try{const a=await Cl(n,Y0(r,s,e,n),t);Ae(a.idToken,r,"internal-error");const u=zp(a.idToken);Ae(u,r,"internal-error");const{sub:f}=u;return Ae(n.uid===f,r,"user-mismatch"),Ns._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n,e,t=!1){if(Er(n.app))return Promise.reject(Bi(n));const r="signIn",s=await Y0(n,r,e),a=await Ns._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n){const e=Us(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mV(n,e,t){if(Er(n.app))return Promise.reject(Bi(n));const r=Us(n),u=await NR(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$R).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&WR(n),h}),f=await Ns._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function qR(n,e,t,r){return Vt(n).onIdTokenChanged(e,t,r)}function KR(n,e,t){return Vt(n).beforeAuthStateChanged(e,t)}function GR(n,e,t,r){return Vt(n).onAuthStateChanged(e,t,r)}function gV(n){return Vt(n).signOut()}const Wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1e3,YR=10;class J0 extends X0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);wR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,YR):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},QR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}J0.type="LOCAL";const XR=J0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends X0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Z0.type="SESSION";const ew=Z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new vd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async p=>p(t.origin,a)),h=await JR(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const p=Wp("",20);s.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const S=w;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(S.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function eP(n){Sr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function tP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function rP(){return tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firebaseLocalStorageDb",iP=1,qc="firebaseLocalStorage",rw="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yd(n,e){return n.transaction([qc],e?"readwrite":"readonly").objectStore(qc)}function sP(){const n=indexedDB.deleteDatabase(nw);return new $l(n).toPromise()}function np(){const n=indexedDB.open(nw,iP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qc,{keyPath:rw})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(qc)?e(r):(r.close(),await sP(),e(await np()))})})}async function Iy(n,e,t){const r=yd(n,!0).put({[rw]:e,value:t});return new $l(r).toPromise()}async function oP(n,e){const t=yd(n,!1).get(e),r=await new $l(t).toPromise();return r===void 0?null:r.value}function Cy(n,e){const t=yd(n,!0).delete(e);return new $l(t).toPromise()}const aP=800,lP=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>lP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(rP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tP(),!this.activeServiceWorker)return;this.sender=new ZR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await Iy(e,Wc,"1"),await Cy(e,Wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Iy(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>oP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=yd(s,!1).getAll();return new $l(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const uP=iw;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,e){return e?Jr(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends Q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cP(n){return HR(n.auth,new qp(n),n.bypassAuthState)}function dP(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),BR(t,new qp(n),n.bypassAuthState)}async function hP(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),zR(t,new qp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cP;case"linkViaPopup":case"linkViaRedirect":return hP;case"reauthViaPopup":case"reauthViaRedirect":return dP;default:Rr(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new Fl(2e3,1e4);async function vV(n,e,t){if(Er(n.app))return Promise.reject(er(n,"operation-not-supported-in-this-environment"));const r=Us(n);tR(n,e,Hp);const s=sw(r,t);return new bs(r,"signInViaPopup",e,s).executeNotNull()}class bs extends ow{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fP.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="pendingRedirect",Pc=new Map;class mP extends ow{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const r=await gP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gP(n,e){const t=_P(e),r=yP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function vP(n,e){Pc.set(n._key(),e)}function yP(n){return Jr(n._redirectPersistence)}function _P(n){return Rc(pP,n.config.apiKey,n.name)}async function wP(n,e,t=!1){if(Er(n.app))return Promise.reject(Bi(n));const r=Us(n),s=sw(r,e),u=await new mP(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=10*60*1e3;class SP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!aw(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(er(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ry(e))}saveEventToCache(e){this.cachedEventUids.add(Ry(e)),this.lastProcessedEventTime=Date.now()}}function Ry(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(n,e={}){return Fs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RP=/^https?/;async function PP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await IP(n);for(const t of e)try{if(AP(t))return}catch{}Rr(n,"unauthorized-domain")}function AP(n){const e=ep(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!RP.test(t))return!1;if(CP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Fl(3e4,6e4);function Py(){const n=Sr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function kP(n){return new Promise((e,t)=>{var r,s,a;function u(){Py(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Py(),t(er(n,"network-request-failed"))},timeout:bP.get()})}if(!((s=(r=Sr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Sr().gapi)===null||a===void 0)&&a.load)u();else{const f=bR("iframefcb");return Sr()[f]=()=>{gapi.load?u():t(er(n,"network-request-failed"))},q0(`${AR()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function xP(n){return Ac=Ac||kP(n),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new Fl(5e3,15e3),DP="__/auth/iframe",NP="emulator/auth/iframe",VP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MP(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$p(e,NP):`https://${n.config.authDomain}/${DP}`,r={apiKey:e.apiKey,appName:n.name,v:sa},s=LP.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ml(r).slice(1)}`}async function FP(n){const e=await xP(n),t=Sr().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:MP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VP,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=er(n,"network-request-failed"),f=Sr().setTimeout(()=>{a(u)},OP.get());function h(){Sr().clearTimeout(f),s(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jP=500,$P=600,zP="_blank",BP="http://localhost";class Ay{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HP(n,e,t,r=jP,s=$P){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},UP),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Jt().toLowerCase();t&&(f=U0(p)?zP:t),M0(p)&&(e=e||BP,h.scrollbars="yes");const y=Object.entries(h).reduce((S,[T,I])=>`${S}${T}=${I},`,"");if(_R(p)&&f!=="_self")return WP(e||"",f),new Ay(null);const w=window.open(e||"",f,y);Ae(w,n,"popup-blocked");try{w.focus()}catch{}return new Ay(w)}function WP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="__/auth/handler",KP="emulator/auth/handler",GP=encodeURIComponent("fac");async function by(n,e,t,r,s,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:sa,eventId:s};if(e instanceof Hp){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",zI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof jl){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const h=await n._getAppCheckToken(),p=h?`#${GP}=${encodeURIComponent(h)}`:"";return`${QP(n)}?${Ml(f).slice(1)}${p}`}function QP({config:n}){return n.emulator?$p(n,KP):`https://${n.authDomain}/${qP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="webStorageSupport";class YP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ew,this._completeRedirectFn=wP,this._overrideRedirectResult=vP}async _openPopup(e,t,r,s){var a;ii((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await by(e,t,r,ep(),s);return HP(e,u,Wp())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await by(e,t,r,ep(),s);return eP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ii(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await FP(e),r=new SP(e);return t.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Of,{type:Of},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Of];u!==void 0&&t(!!u),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return H0()||F0()||Bp()}}const XP=YP;var ky="@firebase/auth",xy="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eA(n){Wo(new Os("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W0(n)},p=new CR(r,s,a,h);return LR(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new Os("auth-internal",e=>{const t=Us(e.getProvider("auth").getImmediate());return(r=>new JP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(ky,xy,ZP(n)),zi(ky,xy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=5*60,nA=E0("authIdTokenMaxAge")||tA;let Oy=null;const rA=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>nA)return;const s=t==null?void 0:t.token;Oy!==s&&(Oy=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iA(n=C0()){const e=Mp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VR(n,{popupRedirectResolver:XP,persistence:[uP,XR,ew]}),r=E0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=rA(a.toString());KR(t,u,()=>u(t.currentUser)),qR(t,f=>u(f))}}const s=_0("auth");return s&&MR(t,`http://${s}`),t}function sA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}RR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=er("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",sA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eA("Browser");var oA="firebase",aA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(oA,aA,"app");var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,lw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function x(){}x.prototype=R.prototype,k.D=R.prototype,k.prototype=new x,k.prototype.constructor=k,k.C=function(V,U,z){for(var N=Array(arguments.length-2),He=2;He<arguments.length;He++)N[He-2]=arguments[He];return R.prototype[U].apply(V,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,R,x){x||(x=0);var V=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)V[U]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(U=0;16>U;++U)V[U]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=k.g[0],x=k.g[1],U=k.g[2];var z=k.g[3],N=R+(z^x&(U^z))+V[0]+3614090360&4294967295;R=x+(N<<7&4294967295|N>>>25),N=z+(U^R&(x^U))+V[1]+3905402710&4294967295,z=R+(N<<12&4294967295|N>>>20),N=U+(x^z&(R^x))+V[2]+606105819&4294967295,U=z+(N<<17&4294967295|N>>>15),N=x+(R^U&(z^R))+V[3]+3250441966&4294967295,x=U+(N<<22&4294967295|N>>>10),N=R+(z^x&(U^z))+V[4]+4118548399&4294967295,R=x+(N<<7&4294967295|N>>>25),N=z+(U^R&(x^U))+V[5]+1200080426&4294967295,z=R+(N<<12&4294967295|N>>>20),N=U+(x^z&(R^x))+V[6]+2821735955&4294967295,U=z+(N<<17&4294967295|N>>>15),N=x+(R^U&(z^R))+V[7]+4249261313&4294967295,x=U+(N<<22&4294967295|N>>>10),N=R+(z^x&(U^z))+V[8]+1770035416&4294967295,R=x+(N<<7&4294967295|N>>>25),N=z+(U^R&(x^U))+V[9]+2336552879&4294967295,z=R+(N<<12&4294967295|N>>>20),N=U+(x^z&(R^x))+V[10]+4294925233&4294967295,U=z+(N<<17&4294967295|N>>>15),N=x+(R^U&(z^R))+V[11]+2304563134&4294967295,x=U+(N<<22&4294967295|N>>>10),N=R+(z^x&(U^z))+V[12]+1804603682&4294967295,R=x+(N<<7&4294967295|N>>>25),N=z+(U^R&(x^U))+V[13]+4254626195&4294967295,z=R+(N<<12&4294967295|N>>>20),N=U+(x^z&(R^x))+V[14]+2792965006&4294967295,U=z+(N<<17&4294967295|N>>>15),N=x+(R^U&(z^R))+V[15]+1236535329&4294967295,x=U+(N<<22&4294967295|N>>>10),N=R+(U^z&(x^U))+V[1]+4129170786&4294967295,R=x+(N<<5&4294967295|N>>>27),N=z+(x^U&(R^x))+V[6]+3225465664&4294967295,z=R+(N<<9&4294967295|N>>>23),N=U+(R^x&(z^R))+V[11]+643717713&4294967295,U=z+(N<<14&4294967295|N>>>18),N=x+(z^R&(U^z))+V[0]+3921069994&4294967295,x=U+(N<<20&4294967295|N>>>12),N=R+(U^z&(x^U))+V[5]+3593408605&4294967295,R=x+(N<<5&4294967295|N>>>27),N=z+(x^U&(R^x))+V[10]+38016083&4294967295,z=R+(N<<9&4294967295|N>>>23),N=U+(R^x&(z^R))+V[15]+3634488961&4294967295,U=z+(N<<14&4294967295|N>>>18),N=x+(z^R&(U^z))+V[4]+3889429448&4294967295,x=U+(N<<20&4294967295|N>>>12),N=R+(U^z&(x^U))+V[9]+568446438&4294967295,R=x+(N<<5&4294967295|N>>>27),N=z+(x^U&(R^x))+V[14]+3275163606&4294967295,z=R+(N<<9&4294967295|N>>>23),N=U+(R^x&(z^R))+V[3]+4107603335&4294967295,U=z+(N<<14&4294967295|N>>>18),N=x+(z^R&(U^z))+V[8]+1163531501&4294967295,x=U+(N<<20&4294967295|N>>>12),N=R+(U^z&(x^U))+V[13]+2850285829&4294967295,R=x+(N<<5&4294967295|N>>>27),N=z+(x^U&(R^x))+V[2]+4243563512&4294967295,z=R+(N<<9&4294967295|N>>>23),N=U+(R^x&(z^R))+V[7]+1735328473&4294967295,U=z+(N<<14&4294967295|N>>>18),N=x+(z^R&(U^z))+V[12]+2368359562&4294967295,x=U+(N<<20&4294967295|N>>>12),N=R+(x^U^z)+V[5]+4294588738&4294967295,R=x+(N<<4&4294967295|N>>>28),N=z+(R^x^U)+V[8]+2272392833&4294967295,z=R+(N<<11&4294967295|N>>>21),N=U+(z^R^x)+V[11]+1839030562&4294967295,U=z+(N<<16&4294967295|N>>>16),N=x+(U^z^R)+V[14]+4259657740&4294967295,x=U+(N<<23&4294967295|N>>>9),N=R+(x^U^z)+V[1]+2763975236&4294967295,R=x+(N<<4&4294967295|N>>>28),N=z+(R^x^U)+V[4]+1272893353&4294967295,z=R+(N<<11&4294967295|N>>>21),N=U+(z^R^x)+V[7]+4139469664&4294967295,U=z+(N<<16&4294967295|N>>>16),N=x+(U^z^R)+V[10]+3200236656&4294967295,x=U+(N<<23&4294967295|N>>>9),N=R+(x^U^z)+V[13]+681279174&4294967295,R=x+(N<<4&4294967295|N>>>28),N=z+(R^x^U)+V[0]+3936430074&4294967295,z=R+(N<<11&4294967295|N>>>21),N=U+(z^R^x)+V[3]+3572445317&4294967295,U=z+(N<<16&4294967295|N>>>16),N=x+(U^z^R)+V[6]+76029189&4294967295,x=U+(N<<23&4294967295|N>>>9),N=R+(x^U^z)+V[9]+3654602809&4294967295,R=x+(N<<4&4294967295|N>>>28),N=z+(R^x^U)+V[12]+3873151461&4294967295,z=R+(N<<11&4294967295|N>>>21),N=U+(z^R^x)+V[15]+530742520&4294967295,U=z+(N<<16&4294967295|N>>>16),N=x+(U^z^R)+V[2]+3299628645&4294967295,x=U+(N<<23&4294967295|N>>>9),N=R+(U^(x|~z))+V[0]+4096336452&4294967295,R=x+(N<<6&4294967295|N>>>26),N=z+(x^(R|~U))+V[7]+1126891415&4294967295,z=R+(N<<10&4294967295|N>>>22),N=U+(R^(z|~x))+V[14]+2878612391&4294967295,U=z+(N<<15&4294967295|N>>>17),N=x+(z^(U|~R))+V[5]+4237533241&4294967295,x=U+(N<<21&4294967295|N>>>11),N=R+(U^(x|~z))+V[12]+1700485571&4294967295,R=x+(N<<6&4294967295|N>>>26),N=z+(x^(R|~U))+V[3]+2399980690&4294967295,z=R+(N<<10&4294967295|N>>>22),N=U+(R^(z|~x))+V[10]+4293915773&4294967295,U=z+(N<<15&4294967295|N>>>17),N=x+(z^(U|~R))+V[1]+2240044497&4294967295,x=U+(N<<21&4294967295|N>>>11),N=R+(U^(x|~z))+V[8]+1873313359&4294967295,R=x+(N<<6&4294967295|N>>>26),N=z+(x^(R|~U))+V[15]+4264355552&4294967295,z=R+(N<<10&4294967295|N>>>22),N=U+(R^(z|~x))+V[6]+2734768916&4294967295,U=z+(N<<15&4294967295|N>>>17),N=x+(z^(U|~R))+V[13]+1309151649&4294967295,x=U+(N<<21&4294967295|N>>>11),N=R+(U^(x|~z))+V[4]+4149444226&4294967295,R=x+(N<<6&4294967295|N>>>26),N=z+(x^(R|~U))+V[11]+3174756917&4294967295,z=R+(N<<10&4294967295|N>>>22),N=U+(R^(z|~x))+V[2]+718787259&4294967295,U=z+(N<<15&4294967295|N>>>17),N=x+(z^(U|~R))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+U&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var x=R-this.blockSize,V=this.B,U=this.h,z=0;z<R;){if(U==0)for(;z<=x;)s(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<R;)if(V[U++]=k.charCodeAt(z++),U==this.blockSize){s(this,V),U=0;break}}else for(;z<R;)if(V[U++]=k[z++],U==this.blockSize){s(this,V),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var x=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=x&255,x/=256;for(this.u(k),k=Array(16),R=x=0;4>R;++R)for(var V=0;32>V;V+=8)k[x++]=this.g[R]>>>V&255;return k};function a(k,R){var x=f;return Object.prototype.hasOwnProperty.call(x,k)?x[k]:x[k]=R(k)}function u(k,R){this.h=R;for(var x=[],V=!0,U=k.length-1;0<=U;U--){var z=k[U]|0;V&&z==R||(x[U]=z,V=!1)}this.g=x}var f={};function h(k){return-128<=k&&128>k?a(k,function(R){return new u([R|0],0>R?-1:0)}):new u([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return P(p(-k));for(var R=[],x=1,V=0;k>=x;V++)R[V]=k/x|0,x*=4294967296;return new u(R,0)}function y(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return P(y(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(R,8)),V=w,U=0;U<k.length;U+=8){var z=Math.min(8,k.length-U),N=parseInt(k.substring(U,U+z),R);8>z?(z=p(Math.pow(R,z)),V=V.j(z).add(p(N))):(V=V.j(x),V=V.add(p(N)))}return V}var w=h(0),S=h(1),T=h(16777216);n=u.prototype,n.m=function(){if(b(this))return-P(this).m();for(var k=0,R=1,x=0;x<this.g.length;x++){var V=this.i(x);k+=(0<=V?V:4294967296+V)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(I(this))return"0";if(b(this))return"-"+P(this).toString(k);for(var R=p(Math.pow(k,6)),x=this,V="";;){var U=G(x,R).g;x=O(x,U.j(R));var z=((0<x.g.length?x.g[0]:x.h)>>>0).toString(k);if(x=U,I(x))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function I(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function b(k){return k.h==-1}n.l=function(k){return k=O(this,k),b(k)?-1:I(k)?0:1};function P(k){for(var R=k.g.length,x=[],V=0;V<R;V++)x[V]=~k.g[V];return new u(x,~k.h).add(S)}n.abs=function(){return b(this)?P(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],V=0,U=0;U<=R;U++){var z=V+(this.i(U)&65535)+(k.i(U)&65535),N=(z>>>16)+(this.i(U)>>>16)+(k.i(U)>>>16);V=N>>>16,z&=65535,N&=65535,x[U]=N<<16|z}return new u(x,x[x.length-1]&-2147483648?-1:0)};function O(k,R){return k.add(P(R))}n.j=function(k){if(I(this)||I(k))return w;if(b(this))return b(k)?P(this).j(P(k)):P(P(this).j(k));if(b(k))return P(this.j(P(k)));if(0>this.l(T)&&0>k.l(T))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,x=[],V=0;V<2*R;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<k.g.length;U++){var z=this.i(V)>>>16,N=this.i(V)&65535,He=k.i(U)>>>16,Le=k.i(U)&65535;x[2*V+2*U]+=N*Le,j(x,2*V+2*U),x[2*V+2*U+1]+=z*Le,j(x,2*V+2*U+1),x[2*V+2*U+1]+=N*He,j(x,2*V+2*U+1),x[2*V+2*U+2]+=z*He,j(x,2*V+2*U+2)}for(V=0;V<R;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=R;V<2*R;V++)x[V]=0;return new u(x,0)};function j(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function L(k,R){this.g=k,this.h=R}function G(k,R){if(I(R))throw Error("division by zero");if(I(k))return new L(w,w);if(b(k))return R=G(P(k),R),new L(P(R.g),P(R.h));if(b(R))return R=G(k,P(R)),new L(P(R.g),R.h);if(30<k.g.length){if(b(k)||b(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,V=R;0>=V.l(k);)x=B(x),V=B(V);var U=J(x,1),z=J(V,1);for(V=J(V,2),x=J(x,2);!I(V);){var N=z.add(V);0>=N.l(k)&&(U=U.add(x),z=N),V=J(V,1),x=J(x,1)}return R=O(k,U.j(R)),new L(U,R)}for(U=w;0<=k.l(R);){for(x=Math.max(1,Math.floor(k.m()/R.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=p(x),N=z.j(R);b(N)||0<N.l(k);)x-=V,z=p(x),N=z.j(R);I(z)&&(z=S),U=U.add(z),k=O(k,N)}return new L(U,k)}n.A=function(k){return G(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)&k.i(V);return new u(x,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)|k.i(V);return new u(x,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)^k.i(V);return new u(x,this.h^k.h)};function B(k){for(var R=k.g.length+1,x=[],V=0;V<R;V++)x[V]=k.i(V)<<1|k.i(V-1)>>>31;return new u(x,k.h)}function J(k,R){var x=R>>5;R%=32;for(var V=k.g.length-x,U=[],z=0;z<V;z++)U[z]=0<R?k.i(z+x)>>>R|k.i(z+x+1)<<32-R:k.i(z+x);return new u(U,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,xs=u}).apply(typeof Dy<"u"?Dy:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uw,fl,cw,bc,rp,dw,hw,fw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var W=c[C];if(!(W in _))break e;_=_[W]}c=c[c.length-1],C=_[c],g=g(C),g!=C&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,C=!1,W={next:function(){if(!C&&_<c.length){var Y=_++;return{value:g(Y,c[Y]),done:!1}}return C=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,C),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function S(c,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,S.apply(null,arguments)}function T(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function I(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(C,W,Y){for(var ae=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ae[Je-2]=arguments[Je];return g.prototype[W].apply(C,ae)}}function b(c){const g=c.length;if(0<g){const _=Array(g);for(let C=0;C<g;C++)_[C]=c[C];return _}return[]}function P(c,g){for(let _=1;_<arguments.length;_++){const C=arguments[_];if(h(C)){const W=c.length||0,Y=C.length||0;c.length=W+Y;for(let ae=0;ae<Y;ae++)c[W+ae]=C[ae]}else c.push(C)}}class O{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function j(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function G(c){return G[" "](c),c}G[" "]=function(){};var B=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function J(c,g,_){for(const C in c)g.call(_,c[C],C,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let _,C;for(let W=1;W<arguments.length;W++){C=arguments[W];for(_ in C)c[_]=C[_];for(let Y=0;Y<x.length;Y++)_=x[Y],Object.prototype.hasOwnProperty.call(C,_)&&(c[_]=C[_])}}function U(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function z(c){f.setTimeout(()=>{throw c},0)}function N(){var c=de;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class He{constructor(){this.h=this.g=null}add(g,_){const C=Le.get();C.set(g,_),this.h?this.h.next=C:this.g=C,this.h=C}}var Le=new O(()=>new Ne,c=>c.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,se=!1,de=new He,te=()=>{const c=f.Promise.resolve(void 0);xe=()=>{c.then(H)}};var H=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){z(_)}var g=Le;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}se=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c}();function Ie(c,g){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(B){e:{try{G(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}I(Ie,le);var Pe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ke(c,g,_,C,W){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!C,this.ha=W,this.key=++Oe,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function An(c){this.src=c,this.g={},this.h=0}An.prototype.add=function(c,g,_,C,W){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ae=sr(c,g,C,W);return-1<ae?(g=c[ae],_||(g.fa=!1)):(g=new Ke(g,this.src,Y,!!C,W),g.fa=_,c.push(g)),g};function xr(c,g){var _=g.type;if(_ in c.g){var C=c.g[_],W=Array.prototype.indexOf.call(C,g,void 0),Y;(Y=0<=W)&&Array.prototype.splice.call(C,W,1),Y&&(gt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function sr(c,g,_,C){for(var W=0;W<c.length;++W){var Y=c[W];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==C)return W}return-1}var or="closure_lm_"+(1e6*Math.random()|0),ci={};function pa(c,g,_,C,W){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)pa(c,g[Y],_,C,W);return null}return _=va(_),c&&c[De]?c.K(g,_,p(C)?!!C.capture:!!C,W):ma(c,g,_,!1,C,W)}function ma(c,g,_,C,W,Y){if(!g)throw Error("Invalid event type");var ae=p(W)?!!W.capture:!!W,Je=Hs(c);if(Je||(c[or]=Je=new An(c)),_=Je.add(g,_,C,ae,Y),_.proxy)return _;if(C=Ql(),_.proxy=C,C.src=c,C.listener=_,c.addEventListener)Te||(W=ae),W===void 0&&(W=!1),c.addEventListener(g.toString(),C,W);else if(c.attachEvent)c.attachEvent(Dr(g.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ql(){function c(_){return g.call(c.src,c.listener,_)}const g=ga;return c}function Bs(c,g,_,C,W){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)Bs(c,g[Y],_,C,W);else C=p(C)?!!C.capture:!!C,_=va(_),c&&c[De]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],_=sr(Y,_,C,W),-1<_&&(gt(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=Hs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=sr(g,_,C,W)),(_=-1<c?g[c]:null)&&Or(_))}function Or(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[De])xr(g.i,c);else{var _=c.type,C=c.proxy;g.removeEventListener?g.removeEventListener(_,C,c.capture):g.detachEvent?g.detachEvent(Dr(_),C):g.addListener&&g.removeListener&&g.removeListener(C),(_=Hs(g))?(xr(_,c),_.h==0&&(_.src=null,g[or]=null)):gt(c)}}}function Dr(c){return c in ci?ci[c]:ci[c]="on"+c}function ga(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var _=c.listener,C=c.ha||c.src;c.fa&&Or(c),c=_.call(C,g)}return c}function Hs(c){return c=c[or],c instanceof An?c:null}var Ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function va(c){return typeof c=="function"?c:(c[Ws]||(c[Ws]=function(g){return c.handleEvent(g)}),c[Ws])}function St(){X.call(this),this.i=new An(this),this.M=this,this.F=null}I(St,X),St.prototype[De]=!0,St.prototype.removeEventListener=function(c,g,_,C){Bs(this,c,g,_,C)};function Tt(c,g){var _,C=c.F;if(C)for(_=[];C;C=C.F)_.push(C);if(c=c.M,C=g.type||g,typeof g=="string")g=new le(g,c);else if(g instanceof le)g.target=g.target||c;else{var W=g;g=new le(C,c),V(g,W)}if(W=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ae=g.g=_[Y];W=Nr(ae,C,!0,g)&&W}if(ae=g.g=c,W=Nr(ae,C,!0,g)&&W,W=Nr(ae,C,!1,g)&&W,_)for(Y=0;Y<_.length;Y++)ae=g.g=_[Y],W=Nr(ae,C,!1,g)&&W}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],C=0;C<_.length;C++)gt(_[C]);delete c.g[g],c.h--}}this.F=null},St.prototype.K=function(c,g,_,C){return this.i.add(String(c),g,!1,_,C)},St.prototype.L=function(c,g,_,C){return this.i.add(String(c),g,!0,_,C)};function Nr(c,g,_,C){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,Y=0;Y<g.length;++Y){var ae=g[Y];if(ae&&!ae.da&&ae.capture==_){var Je=ae.listener,It=ae.ha||ae.src;ae.fa&&xr(c.i,ae),W=Je.call(It,C)!==!1&&W}}return W&&!C.defaultPrevented}function ya(c,g,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(c,g||0)}function di(c){c.g=ya(()=>{c.g=null,c.i&&(c.i=!1,di(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ts extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(c){X.call(this),this.h=c,this.g={}}I(ns,X);var _a=[];function wa(c){J(c.g,function(g,_){this.g.hasOwnProperty(_)&&Or(g)},c),c.g={}}ns.prototype.N=function(){ns.aa.N.call(this),wa(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=f.JSON.stringify,Sa=f.JSON.parse,Ta=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function rs(){}rs.prototype.h=null;function qs(c){return c.h||(c.h=c.i())}function Ks(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){le.call(this,"d")}I(ar,le);function Gs(){le.call(this,"c")}I(Gs,le);var lr={},Ia=null;function is(){return Ia=Ia||new St}lr.La="serverreachability";function Ca(c){le.call(this,lr.La,c)}I(Ca,le);function Vr(c){const g=is();Tt(g,new Ca(g))}lr.STAT_EVENT="statevent";function Ra(c,g){le.call(this,lr.STAT_EVENT,c),this.stat=g}I(Ra,le);function ft(c){const g=is();Tt(g,new Ra(g,c))}lr.Ma="timingevent";function Qs(c,g){le.call(this,lr.Ma,c),this.size=g}I(Qs,le);function Un(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function ss(){this.g=!0}ss.prototype.xa=function(){this.g=!1};function os(c,g,_,C,W,Y){c.info(function(){if(c.g)if(Y)for(var ae="",Je=Y.split("&"),It=0;It<Je.length;It++){var $e=Je[It].split("=");if(1<$e.length){var kt=$e[0];$e=$e[1];var vt=kt.split("_");ae=2<=vt.length&&vt[1]=="type"?ae+(kt+"="+$e+"&"):ae+(kt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+g+`
`+_+`
`+ae})}function Ys(c,g,_,C,W,Y,ae){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+g+`
`+_+`
`+Y+" "+ae})}function jn(c,g,_,C){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+qd(c,_)+(C?" "+C:"")})}function Pa(c,g){c.info(function(){return"TIMEOUT: "+g})}ss.prototype.info=function(){};function qd(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var C=_[c];if(!(2>C.length)){var W=C[1];if(Array.isArray(W)&&!(1>W.length)){var Y=W[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return Ea(_)}catch{return g}}var Xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function as(){}I(as,rs),as.prototype.g=function(){return new XMLHttpRequest},as.prototype.i=function(){return{}},$n=new as;function zn(c,g,_,C){this.j=c,this.i=g,this.l=_,this.R=C||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xl}function Xl(){this.i=null,this.g="",this.h=!1}var Aa={},Js={};function Zs(c,g,_){c.L=1,c.v=gi(_n(g)),c.m=_,c.P=!0,ba(c,null)}function ba(c,g){c.F=Date.now(),et(c),c.A=_n(c.v);var _=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),yi(_.i,"t",C),c.C=0,_=c.j.J,c.h=new Xl,c.g=mu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new ts(S(c.Y,c,c.g),c.O)),g=c.U,_=c.g,C=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(_a[0]=W.toString()),W=_a);for(var Y=0;Y<W.length;Y++){var ae=pa(_,W[Y],C||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Vr(),os(c.i,c.u,c.A,c.l,c.R,c.m)}zn.prototype.ca=function(c){c=c.target;const g=this.M;g&&on(c)==3?g.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const vt=on(this.g);var g=this.g.Ba();const On=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Va(this.g)))){this.J||vt!=4||g==7||(g==8||0>=On?Vr(3):Vr(2)),ls(this);var _=this.g.Z();this.X=_;t:if(Jl(this)){var C=Va(this.g);c="";var W=C.length,Y=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),hi(this);var ae="";break t}this.h.i=new f.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(C[g],{stream:!(Y&&g==W-1)});C.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,Ys(this.i,this.u,this.A,this.l,this.R,vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,It=this.g;if((Je=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Je)){var $e=Je;break t}}$e=null}if(_=$e)jn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,_);else{this.o=!1,this.s=3,ft(12),kn(this),hi(this);break e}}if(this.P){_=!0;let En;for(;!this.J&&this.C<ae.length;)if(En=Kd(this,ae),En==Js){vt==4&&(this.s=4,ft(14),_=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Aa){this.s=4,ft(15),jn(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else jn(this.i,this.l,En,null),ka(this,En);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||ae.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)jn(this.i,this.l,ae,"[Invalid Chunked Response]"),kn(this),hi(this);else if(0<ae.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ma(kt),kt.M=!0,ft(11))}}else jn(this.i,this.l,ae,null),ka(this,ae);vt==4&&kn(this),this.o&&!this.J&&(vt==4?co(this.j,this):(this.o=!1,et(this)))}else so(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),kn(this),hi(this)}}}catch{}finally{}};function Jl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Kd(c,g){var _=c.C,C=g.indexOf(`
`,_);return C==-1?Js:(_=Number(g.substring(_,C)),isNaN(_)?Aa:(C+=1,C+_>g.length?Js:(g=g.slice(C,C+_),c.C=C+_,g)))}zn.prototype.cancel=function(){this.J=!0,kn(this)};function et(c){c.S=Date.now()+c.I,Zl(c,c.I)}function Zl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Un(S(c.ba,c),g)}function ls(c){c.B&&(f.clearTimeout(c.B),c.B=null)}zn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pa(this.i,this.A),this.L!=2&&(Vr(),ft(17)),kn(this),this.s=2,hi(this)):Zl(this,this.S-c)};function hi(c){c.j.G==0||c.J||co(c.j,c)}function kn(c){ls(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,wa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ka(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Zt(_.h,c))){if(!c.K&&Zt(_.h,c)&&_.G==3){try{var C=_.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var W=C;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)uo(_),Kn(_);else break e;lo(_),ft(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=Un(S(_.Za,_),6e3));if(1>=tu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else jr(_,11)}else if((c.K||_.g==c)&&uo(_),!j(g))for(W=_.Da.g.parse(g),g=0;g<W.length;g++){let $e=W[g];if(_.T=$e[0],$e=$e[1],_.G==2)if($e[0]=="c"){_.K=$e[1],_.ia=$e[2];const kt=$e[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const vt=$e[4];vt!=null&&(_.Aa=vt,_.j.info("SVER="+_.Aa));const On=$e[5];On!=null&&typeof On=="number"&&0<On&&(C=1.5*On,_.L=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const En=c.g;if(En){const ms=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var Y=C.h;Y.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(xa(Y,Y.h),Y.h=null))}if(C.D){const fo=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(C.ya=fo,Ze(C.I,C.D,fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),C=_;var ae=c;if(C.qa=pu(C,C.J?C.ia:null,C.W),ae.K){nu(C.h,ae);var Je=ae,It=C.L;It&&(Je.I=It),Je.B&&(ls(Je),et(Je)),C.g=ae}else ps(C);0<_.i.length&&hr(_)}else $e[0]!="stop"&&$e[0]!="close"||jr(_,7);else _.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?jr(_,7):Mt(_):$e[0]!="noop"&&_.l&&_.l.ta($e),_.v=0)}}Vr(4)}catch{}}var eu=class{constructor(c,g){this.g=c,this.map=g}};function us(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function tu(c){return c.h?1:c.g?c.g.size:0}function Zt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function xa(c,g){c.g?c.g.add(g):c.h=g}function nu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}us.prototype.cancel=function(){if(this.i=ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ru(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return b(c.i)}function eo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var g=[],_=c.length,C=0;C<_;C++)g.push(c[C]);return g}g=[],_=0;for(C in c)g[_++]=c[C];return g}function to(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const C in c)g[_++]=C;return g}}}function fi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=to(c),C=eo(c),W=C.length,Y=0;Y<W;Y++)g.call(void 0,C[Y],_&&_[Y],c)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gd(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var C=c[_].indexOf("="),W=null;if(0<=C){var Y=c[_].substring(0,C);W=c[_].substring(C+1)}else Y=c[_];g(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Lr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lr){this.h=c.h,ds(this,c.j),this.o=c.o,this.g=c.g,pi(this,c.s),this.l=c.l;var g=c.i,_=new ur;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),mi(this,_),this.m=c.m}else c&&(g=String(c).match(cs))?(this.h=!1,ds(this,g[1]||"",!0),this.o=Ue(g[2]||""),this.g=Ue(g[3]||"",!0),pi(this,g[4]),this.l=Ue(g[5]||"",!0),mi(this,g[6]||"",!0),this.m=Ue(g[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Lr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(vi(g,no,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(vi(g,no,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vi(_,_.charAt(0)=="/"?ou:su,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vi(_,Oa)),c.join("")};function _n(c){return new Lr(c)}function ds(c,g,_){c.j=_?Ue(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function pi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function mi(c,g,_){g instanceof ur?(c.i=g,cr(c.i,c.h)):(_||(g=vi(g,au)),c.i=new ur(g,c.h))}function Ze(c,g,_){c.i.set(g,_)}function gi(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ue(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,iu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var no=/[#\/\?@]/g,su=/[#\?:]/g,ou=/[#\?]/g,au=/[#\?@]/g,Oa=/#/g;function ur(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Lt(c){c.g||(c.g=new Map,c.h=0,c.i&&Gd(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=ur.prototype,n.add=function(c,g){Lt(this),this.i=null,c=xn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Bn(c,g){Lt(c),g=xn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Hn(c,g){return Lt(c),g=xn(c,g),c.g.has(g)}n.forEach=function(c,g){Lt(this),this.g.forEach(function(_,C){_.forEach(function(W){c.call(g,W,C,this)},this)},this)},n.na=function(){Lt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let C=0;C<g.length;C++){const W=c[C];for(let Y=0;Y<W.length;Y++)_.push(g[C])}return _},n.V=function(c){Lt(this);let g=[];if(typeof c=="string")Hn(this,c)&&(g=g.concat(this.g.get(xn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Lt(this),this.i=null,c=xn(this,c),Hn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function yi(c,g,_){Bn(c,g),0<_.length&&(c.i=null,c.g.set(xn(c,g),b(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var C=g[_];const Y=encodeURIComponent(String(C)),ae=this.V(C);for(C=0;C<ae.length;C++){var W=Y;ae[C]!==""&&(W+="="+encodeURIComponent(String(ae[C]))),c.push(W)}}return this.i=c.join("&")};function xn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function cr(c,g){g&&!c.j&&(Lt(c),c.i=null,c.g.forEach(function(_,C){var W=C.toLowerCase();C!=W&&(Bn(this,C),yi(this,W,_))},c)),c.j=g}function Qd(c,g){const _=new ss;if(f.Image){const C=new Image;C.onload=T(sn,_,"TestLoadImage: loaded",!0,g,C),C.onerror=T(sn,_,"TestLoadImage: error",!1,g,C),C.onabort=T(sn,_,"TestLoadImage: abort",!1,g,C),C.ontimeout=T(sn,_,"TestLoadImage: timeout",!1,g,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else g(!1)}function lu(c,g){const _=new ss,C=new AbortController,W=setTimeout(()=>{C.abort(),sn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:C.signal}).then(Y=>{clearTimeout(W),Y.ok?sn(_,"TestPingServer: ok",!0,g):sn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),sn(_,"TestPingServer: error",!1,g)})}function sn(c,g,_,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(_)}catch{}}function Yd(){this.g=new Ta}function uu(c,g,_){const C=_||"";try{fi(c,function(W,Y){let ae=W;p(W)&&(ae=Ea(W)),g.push(C+Y+"="+encodeURIComponent(ae))})}catch(W){throw g.push(C+"type="+encodeURIComponent("_badmap")),W}}function Mr(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Mr,rs),Mr.prototype.g=function(){return new hs(this.l,this.j)},Mr.prototype.i=function(c){return function(){return c}}({});function hs(c,g){St.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(hs,St),n=hs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,qn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Wn(this):qn(this),this.readyState==3&&cu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},n.Qa=function(c){this.g&&(this.response=c,Wn(this))},n.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fr(c){let g="";return J(c,function(_,C){g+=C,g+=":",g+=_,g+=`\r
`}),g}function _i(c,g,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=Fr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ze(c,g,_))}function it(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(it,St);var Xd=/^https?$/i,Da=["POST","PUT"];n=it.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?qs(this.o):qs($n),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){fs(this,Y);return}if(c=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)_.set(W,C[W]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Y of C.keys())_.set(Y,C.get(Y));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Da,g,void 0))||C||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of _)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{io(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){fs(this,Y)}};function fs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ro(c),wn(c)}function ro(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),wn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},n.bb=function(){Na(this)};function Na(c){if(c.h&&typeof u<"u"&&(!c.v[1]||on(c)!=4||c.Z()!=2)){if(c.u&&on(c)==4)ya(c.Ea,0,c);else if(Tt(c,"readystatechange"),on(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var C;if(C=ae===0){var W=String(c.D).match(cs)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),C=!Xd.test(W?W.toLowerCase():"")}_=C}if(_)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var Y=2<on(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",ro(c)}}finally{wn(c)}}}}function wn(c,g){if(c.g){io(c);const _=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Tt(c,"ready");try{_.onreadystatechange=C}catch{}}}function io(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function on(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Sa(g)}};function Va(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function so(c){const g={};c=(c.g&&2<=on(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(j(c[C]))continue;var _=U(c[C]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[W]||[];g[W]=Y,Y.push(_)}k(g,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function La(c){this.Aa=0,this.i=[],this.j=new ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dr("baseRetryDelayMs",5e3,c),this.cb=dr("retryDelaySeedMs",1e4,c),this.Wa=dr("forwardChannelMaxRetries",2,c),this.wa=dr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new us(c&&c.concurrentRequestLimit),this.Da=new Yd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=La.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,C){ft(0),this.W=c,this.H=g||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.I=pu(this,null,this.W),hr(this)};function Mt(c){if(oo(c),c.G==3){var g=c.U++,_=_n(c.I);if(Ze(_,"SID",c.K),Ze(_,"RID",g),Ze(_,"TYPE","terminate"),Ur(c,_),g=new zn(c,c.j,g),g.L=2,g.v=gi(_n(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),et(g)}fu(c)}function Kn(c){c.g&&(Ma(c),c.g.cancel(),c.g=null)}function oo(c){Kn(c),c.u&&(f.clearTimeout(c.u),c.u=null),uo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function hr(c){if(!yn(c.h)&&!c.s){c.s=!0;var g=c.Ga;xe||te(),se||(xe(),se=!0),de.add(g,c),c.B=0}}function Jd(c,g){return tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Un(S(c.Ga,c,g),hu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new zn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(W.H=Y,Y=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=wi(this,W,g),_=_n(this.I),Ze(_,"RID",c),Ze(_,"CVER",22),this.D&&Ze(_,"X-HTTP-Session-Id",this.D),Ur(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(Fr(Y)))+"&"+g:this.m&&_i(_,this.m,Y)),xa(this.h,W),this.Ua&&Ze(_,"TYPE","init"),this.P?(Ze(_,"$req",g),Ze(_,"SID","null"),W.T=!0,Zs(W,_,null)):Zs(W,_,g),this.G=2}}else this.G==3&&(c?ao(this,c):this.i.length==0||yn(this.h)||ao(this))};function ao(c,g){var _;g?_=g.l:_=c.U++;const C=_n(c.I);Ze(C,"SID",c.K),Ze(C,"RID",_),Ze(C,"AID",c.T),Ur(c,C),c.m&&c.o&&_i(C,c.m,c.o),_=new zn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=wi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xa(c.h,_),Zs(_,C,g)}function Ur(c,g){c.H&&J(c.H,function(_,C){Ze(g,C,_)}),c.l&&fi({},function(_,C){Ze(g,C,_)})}function wi(c,g,_){_=Math.min(c.i.length,_);var C=c.l?S(c.l.Na,c.l,c):null;e:{var W=c.i;let Y=-1;for(;;){const ae=["count="+_];Y==-1?0<_?(Y=W[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Je=!0;for(let It=0;It<_;It++){let $e=W[It].g;const kt=W[It].map;if($e-=Y,0>$e)Y=Math.max(0,W[It].g-100),Je=!1;else try{uu(kt,ae,"req"+$e+"_")}catch{C&&C(kt)}}if(Je){C=ae.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,C}function ps(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;xe||te(),se||(xe(),se=!0),de.add(g,c),c.v=0}}function lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Un(S(c.Fa,c),hu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Un(S(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Kn(this),du(this))};function Ma(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function du(c){c.g=new zn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=_n(c.qa);Ze(g,"RID","rpc"),Ze(g,"SID",c.K),Ze(g,"AID",c.T),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(g,"TO",c.ja),Ze(g,"TYPE","xmlhttp"),Ur(c,g),c.m&&c.o&&_i(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=gi(_n(g)),_.m=null,_.P=!0,ba(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Kn(this),lo(this),ft(19))};function uo(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function co(c,g){var _=null;if(c.g==g){uo(c),Ma(c),c.g=null;var C=2}else if(Zt(c.h,g))_=g.D,nu(c.h,g),C=1;else return;if(c.G!=0){if(g.o)if(C==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;C=is(),Tt(C,new Qs(C,_)),hr(c)}else ps(c);else if(W=g.s,W==3||W==0&&0<g.X||!(C==1&&Jd(c,g)||C==2&&lo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),W){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function hu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function jr(c,g){if(c.j.info("Error code "+g),g==2){var _=S(c.fb,c),C=c.Xa;const W=!C;C=new Lr(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ds(C,"https"),gi(C),W?Qd(C.toString(),_):lu(C.toString(),_)}else ft(2);c.G=0,c.l&&c.l.sa(g),fu(c),oo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function fu(c){if(c.G=0,c.ka=[],c.l){const g=ru(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ka,g),P(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function pu(c,g,_){var C=_ instanceof Lr?_n(_):new Lr(_);if(C.g!="")g&&(C.g=g+"."+C.g),pi(C,C.s);else{var W=f.location;C=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var Y=new Lr(null);C&&ds(Y,C),g&&(Y.g=g),W&&pi(Y,W),_&&(Y.l=_),C=Y}return _=c.D,g=c.ya,_&&g&&Ze(C,_,g),Ze(C,"VER",c.la),Ur(c,C),C}function mu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new it(new Mr({eb:_})):new it(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fa(){}n=Fa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ho(){}ho.prototype.g=function(c,g){return new en(c,g)};function en(c,g){St.call(this),this.g=new La(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!j(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!j(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new fr(this)}I(en,St),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Mt(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ea(c),c=_);g.i.push(new eu(g.Ya++,c)),g.G==3&&hr(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,en.aa.N.call(this)};function gu(c){ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}I(gu,ar);function vu(){Gs.call(this),this.status=1}I(vu,Gs);function fr(c){this.g=c}I(fr,Fa),fr.prototype.ua=function(){Tt(this.g,"a")},fr.prototype.ta=function(c){Tt(this.g,new gu(c))},fr.prototype.sa=function(c){Tt(this.g,new vu)},fr.prototype.ra=function(){Tt(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,fw=function(){return new ho},hw=function(){return is()},dw=lr,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,bc=Xs,Yl.COMPLETE="complete",cw=Yl,Ks.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",St.prototype.listen=St.prototype.K,fl=Ks,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,uw=it}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const Ny="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Vp("@firebase/firestore");function Vo(){return Vs.logLevel}function ce(n,...e){if(Vs.logLevel<=Me.DEBUG){const t=e.map(Kp);Vs.debug(`Firestore (${oa}): ${n}`,...t)}}function si(n,...e){if(Vs.logLevel<=Me.ERROR){const t=e.map(Kp);Vs.error(`Firestore (${oa}): ${n}`,...t)}}function qo(n,...e){if(Vs.logLevel<=Me.WARN){const t=e.map(Kp);Vs.warn(`Firestore (${oa}): ${n}`,...t)}}function Kp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: `+n;throw si(e),new Error(e)}function Xe(n,e){n||Re()}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yt.UNAUTHENTICATED))}shutdown(){}}class uA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cA{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ti,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},f=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ti)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new pw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Yt(e)}}class dA{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hA{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new dA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Xe(this.o===void 0);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new fA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=mA(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function je(n,e){return n<e?-1:n>e?1:0}function Ko(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new At(0,0))}static max(){return new be(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(),r===void 0?r=e.length-t:r>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),u=t.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ot extends Rl{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const gA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Rl{construct(e,t,r){return new zt(e,t,r)}static isValidIdentifier(e){return gA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(a(),s++)}if(a(),u)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}function vA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new qi(s,Ee.empty(),e)}function yA(n){return new qi(n.readTime,n.key,-1)}class qi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qi(be.min(),Ee.empty(),-1)}static max(){return new qi(be.max(),Ee.empty(),-1)}}function _A(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==wA)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let s=0,a=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++a,u&&a===s&&t()},h=>r(h))}),u=!0,a===s&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(s=>s?Z.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,s)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(y=>{u[p]=y,++f,f===a&&r(u)},y=>s(y))}})}static doWhile(e,t){return new Z((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function SA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function la(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_d.oe=-1;function wd(n){return n==null}function Kc(n){return n===0&&1/n==-1/0}function TA(n){return typeof n=="number"&&Number.isInteger(n)&&!Kc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Vy(e)),e=CA(n.get(t),e);return Vy(e)}function CA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Vy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ji(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??jt.RED,this.left=s??jt.EMPTY,this.right=a??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new jt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,r,s,a){return this}insert(e,t,r){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(e){return new My(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class My{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new bt(zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vw("Invalid base64 string: "+a):a}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(n){if(Xe(!!n),typeof n=="string"){let e=0;const t=RA.exec(n);if(Xe(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gi(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ed(n){const e=n.mapValue.fields.__previous_value__;return Gp(e)?Ed(e):e}function Pl(n){const e=Ki(n.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,t,r,s,a,u,f,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p}}class Al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gp(n)?4:bA(n)?9007199254740991:AA(n)?10:11:Re()}function Pr(n,e){if(n===e)return!0;const t=Qi(n);if(t!==Qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pl(n).isEqual(Pl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ki(s.timestampValue),f=Ki(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Gi(s.bytesValue).isEqual(Gi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return mt(s.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return mt(s.integerValue)===mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=mt(s.doubleValue),f=mt(a.doubleValue);return u===f?Kc(u)===Kc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Ly(u)!==Ly(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Pr(u[h],f[h])))return!1;return!0}(n,e);default:return Re()}}function bl(n,e){return(n.values||[]).find(t=>Pr(t,e))!==void 0}function Go(n,e){if(n===e)return 0;const t=Qi(n),r=Qi(e);if(t!==r)return je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=mt(a.integerValue||a.doubleValue),h=mt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return Fy(n.timestampValue,e.timestampValue);case 4:return Fy(Pl(n),Pl(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(a,u){const f=Gi(a),h=Gi(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let p=0;p<f.length&&p<h.length;p++){const y=je(f[p],h[p]);if(y!==0)return y}return je(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=je(mt(a.latitude),mt(u.latitude));return f!==0?f:je(mt(a.longitude),mt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Uy(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,p,y;const w=a.fields||{},S=u.fields||{},T=(f=w.value)===null||f===void 0?void 0:f.arrayValue,I=(h=S.value)===null||h===void 0?void 0:h.arrayValue,b=je(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0);return b!==0?b:Uy(T,I)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===mc.mapValue&&u===mc.mapValue)return 0;if(a===mc.mapValue)return 1;if(u===mc.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),p=u.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let w=0;w<h.length&&w<y.length;++w){const S=je(h[w],y[w]);if(S!==0)return S;const T=Go(f[h[w]],p[y[w]]);if(T!==0)return T}return je(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Re()}}function Fy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=Ki(n),r=Ki(e),s=je(t.seconds,r.seconds);return s!==0?s:je(t.nanos,r.nanos)}function Uy(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Go(t[s],r[s]);if(a)return a}return je(t.length,r.length)}function Qo(n){return ip(n)}function ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ki(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=ip(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${ip(t.fields[u])}`;return s+"}"}(n.mapValue):Re()}function kc(n){switch(Qi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ed(n);return e?16+kc(e):16;case 5:return 2*n.stringValue.length;case 6:return Gi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+kc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ji(r.fields,(a,u)=>{s+=a.length+kc(u)}),s}(n.mapValue);default:throw Re()}}function sp(n){return!!n&&"integerValue"in n}function Qp(n){return!!n&&"arrayValue"in n}function jy(n){return!!n&&"nullValue"in n}function $y(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xc(n){return!!n&&"mapValue"in n}function AA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function _l(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ji(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_l(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_l(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(t)}setAll(e){let t=zt.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=f.popLast()}u?r[f.lastSegment()]=_l(u):s.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());xc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];xc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ji(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new mn(_l(this.value))}}function yw(n){const e=[];return Ji(n.fields,(t,r)=>{const s=new zt([t]);if(xc(r)){const a=yw(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t,r,s,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Xt(e,0,be.min(),be.min(),be.min(),mn.empty(),0)}static newFoundDocument(e,t,r,s){return new Xt(e,1,t,be.min(),r,s,0)}static newNoDocument(e,t){return new Xt(e,2,t,be.min(),be.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,be.min(),be.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t){this.position=e,this.inclusive=t}}function zy(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=Go(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function By(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function kA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{}class Pt extends _w{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new OA(e,t,r):t==="array-contains"?new VA(e,r):t==="in"?new LA(e,r):t==="not-in"?new MA(e,r):t==="array-contains-any"?new FA(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new DA(e,r):new NA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Go(t,this.value)):t!==null&&Qi(this.value)===Qi(t)&&this.matchesComparison(Go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends _w{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ar(e,t)}matches(e){return ww(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ww(n){return n.op==="and"}function Ew(n){return xA(n)&&ww(n)}function xA(n){for(const e of n.filters)if(e instanceof Ar)return!1;return!0}function op(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(Ew(n))return n.filters.map(e=>op(e)).join(",");{const e=n.filters.map(t=>op(t)).join(",");return`${n.op}(${e})`}}function Sw(n,e){return n instanceof Pt?function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&Pr(r.value,s.value)}(n,e):n instanceof Ar?function(r,s){return s instanceof Ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,f)=>a&&Sw(u,s.filters[f]),!0):!1}(n,e):void Re()}function Tw(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(n):n instanceof Ar?function(t){return t.op.toString()+" {"+t.getFilters().map(Tw).join(" ,")+"}"}(n):"Filter"}class OA extends Pt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class DA extends Pt{constructor(e,t){super(e,"in",t),this.keys=Iw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NA extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=Iw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Iw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class VA extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qp(t)&&bl(t.arrayValue,this.value)}}class LA extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bl(this.value.arrayValue,t)}}class MA extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!bl(this.value.arrayValue,t)}}class FA extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t=null,r=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.ue=null}}function Hy(n,e=null,t=[],r=[],s=null,a=null,u=null){return new UA(n,e,t,r,s,a,u)}function Yp(n){const e=ke(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>op(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qo(r)).join(",")),e.ue=t}return e.ue}function Xp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Sw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!By(n.startAt,e.startAt)&&By(n.endAt,e.endAt)}function ap(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t=null,r=[],s=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jA(n,e,t,r,s,a,u,f){return new Sd(n,e,t,r,s,a,u,f)}function Jp(n){return new Sd(n)}function Wy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $A(n){return n.collectionGroup!==null}function wl(n){const e=ke(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new bt(zt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Qc(a,r))}),t.has(zt.keyField().canonicalString())||e.ce.push(new Qc(zt.keyField(),r))}return e.ce}function Tr(n){const e=ke(n);return e.le||(e.le=zA(e,wl(n))),e.le}function zA(n,e){if(n.limitType==="F")return Hy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Qc(s.field,a)});const t=n.endAt?new Gc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Gc(n.startAt.position,n.startAt.inclusive):null;return Hy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function lp(n,e,t){return new Sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Td(n,e){return Xp(Tr(n),Tr(e))&&n.limitType===e.limitType}function Cw(n){return`${Yp(Tr(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>Tw(s)).join(", ")}]`),wd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Qo(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Qo(s)).join(",")),`Target(${r})`}(Tr(n))}; limitType=${n.limitType})`}function Id(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of wl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,f,h){const p=zy(u,f,h);return u.inclusive?p<=0:p<0}(r.startAt,wl(r),s)||r.endAt&&!function(u,f,h){const p=zy(u,f,h);return u.inclusive?p>=0:p>0}(r.endAt,wl(r),s))}(n,e)}function BA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rw(n){return(e,t)=>{let r=!1;for(const s of wl(n)){const a=HA(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function HA(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),p=f.data.field(a);return h!==null&&p!==null?Go(h,p):Re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new ct(Ee.comparator);function oi(){return WA}const Pw=new ct(Ee.comparator);function pl(...n){let e=Pw;for(const t of n)e=e.insert(t.key,t);return e}function Aw(n){let e=Pw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ks(){return El()}function bw(){return El()}function El(){return new js(n=>n.toString(),(n,e)=>n.isEqual(e))}const qA=new ct(Ee.comparator),KA=new bt(Ee.comparator);function Fe(...n){let e=KA;for(const t of n)e=e.add(t);return e}const GA=new bt(je);function QA(){return GA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function kw(n){return{integerValue:""+n}}function YA(n,e){return TA(e)?kw(e):Zp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this._=void 0}}function XA(n,e,t){return n instanceof Yc?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Gp(a)&&(a=Ed(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Yo?Ow(n,e):n instanceof Xo?Dw(n,e):function(s,a){const u=xw(s,a),f=qy(u)+qy(s.Pe);return sp(u)&&sp(s.Pe)?kw(f):Zp(s.serializer,f)}(n,e)}function JA(n,e,t){return n instanceof Yo?Ow(n,e):n instanceof Xo?Dw(n,e):t}function xw(n,e){return n instanceof Xc?function(r){return sp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Yc extends Cd{}class Yo extends Cd{constructor(e){super(),this.elements=e}}function Ow(n,e){const t=Nw(e);for(const r of n.elements)t.some(s=>Pr(s,r))||t.push(r);return{arrayValue:{values:t}}}class Xo extends Cd{constructor(e){super(),this.elements=e}}function Dw(n,e){let t=Nw(e);for(const r of n.elements)t=t.filter(s=>!Pr(s,r));return{arrayValue:{values:t}}}class Xc extends Cd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function qy(n){return mt(n.integerValue||n.doubleValue)}function Nw(n){return Qp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){this.field=e,this.transform=t}}function ZA(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Yo&&s instanceof Yo||r instanceof Xo&&s instanceof Xo?Ko(r.elements,s.elements,Pr):r instanceof Xc&&s instanceof Xc?Pr(r.Pe,s.Pe):r instanceof Yc&&s instanceof Yc}(n.transform,e.transform)}class eb{constructor(e,t){this.version=e,this.transformResults=t}}class gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rd{}function Lw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pd(n.key,gn.none()):new zl(n.key,n.data,gn.none());{const t=n.data,r=mn.empty();let s=new bt(zt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Zi(n.key,r,new Cn(s.toArray()),gn.none())}}function tb(n,e,t){n instanceof zl?function(s,a,u){const f=s.value.clone(),h=Gy(s.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Zi?function(s,a,u){if(!Oc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=Gy(s.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(Mw(s)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Sl(n,e,t,r){return n instanceof zl?function(a,u,f,h){if(!Oc(a.precondition,u))return f;const p=a.value.clone(),y=Qy(a.fieldTransforms,h,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zi?function(a,u,f,h){if(!Oc(a.precondition,u))return f;const p=Qy(a.fieldTransforms,h,u),y=u.data;return y.setAll(Mw(a)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,f){return Oc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function nb(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=xw(r.transform,s||null);a!=null&&(t===null&&(t=mn.empty()),t.set(r.field,a))}return t||null}function Ky(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ko(r,s,(a,u)=>ZA(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zl extends Rd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zi extends Rd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Mw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Gy(n,e,t){const r=new Map;Xe(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,f=e.data.field(a.field);r.set(a.field,JA(u,f,t[s]))}return r}function Qy(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,XA(a,u,e))}return r}class Pd extends Rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rb extends Rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&tb(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bw();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(s.key)?null:f;const h=Lw(u,f);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(t,r)=>Ky(t,r))&&Ko(this.baseMutations,e.baseMutations,(t,r)=>Ky(t,r))}}class em{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Xe(e.mutations.length===r.length);let s=function(){return qA}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new em(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,ze;function ab(n){switch(n){default:return Re();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function Fw(n){if(n===void 0)return si("GRPC error has no .code"),ne.UNKNOWN;switch(n){case _t.OK:return ne.OK;case _t.CANCELLED:return ne.CANCELLED;case _t.UNKNOWN:return ne.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ne.INTERNAL;case _t.UNAVAILABLE:return ne.UNAVAILABLE;case _t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case _t.NOT_FOUND:return ne.NOT_FOUND;case _t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case _t.ABORTED:return ne.ABORTED;case _t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case _t.DATA_LOSS:return ne.DATA_LOSS;default:return Re()}}(ze=_t||(_t={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new xs([4294967295,4294967295],0);function Yy(n){const e=lb().encode(n),t=new lw;return t.update(e),new Uint8Array(t.digest())}function Xy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xs([t,r],0),new xs([s,a],0)]}class tm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ml(`Invalid padding: ${t}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ml(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=xs.fromNumber(this.Te)}Ee(e,t,r){let s=e.add(t.multiply(xs.fromNumber(r)));return s.compare(ub)===1&&(s=new xs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Yy(e),[r,s]=Xy(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new tm(a,s,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Te===0)return;const t=Yy(e),[r,s]=Xy(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Bl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ad(be.min(),s,new ct(je),oi(),Fe())}}class Bl{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Bl(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class Uw{constructor(e,t){this.targetId=e,this.me=t}}class jw{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Jy{constructor(){this.fe=0,this.ge=Zy(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),t=Fe(),r=Fe();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new Bl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Zy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cb{constructor(e){this.Le=e,this.Be=new Map,this.ke=oi(),this.qe=gc(),this.Qe=gc(),this.Ke=new ct(je)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(ap(a))if(r===0){const u=new Ee(a.path);this.We(t,u,Xt.newNoDocument(u,be.min()))}else Xe(r===1);else{const u=this.Ze(t);if(u!==r){const f=this.Xe(e),h=f?this.et(f,e,u):1;if(h!==0){this.He(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,f;try{u=Gi(r).toUint8Array()}catch(h){if(h instanceof vw)return qo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new tm(u,s,a)}catch(h){return qo(h instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Te===0?null:f}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Le.nt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((a,u)=>{const f=this.Ye(u);if(f){if(a.current&&ap(f.target)){const h=new Ee(f.target.path);this.st(h).has(u)||this.ot(u,h)||this.We(u,h,Xt.newNoDocument(h,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Fe();this.Qe.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Ad(e,t,this.Ke,this.ke,r);return this.ke=oi(),this.qe=gc(),this.Qe=gc(),this.Ke=new ct(je),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Jy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new bt(je),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bt(je),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Jy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function gc(){return new ct(Ee.comparator)}function Zy(){return new ct(Ee.comparator)}const db={asc:"ASCENDING",desc:"DESCENDING"},hb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fb={and:"AND",or:"OR"};class pb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(n,e){return n.useProto3Json||wd(e)?e:{value:e}}function Jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $w(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mb(n,e){return Jc(n,e.toTimestamp())}function Ir(n){return Xe(!!n),be.fromTimestamp(function(t){const r=Ki(t);return new At(r.seconds,r.nanos)}(n))}function nm(n,e){return cp(n,e).canonicalString()}function cp(n,e){const t=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function zw(n){const e=ot.fromString(n);return Xe(Kw(e)),e}function dp(n,e){return nm(n.databaseId,e.path)}function Df(n,e){const t=zw(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(Hw(t))}function Bw(n,e){return nm(n.databaseId,e)}function gb(n){const e=zw(n);return e.length===4?ot.emptyPath():Hw(e)}function hp(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Hw(n){return Xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function e_(n,e,t){return{name:dp(n,e),fields:t.value.mapValue.fields}}function vb(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(Xe(y===void 0||typeof y=="string"),Bt.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Bt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const y=p.code===void 0?ne.UNKNOWN:Fw(p.code);return new ge(y,p.message||"")}(u);t=new jw(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Df(n,r.document.name),a=Ir(r.document.updateTime),u=r.document.createTime?Ir(r.document.createTime):be.min(),f=new mn({mapValue:{fields:r.document.fields}}),h=Xt.newFoundDocument(s,a,u,f),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Dc(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Df(n,r.document),a=r.readTime?Ir(r.readTime):be.min(),u=Xt.newNoDocument(s,a),f=r.removedTargetIds||[];t=new Dc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Df(n,r.document),a=r.removedTargetIds||[];t=new Dc([],a,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new ob(s,a),f=r.targetId;t=new Uw(f,u)}}return t}function yb(n,e){let t;if(e instanceof zl)t={update:e_(n,e.key,e.value)};else if(e instanceof Pd)t={delete:dp(n,e.key)};else if(e instanceof Zi)t={update:e_(n,e.key,e.data),updateMask:Pb(e.fieldMask)};else{if(!(e instanceof rb))return Re();t={verify:dp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof Yc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Yo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Xo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xc)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Re()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:mb(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(n,e.precondition)),t}function _b(n,e){return n&&n.length>0?(Xe(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?Ir(s.updateTime):Ir(a);return u.isEqual(be.min())&&(u=Ir(a)),new eb(u,s.transformResults||[])}(t,e))):[]}function wb(n,e){return{documents:[Bw(n,e.path)]}}function Eb(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Bw(n,s);const a=function(p){if(p.length!==0)return qw(Ar.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(y=>function(S){return{field:Mo(S.field),direction:Ib(S.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=up(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function Sb(n){let e=gb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Xe(r===1);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(w){const S=Ww(w);return S instanceof Ar&&Ew(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(S=>function(I){return new Qc(Fo(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(S))}(t.orderBy));let f=null;t.limit&&(f=function(w){let S;return S=typeof w=="object"?w.value:w,wd(S)?null:S}(t.limit));let h=null;t.startAt&&(h=function(w){const S=!!w.before,T=w.values||[];return new Gc(T,S)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const S=!w.before,T=w.values||[];return new Gc(T,S)}(t.endAt)),jA(e,s,u,a,f,"F",h,p)}function Tb(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ww(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fo(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fo(t.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fo(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fo(t.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Fo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ar.create(t.compositeFilter.filters.map(r=>Ww(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function Ib(n){return db[n]}function Cb(n){return hb[n]}function Rb(n){return fb[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function Fo(n){return zt.fromServerFormat(n.fieldPath)}function qw(n){return n instanceof Pt?function(t){if(t.op==="=="){if($y(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(jy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($y(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(jy(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:Cb(t.op),value:t.value}}}(n):n instanceof Ar?function(t){const r=t.getFilters().map(s=>qw(s));return r.length===1?r[0]:{compositeFilter:{op:Rb(t.op),filters:r}}}(n):Re()}function Pb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Kw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t,r,s,a=be.min(),u=be.min(),f=Bt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.ht=e}}function bb(n){const e=Sb({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.ln=new xb}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(qi.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class xb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new bt(ot.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Jo(0)}static Qn(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_([n,e],[t,r]){const s=je(n,t);return s===0?je(e,r):s}class Ob{constructor(e){this.Gn=e,this.buffer=new bt(n_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();n_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Db{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){la(t)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await aa(t)}await this.Yn(3e5)})}}class Nb{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(_d.oe);const r=new Ob(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(t_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,f,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,f=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),Vo()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${w} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function Vb(n,e){return new Nb(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.changes=new js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Sl(r.mutation,s,Cn.empty(),At.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const s=ks();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=pl();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ks();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,s){let a=oi();const u=El(),f=function(){return El()}();return t.forEach((h,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Zi)?a=a.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Sl(y.mutation,p,y.mutation.getFieldMask(),At.now())):u.set(p.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var w;return f.set(p,new Mb(y,(w=u.get(p))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const r=El();let s=new ct((u,f)=>u-f),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||Cn.empty();y=f.applyToLocalView(p,y),r.set(h,y);const w=(s.get(f.batchId)||Fe()).add(h);s=s.insert(f.batchId,w)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,y=h.value,w=bw();y.forEach(S=>{if(!a.has(S)){const T=Lw(t.get(S),r.get(S));T!==null&&w.set(S,T),a=a.add(S)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Z.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$A(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Z.resolve(ks());let f=-1,h=a;return u.next(p=>Z.forEach(p,(y,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(y)?Z.resolve():this.remoteDocumentCache.getEntry(e,y).next(S=>{h=h.insert(y,S)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Fe())).next(y=>({batchId:f,changes:Aw(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let s=pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=pl();return this.indexManager.getCollectionParents(e,a).next(f=>Z.forEach(f,h=>{const p=function(w,S){return new Sd(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((w,S)=>{u=u.insert(w,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((h,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Xt.newInvalidDocument(y)))});let f=pl();return u.forEach((h,p)=>{const y=a.get(h);y!==void 0&&Sl(y.mutation,p,Cn.empty(),At.now()),Id(t,p)&&(f=f.insert(h,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:bb(s.bundledQuery),readTime:Ir(s.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.overlays=new ct(Ee.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ks();return Z.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=ks(),a=t.length+1,u=new Ee(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ct((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=ks(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ks(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=s)););return Z.resolve(f)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new sb(t,r));let a=this.Er.get(t);a===void 0&&(a=Fe(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.dr=new bt(Nt.Ar),this.Rr=new bt(Nt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Nt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Nt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Ee(new ot([])),r=new Nt(t,e),s=new Nt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ee(new ot([])),r=new Nt(t,e),s=new Nt(t,e+1);let a=Fe();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Nt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ee.comparator(e.key,t.key)||je(e.br,t.br)}static Vr(e,t){return je(e.br,t.br)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new bt(Nt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ib(a,t,r,s);this.mutationQueue.push(u);for(const f of s)this.vr=this.vr.add(new Nt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Nt(t,0),s=new Nt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const f=this.Cr(u.br);a.push(f)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bt(je);return t.forEach(s=>{const a=new Nt(s,0),u=new Nt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],f=>{r=r.add(f.br)})}),Z.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const u=new Nt(new Ee(a),0);let f=new bt(je);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(f=f.add(h.br)),!0)},u),Z.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Xe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Z.forEach(t.mutations,s=>{const a=new Nt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Nt(t,0),s=this.vr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.Nr=e,this.docs=function(){return new ct(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let r=oi();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Xt.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=oi();const u=t.path,f=new Ee(u.child("")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||_A(yA(y),r)<=0||(s.has(y.key)||Id(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Re()}Lr(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Hb(this)}getSize(e){return Z.resolve(this.size)}}class Hb extends Lb{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.persistence=e,this.Br=new js(t=>Yp(t),Xp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.kr=0,this.qr=new rm,this.targetCount=0,this.Qr=Jo.qn()}forEachTarget(e,t){return this.Br.forEach((r,s)=>t(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Br.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),Z.waitFor(a).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new _d(0),this.Ur=!1,this.Ur=!0,this.Wr=new $b,this.referenceDelegate=e(this),this.Gr=new Wb(this),this.indexManager=new kb,this.remoteDocumentCache=function(s){return new Bb(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Ab(t),this.jr=new Ub(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new zb(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const s=new qb(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return Z.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class qb extends EA{constructor(e){super(),this.currentSequenceNumber=e}}class im{constructor(e){this.persistence=e,this.Zr=new rm,this.Xr=null}static ei(e){return new im(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,r=>{const s=Ee.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,be.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Zc{constructor(e,t){this.persistence=e,this.ri=new js(r=>IA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Vb(this,t)}static ei(e,t){return new Zc(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?Z.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Lr(e,u=>this.ir(e,u,t).next(f=>{f||(r++,a.removeEntry(u,be.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kc(e.data.value)),t}ir(e,t,r){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=Fe(),s=Fe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new sm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return LI()?8:SA(Jt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Kb;return this.ts(e,t,u).next(f=>{if(a.result=f,this.Hi)return this.ns(e,t,u,f.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(Vo()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(Vo()<=Me.DEBUG&&ce("QueryEngine","Query:",Lo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Vo()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(t))):Z.resolve())}Xi(e,t){if(Wy(t))return Z.resolve(null);let r=Tr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=lp(t,null,"F"),r=Tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Fe(...a);return this.Zi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.rs(t,f);return this.ss(t,p,u,h.readTime)?this.Xi(e,lp(t,null,"F")):this.os(e,p,t,h)}))})))}es(e,t,r,s){return Wy(t)||s.isEqual(be.min())?Z.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?Z.resolve(null):(Vo()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lo(t)),this.os(e,u,t,vA(s,-1)).next(f=>f))})}rs(e,t){let r=new bt(Rw(e));return t.forEach((s,a)=>{Id(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return Vo()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.Zi.getDocumentsMatchingQuery(e,t,qi.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new ct(je),this.cs=new js(a=>Yp(a),Xp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fb(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Yb(n,e,t,r){return new Qb(n,e,t,r)}async function Qw(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=Fe();for(const p of s){u.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of a){f.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:f}))})})}function Xb(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,h,p,y){const w=p.batch,S=w.keys();let T=Z.resolve();return S.forEach(I=>{T=T.next(()=>y.getEntry(h,I)).next(b=>{const P=p.docVersions.get(I);Xe(P!==null),b.version.compareTo(P)<0&&(w.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),y.addEntry(b)))})}),T.next(()=>f.mutationQueue.removeMutationBatch(h,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=Fe();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function Yw(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Jb(n,e){const t=ke(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const f=[];e.targetChanges.forEach((y,w)=>{const S=s.get(w);if(!S)return;f.push(t.Gr.removeMatchingKeys(a,y.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,y.addedDocuments,w)));let T=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?T=T.withResumeToken(Bt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),s=s.insert(w,T),function(b,P,O){return b.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(S,T,y)&&f.push(t.Gr.updateTargetData(a,T))});let h=oi(),p=Fe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),f.push(Zb(a,u,e.documentUpdates).next(y=>{h=y.Is,p=y.Es})),!r.isEqual(be.min())){const y=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(y)}return Z.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.us=s,a))}function Zb(n,e,t){let r=Fe(),s=Fe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=oi();return t.forEach((f,h)=>{const p=a.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(be.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):ce("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)}),{Is:u,Es:s}})}function ek(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tk(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,Z.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Ui(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function fp(n,e,t){const r=ke(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!la(u))throw u;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function r_(n,e,t){const r=ke(n);let s=be.min(),a=Fe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,p,y){const w=ke(h),S=w.cs.get(y);return S!==void 0?Z.resolve(w.us.get(S)):w.Gr.getTargetData(p,y)}(r,u,Tr(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:be.min(),t?a:Fe())).next(f=>(nk(r,BA(e),f),{documents:f,ds:a})))}function nk(n,e,t){let r=n.ls.get(e)||be.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class i_{constructor(){this.activeTargetIds=QA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rk{constructor(){this._o=new i_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new i_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function Nf(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class ak extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const f=Nf(),h=this.No(t,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${t}' ${f}:`,h,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,u),this.Bo(t,h,p,s).then(y=>(ce("RestConnection",`Received RPC '${t}' ${f}: `,y),y),y=>{throw qo("RestConnection",`RPC '${t}' ${f} failed with error: `,y,"url: ",h,"request:",s),y})}ko(t,r,s,a,u,f){return this.Oo(t,r,s,a,u)}Lo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=sk[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,s){const a=Nf();return new Promise((u,f)=>{const h=new uw;h.setWithCredentials(!0),h.listenOnce(cw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case bc.NO_ERROR:const y=h.getResponseJson();ce(Gt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case bc.TIMEOUT:ce(Gt,`RPC '${e}' ${a} timed out`),f(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const w=h.getStatus();if(ce(Gt,`RPC '${e}' ${a} failed with status:`,w,"response text:",h.getResponseText()),w>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const T=S==null?void 0:S.error;if(T&&T.status&&T.message){const I=function(P){const O=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(O)>=0?O:ne.UNKNOWN}(T.status);f(new ge(I,T.message))}else f(new ge(ne.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ce(Gt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ce(Gt,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",p,r,15)})}qo(e,t,r){const s=Nf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fw(),f=hw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=a.join("");ce(Gt,`Creating RPC '${e}' stream ${s}: ${y}`,h);const w=u.createWebChannel(y,h);let S=!1,T=!1;const I=new ok({Eo:P=>{T?ce(Gt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(S||(ce(Gt,`Opening RPC '${e}' stream ${s} transport.`),w.open(),S=!0),ce(Gt,`RPC '${e}' stream ${s} sending:`,P),w.send(P))},Ao:()=>w.close()}),b=(P,O,j)=>{P.listen(O,L=>{try{j(L)}catch(G){setTimeout(()=>{throw G},0)}})};return b(w,fl.EventType.OPEN,()=>{T||(ce(Gt,`RPC '${e}' stream ${s} transport opened.`),I.So())}),b(w,fl.EventType.CLOSE,()=>{T||(T=!0,ce(Gt,`RPC '${e}' stream ${s} transport closed`),I.Do())}),b(w,fl.EventType.ERROR,P=>{T||(T=!0,qo(Gt,`RPC '${e}' stream ${s} transport errored:`,P),I.Do(new ge(ne.UNAVAILABLE,"The operation could not be completed")))}),b(w,fl.EventType.MESSAGE,P=>{var O;if(!T){const j=P.data[0];Xe(!!j);const L=j,G=(L==null?void 0:L.error)||((O=L[0])===null||O===void 0?void 0:O.error);if(G){ce(Gt,`RPC '${e}' stream ${s} received error:`,G);const B=G.status;let J=function(x){const V=_t[x];if(V!==void 0)return Fw(V)}(B),k=G.message;J===void 0&&(J=ne.INTERNAL,k="Unknown error status: "+B+" with message "+G.message),T=!0,I.Do(new ge(J,k)),w.close()}else ce(Gt,`RPC '${e}' stream ${s} received:`,j),I.vo(j)}}),b(f,dw.STAT_EVENT,P=>{P.stat===rp.PROXY?ce(Gt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===rp.NOPROXY&&ce(Gt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.bo()},0),I}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(n){return new pb(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,r,s,a,u,f,h){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Xw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new ge(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lk extends Jw{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=vb(this.serializer,e),r=function(a){if(!("targetChange"in a))return be.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?Ir(u.readTime):be.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=hp(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=ap(h)?{documents:wb(a,h)}:{query:Eb(a,h).ct},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=$w(a,u.resumeToken);const p=up(a,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(be.min())>0){f.readTime=Jc(a,u.snapshotVersion.toTimestamp());const p=up(a,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=Tb(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=hp(this.serializer),t.removeTarget=e,this.c_(t)}}class uk extends Jw{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=_b(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=hp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>yb(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,cp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(ne.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.ko(e,cp(t,r),s,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ne.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class dk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(si(t),this.C_=!1):ce("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{$s(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=ke(h);p.k_.add(4),await Hl(p),p.K_.set("Unknown"),p.k_.delete(4),await kd(p)}(this))})}),this.K_=new dk(r,s)}}async function kd(n){if($s(n))for(const e of n.q_)await e(!0)}async function Hl(n){for(const e of n.q_)await e(!1)}function Zw(n,e){const t=ke(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),um(t)?lm(t):ua(t).s_()&&am(t,e))}function om(n,e){const t=ke(n),r=ua(t);t.B_.delete(e),r.s_()&&eE(t,e),t.B_.size===0&&(r.s_()?r.a_():$s(t)&&t.K_.set("Unknown"))}function am(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ua(n).V_(e)}function eE(n,e){n.U_.xe(e),ua(n).m_(e)}function lm(n){n.U_=new cb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ua(n).start(),n.K_.F_()}function um(n){return $s(n)&&!ua(n).i_()&&n.B_.size>0}function $s(n){return ke(n).k_.size===0}function tE(n){n.U_=void 0}async function fk(n){n.K_.set("Online")}async function pk(n){n.B_.forEach((e,t)=>{am(n,e)})}async function mk(n,e){tE(n),um(n)?(n.K_.O_(e),lm(n)):n.K_.set("Unknown")}async function gk(n,e,t){if(n.K_.set("Online"),e instanceof jw&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const f of a.targetIds)s.B_.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.B_.delete(f),s.U_.removeTarget(f))}(n,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ed(n,r)}else if(e instanceof Dc?n.U_.$e(e):e instanceof Uw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(be.min()))try{const r=await Yw(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.U_.it(u);return f.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=a.B_.get(p);y&&a.B_.set(p,y.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,p)=>{const y=a.B_.get(h);if(!y)return;a.B_.set(h,y.withResumeToken(Bt.EMPTY_BYTE_STRING,y.snapshotVersion)),eE(a,h);const w=new Ui(y.target,h,p,y.sequenceNumber);am(a,w)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await ed(n,r)}}async function ed(n,e,t){if(!la(e))throw e;n.k_.add(1),await Hl(n),n.K_.set("Offline"),t||(t=()=>Yw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await kd(n)})}function nE(n,e){return e().catch(t=>ed(n,t,e))}async function xd(n){const e=ke(n),t=Yi(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;vk(e);)try{const s=await ek(e.localStore,r);if(s===null){e.L_.length===0&&t.a_();break}r=s.batchId,yk(e,s)}catch(s){await ed(e,s)}rE(e)&&iE(e)}function vk(n){return $s(n)&&n.L_.length<10}function yk(n,e){n.L_.push(e);const t=Yi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function rE(n){return $s(n)&&!Yi(n).i_()&&n.L_.length>0}function iE(n){Yi(n).start()}async function _k(n){Yi(n).w_()}async function wk(n){const e=Yi(n);for(const t of n.L_)e.g_(t.mutations)}async function Ek(n,e,t){const r=n.L_.shift(),s=em.from(r,e,t);await nE(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await xd(n)}async function Sk(n,e){e&&Yi(n).f_&&await async function(r,s){if(function(u){return ab(u)&&u!==ne.ABORTED}(s.code)){const a=r.L_.shift();Yi(r).__(),await nE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await xd(r)}}(n,e),rE(n)&&iE(n)}async function o_(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=$s(t);t.k_.add(3),await Hl(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await kd(t)}async function Tk(n,e){const t=ke(n);e?(t.k_.delete(2),await kd(t)):e||(t.k_.add(2),await Hl(t),t.K_.set("Unknown"))}function ua(n){return n.W_||(n.W_=function(t,r,s){const a=ke(t);return a.b_(),new lk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:fk.bind(null,n),mo:pk.bind(null,n),po:mk.bind(null,n),R_:gk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),um(n)?lm(n):n.K_.set("Unknown")):(await n.W_.stop(),tE(n))})),n.W_}function Yi(n){return n.G_||(n.G_=function(t,r,s){const a=ke(t);return a.b_(),new uk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:_k.bind(null,n),po:Sk.bind(null,n),p_:wk.bind(null,n),y_:Ek.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await xd(n)):(await n.G_.stop(),n.L_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,f=new cm(e,t,u,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(n,e){if(si("AsyncQueue",`${e}: ${n}`),la(n))return new ge(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=pl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.z_=new ct(Ee.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zo{constructor(e,t,r,s,a,u,f,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Zo(e,t,zo.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Ck{constructor(){this.queries=l_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=ke(t),a=s.queries;s.queries=l_(),a.forEach((u,f)=>{for(const h of f.J_)h.onError(r)})})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function l_(){return new js(n=>Cw(n),Td)}async function sE(n,e){const t=ke(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new Ik,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=dm(u,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&hm(t)}async function oE(n,e){const t=ke(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Rk(n,e){const t=ke(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const f of u.J_)f.ta(s)&&(r=!0);u.H_=s}}r&&hm(t)}function Pk(n,e,t){const r=ke(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function hm(n){n.X_.forEach(e=>{e.next()})}var pp,u_;(u_=pp||(pp={})).na="default",u_.Cache="cache";class aE{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.key=e}}class uE{constructor(e){this.key=e}}class Ak{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Fe(),this.mutatedKeys=Fe(),this.Va=Rw(e),this.ma=new zo(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new a_,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,w)=>{const S=s.get(y),T=Id(this.query,w)?w:null,I=!!S&&this.mutatedKeys.has(S.key),b=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;S&&T?S.data.isEqual(T.data)?I!==b&&(r.track({type:3,doc:T}),P=!0):this.ya(S,T)||(r.track({type:2,doc:T}),P=!0,(h&&this.Va(T,h)>0||p&&this.Va(T,p)<0)&&(f=!0)):!S&&T?(r.track({type:0,doc:T}),P=!0):S&&!T&&(r.track({type:1,doc:S}),P=!0,(h||p)&&(f=!0)),P&&(T?(u=u.add(T),a=b?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{ma:u,pa:r,ss:f,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((y,w)=>function(T,I){const b=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return b(T)-b(I)}(y.type,w.type)||this.Va(y.doc,w.doc)),this.wa(r),s=s!=null&&s;const f=t&&!s?this.Sa():[],h=this.Ra.size===0&&this.current&&!s?1:0,p=h!==this.Aa;return this.Aa=h,u.length!==0||p?{snapshot:new Zo(this.query,e.ma,a,u,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new a_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Fe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new uE(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new lE(r))}),t}va(e){this.da=e.ds,this.Ra=Fe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Zo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class bk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class kk{constructor(e){this.key=e,this.Fa=!1}}class xk{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new js(f=>Cw(f),Td),this.Oa=new Map,this.Na=new Set,this.La=new ct(Ee.comparator),this.Ba=new Map,this.ka=new rm,this.qa={},this.Qa=new Map,this.Ka=Jo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Ok(n,e,t=!0){const r=mE(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await cE(r,e,t,!0),s}async function Dk(n,e){const t=mE(n);await cE(t,e,!0,!1)}async function cE(n,e,t,r){const s=await tk(n.localStore,Tr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await Nk(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Zw(n.remoteStore,s),f}async function Nk(n,e,t,r,s){n.Ua=(w,S,T)=>async function(b,P,O,j){let L=P.view.ga(O);L.ss&&(L=await r_(b.localStore,P.query,!1).then(({documents:k})=>P.view.ga(k,L)));const G=j&&j.targetChanges.get(P.targetId),B=j&&j.targetMismatches.get(P.targetId)!=null,J=P.view.applyChanges(L,b.isPrimaryClient,G,B);return d_(b,P.targetId,J.ba),J.snapshot}(n,w,S,T);const a=await r_(n.localStore,e,!0),u=new Ak(e,a.ds),f=u.ga(a.documents),h=Bl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(f,n.isPrimaryClient,h);d_(n,t,p.ba);const y=new bk(e,t,u);return n.xa.set(e,y),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function Vk(n,e,t){const r=ke(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!Td(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await fp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&om(r.remoteStore,s.targetId),mp(r,s.targetId)}).catch(aa)):(mp(r,s.targetId),await fp(r.localStore,s.targetId,!0))}async function Lk(n,e){const t=ke(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),om(t.remoteStore,r.targetId))}async function Mk(n,e,t){const r=Hk(n);try{const s=await function(u,f){const h=ke(u),p=At.now(),y=f.reduce((T,I)=>T.add(I.key),Fe());let w,S;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=oi(),b=Fe();return h.hs.getEntries(T,y).next(P=>{I=P,I.forEach((O,j)=>{j.isValidDocument()||(b=b.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,I)).next(P=>{w=P;const O=[];for(const j of f){const L=nb(j,w.get(j.key).overlayedDocument);L!=null&&O.push(new Zi(j.key,L,yw(L.value.mapValue),gn.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,O,f)}).next(P=>{S=P;const O=P.applyToLocalDocumentSet(w,b);return h.documentOverlayCache.saveOverlays(T,P.batchId,O)})}).then(()=>({batchId:S.batchId,changes:Aw(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,h){let p=u.qa[u.currentUser.toKey()];p||(p=new ct(je)),p=p.insert(f,h),u.qa[u.currentUser.toKey()]=p}(r,s.batchId,t),await Wl(r,s.changes),await xd(r.remoteStore)}catch(s){const a=dm(s,"Failed to persist write");t.reject(a)}}async function dE(n,e){const t=ke(n);try{const r=await Jb(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ba.get(a);u&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?Xe(u.Fa):s.removedDocuments.size>0&&(Xe(u.Fa),u.Fa=!1))}),await Wl(t,r,e)}catch(r){await aa(r)}}function c_(n,e,t){const r=ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const f=u.view.ea(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const h=ke(u);h.onlineState=f;let p=!1;h.queries.forEach((y,w)=>{for(const S of w.J_)S.ea(f)&&(p=!0)}),p&&hm(h)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Fk(n,e,t){const r=ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ba.get(e),a=s&&s.key;if(a){let u=new ct(Ee.comparator);u=u.insert(a,Xt.newNoDocument(a,be.min()));const f=Fe().add(a),h=new Ad(be.min(),new Map,new ct(je),u,f);await dE(r,h),r.La=r.La.remove(a),r.Ba.delete(e),fm(r)}else await fp(r.localStore,e,!1).then(()=>mp(r,e,t)).catch(aa)}async function Uk(n,e){const t=ke(n),r=e.batch.batchId;try{const s=await Xb(t.localStore,e);fE(t,r,null),hE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Wl(t,s)}catch(s){await aa(s)}}async function jk(n,e,t){const r=ke(n);try{const s=await function(u,f){const h=ke(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,f).next(w=>(Xe(w!==null),y=w.keys(),h.mutationQueue.removeMutationBatch(p,w))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);fE(r,e,t),hE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Wl(r,s)}catch(s){await aa(s)}}function hE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function fE(n,e,t){const r=ke(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function mp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||pE(n,r)})}function pE(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(om(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),fm(n))}function d_(n,e,t){for(const r of t)r instanceof lE?(n.ka.addReference(r.key,e),$k(n,r)):r instanceof uE?(ce("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||pE(n,r.key)):Re()}function $k(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(ce("SyncEngine","New document in limbo: "+t),n.Na.add(r),fm(n))}function fm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ee(ot.fromString(e)),r=n.Ka.next();n.Ba.set(r,new kk(t)),n.La=n.La.insert(t,r),Zw(n.remoteStore,new Ui(Tr(Jp(t.path)),r,"TargetPurposeLimboResolution",_d.oe))}}async function Wl(n,e,t){const r=ke(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((f,h)=>{u.push(r.Ua(h,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,w?"current":"not-current")}if(p){s.push(p);const w=sm.zi(h.targetId,p);a.push(w)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(h,p){const y=ke(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(p,S=>Z.forEach(S.Wi,T=>y.persistence.referenceDelegate.addReference(w,S.targetId,T)).next(()=>Z.forEach(S.Gi,T=>y.persistence.referenceDelegate.removeReference(w,S.targetId,T)))))}catch(w){if(!la(w))throw w;ce("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const S=w.targetId;if(!w.fromCache){const T=y.us.get(S),I=T.snapshotVersion,b=T.withLastLimboFreeSnapshotVersion(I);y.us=y.us.insert(S,b)}}}(r.localStore,a))}async function zk(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await Qw(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(f=>{f.forEach(h=>{h.reject(new ge(ne.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wl(t,r.Ts)}}function Bk(n,e){const t=ke(n),r=t.Ba.get(e);if(r&&r.Fa)return Fe().add(r.key);{let s=Fe();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const f=t.xa.get(u);s=s.unionWith(f.view.fa)}return s}}function mE(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fk.bind(null,e),e.Ma.R_=Rk.bind(null,e.eventManager),e.Ma.Wa=Pk.bind(null,e.eventManager),e}function Hk(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jk.bind(null,e),e}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Yb(this.persistence,new Gb,e.initialUser,this.serializer)}ja(e){return new Gw(im.ei,this.serializer)}za(e){return new rk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class Wk extends td{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Xe(this.persistence.referenceDelegate instanceof Zc);const r=this.persistence.referenceDelegate.garbageCollector;return new Db(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Gw(r=>Zc.ei(r,t),this.serializer)}}class gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zk.bind(null,this.syncEngine),await Tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ck}()}createDatastore(e){const t=bd(e.databaseInfo.databaseId),r=function(a){return new ak(a)}(e.databaseInfo);return function(a,u,f,h){return new ck(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,f){return new hk(r,s,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>c_(this.syncEngine,t,0),function(){return s_.p()?new s_:new ik}())}createSyncEngine(e,t){return function(s,a,u,f,h,p,y){const w=new xk(s,a,u,f,h,p);return y&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=ke(s);ce("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Hl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Yt.UNAUTHENTICATED,this.clientId=mw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ce("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=dm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lf(n,e){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Qw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function h_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Kk(n);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>o_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>o_(e.remoteStore,s)),n._onlineComponents=e}async function Kk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),await Lf(n,new td)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Lf(n,new Wk(void 0));return n._offlineComponents}async function vE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await h_(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await h_(n,new gp))),n._onlineComponents}function Gk(n){return vE(n).then(e=>e.syncEngine)}async function yE(n){const e=await vE(n),t=e.eventManager;return t.onListen=Ok.bind(null,e.syncEngine),t.onUnlisten=Vk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Dk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Lk.bind(null,e.syncEngine),t}function Qk(n,e,t={}){const r=new ti;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,p){const y=new gE({next:S=>{y.eu(),u.enqueueAndForget(()=>oE(a,w));const T=S.docs.has(f);!T&&S.fromCache?p.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&S.fromCache&&h&&h.source==="server"?p.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),w=new aE(Jp(f.path),y,{includeMetadataChanges:!0,ua:!0});return sE(a,w)}(await yE(n),n.asyncQueue,e,t,r)),r.promise}function Yk(n,e,t={}){const r=new ti;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,p){const y=new gE({next:S=>{y.eu(),u.enqueueAndForget(()=>oE(a,w)),S.fromCache&&h.source==="server"?p.reject(new ge(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),w=new aE(f,y,{includeMetadataChanges:!0,ua:!0});return sE(a,w)}(await yE(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n,e,t){if(!t)throw new ge(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Xk(n,e,t,r){if(e===!0&&r===!0)throw new ge(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function p_(n){if(!Ee.isDocumentKey(n))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function m_(n){if(Ee.isDocumentKey(n))throw new ge(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function br(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pm(n);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_E((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lA;switch(r.type){case"firstParty":return new hA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=f_.get(t);r&&(ce("ComponentProvider","Removing Datastore"),f_.delete(t),r.terminate())}(this),Promise.resolve()}}function Jk(n,e,t,r={}){var s;const a=(n=br(n,Od))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Yt.MOCK_USER;else{f=bI(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Yt(p)}n._authCredentials=new uA(new pw(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dd(this.firestore,e,this._query)}}class Rn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Hi extends Dd{constructor(e,t,r){super(e,t,Jp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ee(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function rn(n,e,...t){if(n=Vt(n),wE("collection","path",e),n instanceof Od){const r=ot.fromString(e,...t);return m_(r),new Hi(n,null,r)}{if(!(n instanceof Rn||n instanceof Hi))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return m_(r),new Hi(n.firestore,null,r)}}function Et(n,e,...t){if(n=Vt(n),arguments.length===1&&(e=mw.newId()),wE("doc","path",e),n instanceof Od){const r=ot.fromString(e,...t);return p_(r),new Rn(n,null,new Ee(r))}{if(!(n instanceof Rn||n instanceof Hi))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return p_(r),new Rn(n.firestore,n instanceof Hi?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Xw(this,"async_queue_retry"),this.fu=()=>{const r=Vf();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Vf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Vf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new ti;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!la(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw si("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=cm.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(s),s}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class zs extends Od{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new v_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v_(e),this._firestoreClient=void 0,await e}}}function Zk(n,e){const t=typeof n=="object"?n:C0(),r=typeof n=="string"?n:"(default)",s=Mp(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=PI("firestore");a&&Jk(s,...a)}return s}function Nd(n){if(n._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ex(n),n._firestoreClient}function ex(n){var e,t,r;const s=n._freezeSettings(),a=function(f,h,p,y){return new PA(f,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,_E(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new qk(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(Bt.fromBase64String(e))}catch(t){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ea(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=/^__.*__$/;class nx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class EE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function SE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Vd{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return nd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(SE(this.Mu)&&tx.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class rx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bd(e)}$u(e,t,r,s=!1){return new Vd({Mu:e,methodName:t,Ku:r,path:zt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vm(n){const e=n._freezeSettings(),t=bd(n._databaseId);return new rx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TE(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);wm("Data must be an object, but it was:",u,r);const f=PE(r,u);let h,p;if(a.merge)h=new Cn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const S=vp(e,w,t);if(!u.contains(S))throw new ge(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);bE(y,S)||y.push(S)}h=new Cn(y),p=u.fieldTransforms.filter(w=>h.covers(w.field))}else h=null,p=u.fieldTransforms;return new nx(new mn(f),h,p)}class Ld extends Kl{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ld}}function IE(n,e,t){return new Vd({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ym extends Kl{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=IE(this,e,!0),r=this.Uu.map(a=>ca(a,t)),s=new Yo(r);return new Vw(e.path,s)}isEqual(e){return e instanceof ym&&Ho(this.Uu,e.Uu)}}class _m extends Kl{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=IE(this,e,!0),r=this.Uu.map(a=>ca(a,t)),s=new Xo(r);return new Vw(e.path,s)}isEqual(e){return e instanceof _m&&Ho(this.Uu,e.Uu)}}function CE(n,e,t,r){const s=n.$u(1,e,t);wm("Data must be an object, but it was:",s,r);const a=[],u=mn.empty();Ji(r,(h,p)=>{const y=Em(e,h,t);p=Vt(p);const w=s.Bu(y);if(p instanceof Ld)a.push(y);else{const S=ca(p,w);S!=null&&(a.push(y),u.set(y,S))}});const f=new Cn(a);return new EE(u,f,s.fieldTransforms)}function RE(n,e,t,r,s,a){const u=n.$u(1,e,t),f=[vp(e,r,t)],h=[s];if(a.length%2!=0)throw new ge(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)f.push(vp(e,a[S])),h.push(a[S+1]);const p=[],y=mn.empty();for(let S=f.length-1;S>=0;--S)if(!bE(p,f[S])){const T=f[S];let I=h[S];I=Vt(I);const b=u.Bu(T);if(I instanceof Ld)p.push(T);else{const P=ca(I,b);P!=null&&(p.push(T),y.set(T,P))}}const w=new Cn(p);return new EE(y,w,u.fieldTransforms)}function ca(n,e){if(AE(n=Vt(n)))return wm("Unsupported field value:",e,n),PE(n,e);if(n instanceof Kl)return function(r,s){if(!SE(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const f of r){let h=ca(f,s.ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=At.fromDate(r);return{timestampValue:Jc(s.serializer,a)}}if(r instanceof At){const a=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jc(s.serializer,a)}}if(r instanceof mm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ea)return{bytesValue:$w(s.serializer,r._byteString)};if(r instanceof Rn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:nm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gm)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw f.qu("VectorValues must only contain numeric values.");return Zp(f.serializer,h)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${pm(r)}`)}(n,e)}function PE(n,e){const t={};return gw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(n,(r,s)=>{const a=ca(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function AE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof mm||n instanceof ea||n instanceof Rn||n instanceof Kl||n instanceof gm)}function wm(n,e,t){if(!AE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=pm(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function vp(n,e,t){if((e=Vt(e))instanceof ql)return e._internalPath;if(typeof e=="string")return Em(n,e);throw nd("Field path arguments must be of type string or ",n,!1,void 0,t)}const ix=new RegExp("[~\\*/\\[\\]]");function Em(n,e,t){if(e.search(ix)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ql(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nd(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new ge(ne.INVALID_ARGUMENT,f+n+h)}function bE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sx extends kE{data(){return super.data()}}function xE(n,e){return typeof e=="string"?Em(n,e):e instanceof ql?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ax{convertValue(e,t="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ji(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>mt(u.doubleValue));return new gm(a)}convertGeoPoint(e){return new mm(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ed(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=Ki(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);Xe(Kw(r));const s=new Al(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return s.isEqual(t)||si(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DE extends kE{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Nc extends DE{data(e={}){return super.data(e)}}class lx{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nc(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const h=new Nc(s._firestore,s._userDataWriter,f.doc.key,f.doc,new gl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new Nc(s._firestore,s._userDataWriter,f.doc.key,f.doc,new gl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:ux(f.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ux(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n){n=br(n,Rn);const e=br(n.firestore,zs);return Qk(Nd(e),n._key).then(t=>dx(e,n,t))}class NE extends ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function es(n){n=br(n,Dd);const e=br(n.firestore,zs),t=Nd(e),r=new NE(e);return ox(n._query),Yk(t,n._query).then(s=>new lx(e,r,n,s))}function ir(n,e,t,...r){n=br(n,Rn);const s=br(n.firestore,zs),a=vm(s);let u;return u=typeof(e=Vt(e))=="string"||e instanceof ql?RE(a,"updateDoc",n._key,e,t,r):CE(a,"updateDoc",n._key,e),Md(s,[u.toMutation(n._key,gn.exists(!0))])}function da(n){return Md(br(n.firestore,zs),[new Pd(n._key,gn.none())])}function ha(n,e){const t=br(n.firestore,zs),r=Et(n),s=OE(n.converter,e);return Md(t,[TE(vm(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,gn.exists(!1))]).then(()=>r)}function Md(n,e){return function(r,s){const a=new ti;return r.asyncQueue.enqueueAndForget(async()=>Mk(await Gk(r),s,a)),a.promise}(Nd(n),e)}function dx(n,e,t){const r=t.docs.get(e._key),s=new NE(n);return new DE(n,s,e._key,r,new gl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vm(e)}set(e,t,r){this._verifyNotCommitted();const s=Mf(e,this._firestore),a=OE(s.converter,t,r),u=TE(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,gn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const a=Mf(e,this._firestore);let u;return u=typeof(t=Vt(t))=="string"||t instanceof ql?RE(this._dataReader,"WriteBatch.update",a._key,t,r,s):CE(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mf(e,this._firestore);return this._mutations=this._mutations.concat(new Pd(t._key,gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ge(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mf(n,e){if((n=Vt(n)).firestore!==e)throw new ge(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Sm(...n){return new ym("arrayUnion",n)}function Tm(...n){return new _m("arrayRemove",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(n){return Nd(n=br(n,zs)),new hx(n,e=>Md(n,e))}(function(e,t=!0){(function(s){oa=s})(sa),Wo(new Os("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new zs(new cA(r.getProvider("auth-internal")),new pA(r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(p.options.projectId,y)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),zi(Ny,"4.7.5",e),zi(Ny,"4.7.5","esm2017")})();const px={apiKey:"AIzaSyAxlL6dXgQ2JOjkwUNeWTdpretOWzf55tk",authDomain:"learn-track-center.firebaseapp.com",projectId:"learn-track-center",storageBucket:"learn-track-center.firebasestorage.app",messagingSenderId:'"651698569013",',appId:"1:651698569013:web:d8a9a0d97fef19f23bd67c",measurementId:"G-SHQ8L381Z5"},VE=I0(px),Be=Zk(VE),mx=iA(VE),EV=new Qr,LE=()=>{const[n,e]=A.useState(null),[t,r]=A.useState(!0);return A.useEffect(()=>{const s=GR(mx,a=>{e(a),r(!1)});return()=>s()},[]),{user:n,loading:t}},Fd=({type:n="loader",children:e,text:t,className:r})=>M.jsx("div",{className:`loading-container ${r}`,children:n==="spinner"||e?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"spinner"}),t&&M.jsx("p",{children:t}),M.jsx("p",{children:e})]}):M.jsxs(M.Fragment,{children:[t&&M.jsx("div",{className:"loading-text",children:M.jsx("p",{children:t})}),M.jsx("div",{className:"loader",children:e})]})}),yr=({element:n})=>{const{user:e,loading:t}=LE();return t?M.jsx(Fd,{}):e?M.jsx(M.Fragment,{children:n}):M.jsx(d0,{to:"/",replace:!0})};function Ls(n,e){const[t,r]=A.useState(()=>{try{const s=window.localStorage.getItem(n);return s?JSON.parse(s):e}catch(s){return console.error(s),e}});return A.useEffect(()=>{try{window.localStorage.setItem(n,JSON.stringify(t))}catch(s){console.error(s)}},[n,t]),[t,r]}const gx=({message:n,type:e,timeout:t=5e3,onClose:r})=>(A.useEffect(()=>{if(t===0)return;const s=setTimeout(()=>{r()},t);return()=>clearTimeout(s)},[r,t]),M.jsxs("div",{className:`notification ${e}`,children:[M.jsx("span",{children:n}),M.jsx("button",{className:"close-button",onClick:r,children:"✖"})]})),ME=A.createContext(void 0),Ud=()=>{const n=A.useContext(ME);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n},vx=({children:n})=>{const[e,t]=A.useState([]),r=(a,u,f)=>{const h=Date.now();t(p=>{const y=[...p,{id:h,message:a,type:u,timeout:f}];return y.length>5?y.slice(-5):y}),f&&f>0&&setTimeout(()=>{s(h)},f)},s=a=>{t(u=>u.filter(f=>f.id!==a))};return M.jsxs(ME.Provider,{value:{showNotification:r},children:[M.jsx("div",{className:"notification-container",children:e.map(a=>M.jsx(gx,{message:a.message,type:a.type,onClose:()=>s(a.id),timeout:a.timeout},a.id))}),n]})},yx=async()=>{const n=rn(Be,"courses");return(await es(n)).docs.map(t=>({id:t.id,...t.data()}))},FE=async n=>{const e=rn(Be,`periods/${n}/courses`);return(await es(e)).docs.map(r=>({id:r.id,...r.data()}))},_x=async(n,e)=>{const t=rn(Be,`periods/${n}/courses`),r=await ha(t,{...e});console.log("Course added with ID: ",r.id);const s=Et(Be,`periods/${n}`);await ir(s,{coursesIds:Sm(r.id)})},wx=async(n,e)=>{const t=Et(Be,`periods/${n}/courses`,e);await da(t);const r=Et(Be,`periods/${n}`);await ir(r,{coursesIds:Tm(e)})},Ex=async(n,e,t)=>{const r=Et(Be,`periods/${n}/courses`,e),{id:s,...a}=t;await ir(r,a),console.log("Course updated with ID: ",e)},UE=A.createContext(void 0),Sx=({children:n})=>{const[e,t]=A.useState(!1),[r,s]=A.useState("");return M.jsxs(UE.Provider,{value:{isLoading:e,loadingText:r,setIsLoading:t,setLoadingText:s},children:[e&&M.jsx(Fd,{text:r}),n]})},jd=()=>{const n=A.useContext(UE);if(n===void 0)throw new Error("useLoading must be used within a LoadingProvider");return n},jE=async()=>{const n=rn(Be,"teachers");return(await es(n)).docs.map(r=>({id:r.id,...r.data()}))},Tx=async n=>{const e=rn(Be,"teachers");await ha(e,n)},Ix=async n=>{const e=Et(Be,"teachers",n);await da(e)},Cx=n=>{const[e,t]=A.useState([]),[r,s]=A.useState(!0),[a,u]=A.useState(null),[f,h]=Ls("availableTeachers",[]),[p,y]=Ls("availableCourses",[]),{showNotification:w}=Ud(),{setIsLoading:S}=jd();A.useEffect(()=>{S(r)},[r,S]);const T=async()=>{try{s(!0);const L=await FE(n),G=L.map(B=>{const J=f.find(k=>k.id===B.teacherId);return{...B,teacherName:J?J.name:"Unknown Course"}});console.log({data:L,detailedData:G}),t(G)}catch{w("Error fetching courses","error")}finally{s(!1)}},I=async()=>{try{s(!0);const L=await yx();console.log({data:L}),y(L)}catch{w("Error fetching courses","error")}finally{s(!1)}},b=async()=>{try{s(!0);const L=await jE();h(L)}catch{w("Error fetching courses","error")}finally{s(!1)}};return A.useEffect(()=>{T(),I(),b()},[]),{courses:e,availableCourses:p,availableTeachers:f,loading:r,error:a,handleAddCourse:async L=>{try{if(e.filter(G=>G.courseId===L.courseId).length>0){w("Course already added","error");return}s(!0),await _x(n,L),T()}catch{w("Error adding course","error")}finally{s(!1)}},handleDeleteCourse:async L=>{try{if(!L)return;s(!0),await wx(n,L),T()}catch{u("Error deleting course"),w("Error deleting course","error")}finally{s(!1)}},handleUpdateCourse:async(L,G)=>{try{if(!n)return;s(!0),await Ex(n,L,G),T()}catch{u("Error update course"),w("Error update course","error")}finally{s(!1)}}}};function Ms(n){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(n)}function Rx(n,e){if(Ms(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $E(n){var e=Rx(n,"string");return Ms(e)=="symbol"?e:e+""}function vl(n,e,t){return(e=$E(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function y_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function we(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y_(Object(t),!0).forEach(function(r){vl(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Px(n){if(Array.isArray(n))return n}function Ax(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,a,u,f=[],h=!0,p=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(r=a.call(t)).done)&&(f.push(r.value),f.length!==e);h=!0);}catch(y){p=!0,s=y}finally{try{if(!h&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(p)throw s}}return f}}function yp(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function zE(n,e){if(n){if(typeof n=="string")return yp(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yp(n,e):void 0}}function bx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ni(n,e){return Px(n)||Ax(n,e)||zE(n,e)||bx()}function kx(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function ui(n,e){if(n==null)return{};var t,r,s=kx(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var xx=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Ox(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,s=r===void 0?!1:r,a=n.defaultValue,u=a===void 0?null:a,f=n.inputValue,h=n.menuIsOpen,p=n.onChange,y=n.onInputChange,w=n.onMenuClose,S=n.onMenuOpen,T=n.value,I=ui(n,xx),b=A.useState(f!==void 0?f:t),P=ni(b,2),O=P[0],j=P[1],L=A.useState(h!==void 0?h:s),G=ni(L,2),B=G[0],J=G[1],k=A.useState(T!==void 0?T:u),R=ni(k,2),x=R[0],V=R[1],U=A.useCallback(function(se,de){typeof p=="function"&&p(se,de),V(se)},[p]),z=A.useCallback(function(se,de){var te;typeof y=="function"&&(te=y(se,de)),j(te!==void 0?te:se)},[y]),N=A.useCallback(function(){typeof S=="function"&&S(),J(!0)},[S]),He=A.useCallback(function(){typeof w=="function"&&w(),J(!1)},[w]),Le=f!==void 0?f:O,Ne=h!==void 0?h:B,xe=T!==void 0?T:x;return we(we({},I),{},{inputValue:Le,menuIsOpen:Ne,onChange:U,onInputChange:z,onMenuClose:He,onMenuOpen:N,value:xe})}function Se(){return Se=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Se.apply(null,arguments)}function Dx(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function __(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,$E(r.key),r)}}function Nx(n,e,t){return __(n.prototype,e),__(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function _p(n,e){return _p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},_p(n,e)}function Vx(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_p(n,e)}function rd(n){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rd(n)}function BE(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BE=function(){return!!n})()}function Lx(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Mx(n,e){if(e&&(Ms(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lx(n)}function Fx(n){var e=BE();return function(){var t,r=rd(n);if(e){var s=rd(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return Mx(this,t)}}function Ux(n){if(Array.isArray(n))return yp(n)}function jx(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Im(n){return Ux(n)||jx(n)||zE(n)||$x()}var zx=!1;function Bx(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Hx(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Wx=function(){function n(t){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!zx:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Hx(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Bx(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Qt="-ms-",id="-moz-",Ge="-webkit-",HE="comm",Cm="rule",Rm="decl",qx="@import",WE="@keyframes",Kx="@layer",Gx=Math.abs,$d=String.fromCharCode,Qx=Object.assign;function Yx(n,e){return $t(n,0)^45?(((e<<2^$t(n,0))<<2^$t(n,1))<<2^$t(n,2))<<2^$t(n,3):0}function qE(n){return n.trim()}function Xx(n,e){return(n=e.exec(n))?n[0]:n}function Qe(n,e,t){return n.replace(e,t)}function wp(n,e){return n.indexOf(e)}function $t(n,e){return n.charCodeAt(e)|0}function kl(n,e,t){return n.slice(e,t)}function _r(n){return n.length}function Pm(n){return n.length}function yc(n,e){return e.push(n),n}function Jx(n,e){return n.map(e).join("")}var zd=1,ta=1,KE=0,vn=0,wt=0,fa="";function Bd(n,e,t,r,s,a,u){return{value:n,root:e,parent:t,type:r,props:s,children:a,line:zd,column:ta,length:u,return:""}}function dl(n,e){return Qx(Bd("",null,null,"",null,null,0),n,{length:-n.length},e)}function Zx(){return wt}function eO(){return wt=vn>0?$t(fa,--vn):0,ta--,wt===10&&(ta=1,zd--),wt}function Pn(){return wt=vn<KE?$t(fa,vn++):0,ta++,wt===10&&(ta=1,zd++),wt}function Cr(){return $t(fa,vn)}function Vc(){return vn}function Gl(n,e){return kl(fa,n,e)}function xl(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GE(n){return zd=ta=1,KE=_r(fa=n),vn=0,[]}function QE(n){return fa="",n}function Lc(n){return qE(Gl(vn-1,Ep(n===91?n+2:n===40?n+1:n)))}function tO(n){for(;(wt=Cr())&&wt<33;)Pn();return xl(n)>2||xl(wt)>3?"":" "}function nO(n,e){for(;--e&&Pn()&&!(wt<48||wt>102||wt>57&&wt<65||wt>70&&wt<97););return Gl(n,Vc()+(e<6&&Cr()==32&&Pn()==32))}function Ep(n){for(;Pn();)switch(wt){case n:return vn;case 34:case 39:n!==34&&n!==39&&Ep(wt);break;case 40:n===41&&Ep(n);break;case 92:Pn();break}return vn}function rO(n,e){for(;Pn()&&n+wt!==57;)if(n+wt===84&&Cr()===47)break;return"/*"+Gl(e,vn-1)+"*"+$d(n===47?n:Pn())}function iO(n){for(;!xl(Cr());)Pn();return Gl(n,vn)}function sO(n){return QE(Mc("",null,null,null,[""],n=GE(n),0,[0],n))}function Mc(n,e,t,r,s,a,u,f,h){for(var p=0,y=0,w=u,S=0,T=0,I=0,b=1,P=1,O=1,j=0,L="",G=s,B=a,J=r,k=L;P;)switch(I=j,j=Pn()){case 40:if(I!=108&&$t(k,w-1)==58){wp(k+=Qe(Lc(j),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:k+=Lc(j);break;case 9:case 10:case 13:case 32:k+=tO(I);break;case 92:k+=nO(Vc()-1,7);continue;case 47:switch(Cr()){case 42:case 47:yc(oO(rO(Pn(),Vc()),e,t),h);break;default:k+="/"}break;case 123*b:f[p++]=_r(k)*O;case 125*b:case 59:case 0:switch(j){case 0:case 125:P=0;case 59+y:O==-1&&(k=Qe(k,/\f/g,"")),T>0&&_r(k)-w&&yc(T>32?E_(k+";",r,t,w-1):E_(Qe(k," ","")+";",r,t,w-2),h);break;case 59:k+=";";default:if(yc(J=w_(k,e,t,p,y,s,f,L,G=[],B=[],w),a),j===123)if(y===0)Mc(k,e,J,J,G,a,w,f,B);else switch(S===99&&$t(k,3)===110?100:S){case 100:case 108:case 109:case 115:Mc(n,J,J,r&&yc(w_(n,J,J,0,0,s,f,L,s,G=[],w),B),s,B,w,f,r?G:B);break;default:Mc(k,J,J,J,[""],B,0,f,B)}}p=y=T=0,b=O=1,L=k="",w=u;break;case 58:w=1+_r(k),T=I;default:if(b<1){if(j==123)--b;else if(j==125&&b++==0&&eO()==125)continue}switch(k+=$d(j),j*b){case 38:O=y>0?1:(k+="\f",-1);break;case 44:f[p++]=(_r(k)-1)*O,O=1;break;case 64:Cr()===45&&(k+=Lc(Pn())),S=Cr(),y=w=_r(L=k+=iO(Vc())),j++;break;case 45:I===45&&_r(k)==2&&(b=0)}}return a}function w_(n,e,t,r,s,a,u,f,h,p,y){for(var w=s-1,S=s===0?a:[""],T=Pm(S),I=0,b=0,P=0;I<r;++I)for(var O=0,j=kl(n,w+1,w=Gx(b=u[I])),L=n;O<T;++O)(L=qE(b>0?S[O]+" "+j:Qe(j,/&\f/g,S[O])))&&(h[P++]=L);return Bd(n,e,t,s===0?Cm:f,h,p,y)}function oO(n,e,t){return Bd(n,e,t,HE,$d(Zx()),kl(n,2,-2),0)}function E_(n,e,t,r){return Bd(n,e,t,Rm,kl(n,0,r),kl(n,r+1,-1),r)}function Bo(n,e){for(var t="",r=Pm(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function aO(n,e,t,r){switch(n.type){case Kx:if(n.children.length)break;case qx:case Rm:return n.return=n.return||n.value;case HE:return"";case WE:return n.return=n.value+"{"+Bo(n.children,r)+"}";case Cm:n.value=n.props.join(",")}return _r(t=Bo(n.children,r))?n.return=n.value+"{"+t+"}":""}function lO(n){var e=Pm(n);return function(t,r,s,a){for(var u="",f=0;f<e;f++)u+=n[f](t,r,s,a)||"";return u}}function uO(n){return function(e){e.root||(e=e.return)&&n(e)}}function cO(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var dO=function(e,t,r){for(var s=0,a=0;s=a,a=Cr(),s===38&&a===12&&(t[r]=1),!xl(a);)Pn();return Gl(e,vn)},hO=function(e,t){var r=-1,s=44;do switch(xl(s)){case 0:s===38&&Cr()===12&&(t[r]=1),e[r]+=dO(vn-1,t,r);break;case 2:e[r]+=Lc(s);break;case 4:if(s===44){e[++r]=Cr()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=$d(s)}while(s=Pn());return e},fO=function(e,t){return QE(hO(GE(e),t))},S_=new WeakMap,pO=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!S_.get(r))&&!s){S_.set(e,!0);for(var a=[],u=fO(t,a),f=r.props,h=0,p=0;h<u.length;h++)for(var y=0;y<f.length;y++,p++)e.props[p]=a[h]?u[h].replace(/&\f/g,f[y]):f[y]+" "+u[h]}}},mO=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function YE(n,e){switch(Yx(n,e)){case 5103:return Ge+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ge+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ge+n+id+n+Qt+n+n;case 6828:case 4268:return Ge+n+Qt+n+n;case 6165:return Ge+n+Qt+"flex-"+n+n;case 5187:return Ge+n+Qe(n,/(\w+).+(:[^]+)/,Ge+"box-$1$2"+Qt+"flex-$1$2")+n;case 5443:return Ge+n+Qt+"flex-item-"+Qe(n,/flex-|-self/,"")+n;case 4675:return Ge+n+Qt+"flex-line-pack"+Qe(n,/align-content|flex-|-self/,"")+n;case 5548:return Ge+n+Qt+Qe(n,"shrink","negative")+n;case 5292:return Ge+n+Qt+Qe(n,"basis","preferred-size")+n;case 6060:return Ge+"box-"+Qe(n,"-grow","")+Ge+n+Qt+Qe(n,"grow","positive")+n;case 4554:return Ge+Qe(n,/([^-])(transform)/g,"$1"+Ge+"$2")+n;case 6187:return Qe(Qe(Qe(n,/(zoom-|grab)/,Ge+"$1"),/(image-set)/,Ge+"$1"),n,"")+n;case 5495:case 3959:return Qe(n,/(image-set\([^]*)/,Ge+"$1$`$1");case 4968:return Qe(Qe(n,/(.+:)(flex-)?(.*)/,Ge+"box-pack:$3"+Qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ge+n+n;case 4095:case 3583:case 4068:case 2532:return Qe(n,/(.+)-inline(.+)/,Ge+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_r(n)-1-e>6)switch($t(n,e+1)){case 109:if($t(n,e+4)!==45)break;case 102:return Qe(n,/(.+:)(.+)-([^]+)/,"$1"+Ge+"$2-$3$1"+id+($t(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~wp(n,"stretch")?YE(Qe(n,"stretch","fill-available"),e)+n:n}break;case 4949:if($t(n,e+1)!==115)break;case 6444:switch($t(n,_r(n)-3-(~wp(n,"!important")&&10))){case 107:return Qe(n,":",":"+Ge)+n;case 101:return Qe(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ge+($t(n,14)===45?"inline-":"")+"box$3$1"+Ge+"$2$3$1"+Qt+"$2box$3")+n}break;case 5936:switch($t(n,e+11)){case 114:return Ge+n+Qt+Qe(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ge+n+Qt+Qe(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ge+n+Qt+Qe(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ge+n+Qt+n+n}return n}var gO=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case Rm:e.return=YE(e.value,e.length);break;case WE:return Bo([dl(e,{value:Qe(e.value,"@","@"+Ge)})],s);case Cm:if(e.length)return Jx(e.props,function(a){switch(Xx(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Bo([dl(e,{props:[Qe(a,/:(read-\w+)/,":"+id+"$1")]})],s);case"::placeholder":return Bo([dl(e,{props:[Qe(a,/:(plac\w+)/,":"+Ge+"input-$1")]}),dl(e,{props:[Qe(a,/:(plac\w+)/,":"+id+"$1")]}),dl(e,{props:[Qe(a,/:(plac\w+)/,Qt+"input-$1")]})],s)}return""})}},vO=[gO],yO=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var P=b.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var s=e.stylisPlugins||vO,a={},u,f=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(b){for(var P=b.getAttribute("data-emotion").split(" "),O=1;O<P.length;O++)a[P[O]]=!0;f.push(b)});var h,p=[pO,mO];{var y,w=[aO,uO(function(b){y.insert(b)})],S=lO(p.concat(s,w)),T=function(P){return Bo(sO(P),S)};h=function(P,O,j,L){y=j,T(P?P+"{"+O.styles+"}":O.styles),L&&(I.inserted[O.name]=!0)}}var I={key:t,sheet:new Wx({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:h};return I.sheet.hydrate(f),I},Ff={exports:{}},Ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function _O(){if(T_)return Ye;T_=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,w=n?Symbol.for("react.suspense"):60113,S=n?Symbol.for("react.suspense_list"):60120,T=n?Symbol.for("react.memo"):60115,I=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,P=n?Symbol.for("react.fundamental"):60117,O=n?Symbol.for("react.responder"):60118,j=n?Symbol.for("react.scope"):60119;function L(B){if(typeof B=="object"&&B!==null){var J=B.$$typeof;switch(J){case e:switch(B=B.type,B){case h:case p:case r:case a:case s:case w:return B;default:switch(B=B&&B.$$typeof,B){case f:case y:case I:case T:case u:return B;default:return J}}case t:return J}}}function G(B){return L(B)===p}return Ye.AsyncMode=h,Ye.ConcurrentMode=p,Ye.ContextConsumer=f,Ye.ContextProvider=u,Ye.Element=e,Ye.ForwardRef=y,Ye.Fragment=r,Ye.Lazy=I,Ye.Memo=T,Ye.Portal=t,Ye.Profiler=a,Ye.StrictMode=s,Ye.Suspense=w,Ye.isAsyncMode=function(B){return G(B)||L(B)===h},Ye.isConcurrentMode=G,Ye.isContextConsumer=function(B){return L(B)===f},Ye.isContextProvider=function(B){return L(B)===u},Ye.isElement=function(B){return typeof B=="object"&&B!==null&&B.$$typeof===e},Ye.isForwardRef=function(B){return L(B)===y},Ye.isFragment=function(B){return L(B)===r},Ye.isLazy=function(B){return L(B)===I},Ye.isMemo=function(B){return L(B)===T},Ye.isPortal=function(B){return L(B)===t},Ye.isProfiler=function(B){return L(B)===a},Ye.isStrictMode=function(B){return L(B)===s},Ye.isSuspense=function(B){return L(B)===w},Ye.isValidElementType=function(B){return typeof B=="string"||typeof B=="function"||B===r||B===p||B===a||B===s||B===w||B===S||typeof B=="object"&&B!==null&&(B.$$typeof===I||B.$$typeof===T||B.$$typeof===u||B.$$typeof===f||B.$$typeof===y||B.$$typeof===P||B.$$typeof===O||B.$$typeof===j||B.$$typeof===b)},Ye.typeOf=L,Ye}var I_;function wO(){return I_||(I_=1,Ff.exports=_O()),Ff.exports}var Uf,C_;function EO(){if(C_)return Uf;C_=1;var n=wO(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=r,a[n.Memo]=s;function u(I){return n.isMemo(I)?s:a[I.$$typeof]||e}var f=Object.defineProperty,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,S=Object.prototype;function T(I,b,P){if(typeof b!="string"){if(S){var O=w(b);O&&O!==S&&T(I,O,P)}var j=h(b);p&&(j=j.concat(p(b)));for(var L=u(I),G=u(b),B=0;B<j.length;++B){var J=j[B];if(!t[J]&&!(P&&P[J])&&!(G&&G[J])&&!(L&&L[J])){var k=y(b,J);try{f(I,J,k)}catch{}}}}return I}return Uf=T,Uf}EO();var SO=!0;function TO(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var XE=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||SO===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},IO=function(e,t,r){XE(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function CO(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var RO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PO=/[A-Z]|^ms/g,AO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JE=function(e){return e.charCodeAt(1)===45},R_=function(e){return e!=null&&typeof e!="boolean"},jf=cO(function(n){return JE(n)?n:n.replace(PO,"-$&").toLowerCase()}),P_=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(AO,function(r,s,a){return wr={name:s,styles:a,next:wr},s})}return RO[e]!==1&&!JE(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ol(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return wr={name:s.name,styles:s.styles,next:wr},s.name;var a=t;if(a.styles!==void 0){var u=a.next;if(u!==void 0)for(;u!==void 0;)wr={name:u.name,styles:u.styles,next:wr},u=u.next;var f=a.styles+";";return f}return bO(n,e,t)}case"function":{if(n!==void 0){var h=wr,p=t(n);return wr=h,Ol(n,e,p)}break}}var y=t;return y}function bO(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=Ol(n,e,t[s])+";";else for(var a in t){var u=t[a];if(typeof u!="object"){var f=u;R_(f)&&(r+=jf(a)+":"+P_(a,f)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var h=0;h<u.length;h++)R_(u[h])&&(r+=jf(a)+":"+P_(a,u[h])+";");else{var p=Ol(n,e,u);switch(a){case"animation":case"animationName":{r+=jf(a)+":"+p+";";break}default:r+=a+"{"+p+"}"}}}return r}var A_=/label:\s*([^\s;{]+)\s*(;|$)/g,wr;function ZE(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";wr=void 0;var a=n[0];if(a==null||a.raw===void 0)r=!1,s+=Ol(t,e,a);else{var u=a;s+=u[0]}for(var f=1;f<n.length;f++)if(s+=Ol(t,e,n[f]),r){var h=a;s+=h[f]}A_.lastIndex=0;for(var p="",y;(y=A_.exec(s))!==null;)p+="-"+y[1];var w=CO(s)+p;return{name:w,styles:s,next:wr}}var kO=function(e){return e()},xO=Wv.useInsertionEffect?Wv.useInsertionEffect:!1,OO=xO||kO,DO=!1,eS=A.createContext(typeof HTMLElement<"u"?yO({key:"css"}):null);eS.Provider;var NO=function(e){return A.forwardRef(function(t,r){var s=A.useContext(eS);return e(t,s,r)})},VO=A.createContext({}),Am={}.hasOwnProperty,Sp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",LO=function(e,t){var r={};for(var s in t)Am.call(t,s)&&(r[s]=t[s]);return r[Sp]=e,r},MO=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return XE(t,r,s),OO(function(){return IO(t,r,s)}),null},FO=NO(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=n[Sp],a=[r],u="";typeof n.className=="string"?u=TO(e.registered,a,n.className):n.className!=null&&(u=n.className+" ");var f=ZE(a,void 0,A.useContext(VO));u+=e.key+"-"+f.name;var h={};for(var p in n)Am.call(n,p)&&p!=="css"&&p!==Sp&&!DO&&(h[p]=n[p]);return h.className=u,t&&(h.ref=t),A.createElement(A.Fragment,null,A.createElement(MO,{cache:e,serialized:f,isStringTag:typeof s=="string"}),A.createElement(s,h))}),UO=FO,ve=function(e,t){var r=arguments;if(t==null||!Am.call(t,"css"))return A.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=UO,a[1]=LO(e,t);for(var u=2;u<s;u++)a[u]=r[u];return A.createElement.apply(null,a)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(ve);function bm(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return ZE(e)}function jO(){var n=bm.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function $O(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const zO=Math.min,BO=Math.max,sd=Math.round,_c=Math.floor,od=n=>({x:n,y:n});function HO(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Hd(){return typeof window<"u"}function tS(n){return rS(n)?(n.nodeName||"").toLowerCase():"#document"}function ai(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function nS(n){var e;return(e=(rS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function rS(n){return Hd()?n instanceof Node||n instanceof ai(n).Node:!1}function WO(n){return Hd()?n instanceof Element||n instanceof ai(n).Element:!1}function km(n){return Hd()?n instanceof HTMLElement||n instanceof ai(n).HTMLElement:!1}function b_(n){return!Hd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ai(n).ShadowRoot}function iS(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=xm(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function qO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function KO(n){return["html","body","#document"].includes(tS(n))}function xm(n){return ai(n).getComputedStyle(n)}function GO(n){if(tS(n)==="html")return n;const e=n.assignedSlot||n.parentNode||b_(n)&&n.host||nS(n);return b_(e)?e.host:e}function sS(n){const e=GO(n);return KO(e)?n.ownerDocument?n.ownerDocument.body:n.body:km(e)&&iS(e)?e:sS(e)}function ad(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=sS(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),u=ai(s);if(a){const f=Tp(u);return e.concat(u,u.visualViewport||[],iS(s)?s:[],f&&t?ad(f):[])}return e.concat(s,ad(s,[],t))}function Tp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function QO(n){const e=xm(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=km(n),a=s?n.offsetWidth:t,u=s?n.offsetHeight:r,f=sd(t)!==a||sd(r)!==u;return f&&(t=a,r=u),{width:t,height:r,$:f}}function Om(n){return WO(n)?n:n.contextElement}function k_(n){const e=Om(n);if(!km(e))return od(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=QO(e);let u=(a?sd(t.width):t.width)/r,f=(a?sd(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const YO=od(0);function XO(n){const e=ai(n);return!qO()||!e.visualViewport?YO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JO(n,e,t){return!1}function x_(n,e,t,r){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),a=Om(n);let u=od(1);e&&(u=k_(n));const f=JO()?XO(a):od(0);let h=(s.left+f.x)/u.x,p=(s.top+f.y)/u.y,y=s.width/u.x,w=s.height/u.y;if(a){const S=ai(a),T=r;let I=S,b=Tp(I);for(;b&&r&&T!==I;){const P=k_(b),O=b.getBoundingClientRect(),j=xm(b),L=O.left+(b.clientLeft+parseFloat(j.paddingLeft))*P.x,G=O.top+(b.clientTop+parseFloat(j.paddingTop))*P.y;h*=P.x,p*=P.y,y*=P.x,w*=P.y,h+=L,p+=G,I=ai(b),b=Tp(I)}}return HO({width:y,height:w,x:h,y:p})}function ZO(n,e){let t=null,r;const s=nS(n);function a(){var f;clearTimeout(r),(f=t)==null||f.disconnect(),t=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),a();const{left:p,top:y,width:w,height:S}=n.getBoundingClientRect();if(f||e(),!w||!S)return;const T=_c(y),I=_c(s.clientWidth-(p+w)),b=_c(s.clientHeight-(y+S)),P=_c(p),j={rootMargin:-T+"px "+-I+"px "+-b+"px "+-P+"px",threshold:BO(0,zO(1,h))||1};let L=!0;function G(B){const J=B[0].intersectionRatio;if(J!==h){if(!L)return u();J?u(!1,J):r=setTimeout(()=>{u(!1,1e-7)},1e3)}L=!1}try{t=new IntersectionObserver(G,{...j,root:s.ownerDocument})}catch{t=new IntersectionObserver(G,j)}t.observe(n)}return u(!0),a}function eD(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Om(n),y=s||a?[...p?ad(p):[],...ad(e)]:[];y.forEach(O=>{s&&O.addEventListener("scroll",t,{passive:!0}),a&&O.addEventListener("resize",t)});const w=p&&f?ZO(p,t):null;let S=-1,T=null;u&&(T=new ResizeObserver(O=>{let[j]=O;j&&j.target===p&&T&&(T.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var L;(L=T)==null||L.observe(e)})),t()}),p&&!h&&T.observe(p),T.observe(e));let I,b=h?x_(n):null;h&&P();function P(){const O=x_(n);b&&(O.x!==b.x||O.y!==b.y||O.width!==b.width||O.height!==b.height)&&t(),b=O,I=requestAnimationFrame(P)}return t(),()=>{var O;y.forEach(j=>{s&&j.removeEventListener("scroll",t),a&&j.removeEventListener("resize",t)}),w==null||w(),(O=T)==null||O.disconnect(),T=null,h&&cancelAnimationFrame(I)}}var Ip=A.useLayoutEffect,tD=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ld=function(){};function nD(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function rD(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];var a=[].concat(r);if(e&&n)for(var u in e)e.hasOwnProperty(u)&&e[u]&&a.push("".concat(nD(n,u)));return a.filter(function(f){return f}).map(function(f){return String(f).trim()}).join(" ")}var O_=function(e){return hD(e)?e.filter(Boolean):Ms(e)==="object"&&e!==null?[e]:[]},oS=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=ui(e,tD);return we({},t)},ht=function(e,t,r){var s=e.cx,a=e.getStyles,u=e.getClassNames,f=e.className;return{css:a(t,e),className:s(r??{},u(t,e),f)}};function Wd(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function iD(n){return Wd(n)?window.innerHeight:n.clientHeight}function aS(n){return Wd(n)?window.pageYOffset:n.scrollTop}function ud(n,e){if(Wd(n)){window.scrollTo(0,e);return}n.scrollTop=e}function sD(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function oD(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function wc(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ld,s=aS(n),a=e-s,u=10,f=0;function h(){f+=u;var p=oD(f,s,a,t);ud(n,p),f<t?window.requestAnimationFrame(h):r(n)}h()}function D_(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>t.bottom?ud(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):r.top-s<t.top&&ud(n,Math.max(e.offsetTop-s,0))}function aD(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function N_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function lD(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var lS=!1,uD={get passive(){return lS=!0}},Ec=typeof window<"u"?window:{};Ec.addEventListener&&Ec.removeEventListener&&(Ec.addEventListener("p",ld,uD),Ec.removeEventListener("p",ld,!1));var cD=lS;function dD(n){return n!=null}function hD(n){return Array.isArray(n)}function Sc(n,e,t){return n?e:t}var fD=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];var a=Object.entries(e).filter(function(u){var f=ni(u,1),h=f[0];return!r.includes(h)});return a.reduce(function(u,f){var h=ni(f,2),p=h[0],y=h[1];return u[p]=y,u},{})},pD=["children","innerProps"],mD=["children","innerProps"];function gD(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,s=n.placement,a=n.shouldScroll,u=n.isFixedPosition,f=n.controlHeight,h=sD(t),p={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return p;var y=h.getBoundingClientRect(),w=y.height,S=t.getBoundingClientRect(),T=S.bottom,I=S.height,b=S.top,P=t.offsetParent.getBoundingClientRect(),O=P.top,j=u?window.innerHeight:iD(h),L=aS(h),G=parseInt(getComputedStyle(t).marginBottom,10),B=parseInt(getComputedStyle(t).marginTop,10),J=O-B,k=j-b,R=J+L,x=w-L-b,V=T-j+L+G,U=L+b-B,z=160;switch(s){case"auto":case"bottom":if(k>=I)return{placement:"bottom",maxHeight:e};if(x>=I&&!u)return a&&wc(h,V,z),{placement:"bottom",maxHeight:e};if(!u&&x>=r||u&&k>=r){a&&wc(h,V,z);var N=u?k-G:x-G;return{placement:"bottom",maxHeight:N}}if(s==="auto"||u){var He=e,Le=u?J:R;return Le>=r&&(He=Math.min(Le-G-f,e)),{placement:"top",maxHeight:He}}if(s==="bottom")return a&&ud(h,V),{placement:"bottom",maxHeight:e};break;case"top":if(J>=I)return{placement:"top",maxHeight:e};if(R>=I&&!u)return a&&wc(h,U,z),{placement:"top",maxHeight:e};if(!u&&R>=r||u&&J>=r){var Ne=e;return(!u&&R>=r||u&&J>=r)&&(Ne=u?J-B:R-B),a&&wc(h,U,z),{placement:"top",maxHeight:Ne}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return p}function vD(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var uS=function(e){return e==="auto"?"bottom":e},yD=function(e,t){var r,s=e.placement,a=e.theme,u=a.borderRadius,f=a.spacing,h=a.colors;return we((r={label:"menu"},vl(r,vD(s),"100%"),vl(r,"position","absolute"),vl(r,"width","100%"),vl(r,"zIndex",1),r),t?{}:{backgroundColor:h.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:f.menuGutter,marginTop:f.menuGutter})},cS=A.createContext(null),_D=function(e){var t=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,a=e.menuPlacement,u=e.menuPosition,f=e.menuShouldScrollIntoView,h=e.theme,p=A.useContext(cS)||{},y=p.setPortalPlacement,w=A.useRef(null),S=A.useState(s),T=ni(S,2),I=T[0],b=T[1],P=A.useState(null),O=ni(P,2),j=O[0],L=O[1],G=h.spacing.controlHeight;return Ip(function(){var B=w.current;if(B){var J=u==="fixed",k=f&&!J,R=gD({maxHeight:s,menuEl:B,minHeight:r,placement:a,shouldScroll:k,isFixedPosition:J,controlHeight:G});b(R.maxHeight),L(R.placement),y==null||y(R.placement)}},[s,a,u,f,r,y,G]),t({ref:w,placerProps:we(we({},e),{},{placement:j||uS(a),maxHeight:I})})},wD=function(e){var t=e.children,r=e.innerRef,s=e.innerProps;return ve("div",Se({},ht(e,"menu",{menu:!0}),{ref:r},s),t)},ED=wD,SD=function(e,t){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return we({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},TD=function(e){var t=e.children,r=e.innerProps,s=e.innerRef,a=e.isMulti;return ve("div",Se({},ht(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:s},r),t)},dS=function(e,t){var r=e.theme,s=r.spacing.baseUnit,a=r.colors;return we({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},ID=dS,CD=dS,RD=function(e){var t=e.children,r=t===void 0?"No options":t,s=e.innerProps,a=ui(e,pD);return ve("div",Se({},ht(we(we({},a),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},PD=function(e){var t=e.children,r=t===void 0?"Loading...":t,s=e.innerProps,a=ui(e,mD);return ve("div",Se({},ht(we(we({},a),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},AD=function(e){var t=e.rect,r=e.offset,s=e.position;return{left:t.left,position:s,top:r,width:t.width,zIndex:1}},bD=function(e){var t=e.appendTo,r=e.children,s=e.controlElement,a=e.innerProps,u=e.menuPlacement,f=e.menuPosition,h=A.useRef(null),p=A.useRef(null),y=A.useState(uS(u)),w=ni(y,2),S=w[0],T=w[1],I=A.useMemo(function(){return{setPortalPlacement:T}},[]),b=A.useState(null),P=ni(b,2),O=P[0],j=P[1],L=A.useCallback(function(){if(s){var k=aD(s),R=f==="fixed"?0:window.pageYOffset,x=k[S]+R;(x!==(O==null?void 0:O.offset)||k.left!==(O==null?void 0:O.rect.left)||k.width!==(O==null?void 0:O.rect.width))&&j({offset:x,rect:k})}},[s,f,S,O==null?void 0:O.offset,O==null?void 0:O.rect.left,O==null?void 0:O.rect.width]);Ip(function(){L()},[L]);var G=A.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),s&&h.current&&(p.current=eD(s,h.current,L,{elementResize:"ResizeObserver"in window}))},[s,L]);Ip(function(){G()},[G]);var B=A.useCallback(function(k){h.current=k,G()},[G]);if(!t&&f!=="fixed"||!O)return null;var J=ve("div",Se({ref:B},ht(we(we({},e),{},{offset:O.offset,position:f,rect:O.rect}),"menuPortal",{"menu-portal":!0}),a),r);return ve(cS.Provider,{value:I},t?vI.createPortal(J,t):J)},kD=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},xD=function(e){var t=e.children,r=e.innerProps,s=e.isDisabled,a=e.isRtl;return ve("div",Se({},ht(e,"container",{"--is-disabled":s,"--is-rtl":a}),r),t)},OD=function(e,t){var r=e.theme.spacing,s=e.isMulti,a=e.hasValue,u=e.selectProps.controlShouldRenderValue;return we({alignItems:"center",display:s&&a&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},DD=function(e){var t=e.children,r=e.innerProps,s=e.isMulti,a=e.hasValue;return ve("div",Se({},ht(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":a}),r),t)},ND=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},VD=function(e){var t=e.children,r=e.innerProps;return ve("div",Se({},ht(e,"indicatorsContainer",{indicators:!0}),r),t)},V_,LD=["size"],MD=["innerProps","isRtl","size"],FD={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},hS=function(e){var t=e.size,r=ui(e,LD);return ve("svg",Se({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:FD},r))},Dm=function(e){return ve(hS,Se({size:20},e),ve("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},fS=function(e){return ve(hS,Se({size:20},e),ve("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},pS=function(e,t){var r=e.isFocused,s=e.theme,a=s.spacing.baseUnit,u=s.colors;return we({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?u.neutral60:u.neutral20,padding:a*2,":hover":{color:r?u.neutral80:u.neutral40}})},UD=pS,jD=function(e){var t=e.children,r=e.innerProps;return ve("div",Se({},ht(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||ve(fS,null))},$D=pS,zD=function(e){var t=e.children,r=e.innerProps;return ve("div",Se({},ht(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||ve(Dm,null))},BD=function(e,t){var r=e.isDisabled,s=e.theme,a=s.spacing.baseUnit,u=s.colors;return we({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:a*2,marginTop:a*2})},HD=function(e){var t=e.innerProps;return ve("span",Se({},t,ht(e,"indicatorSeparator",{"indicator-separator":!0})))},WD=jO(V_||(V_=$O([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),qD=function(e,t){var r=e.isFocused,s=e.size,a=e.theme,u=a.colors,f=a.spacing.baseUnit;return we({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?u.neutral60:u.neutral20,padding:f*2})},$f=function(e){var t=e.delay,r=e.offset;return ve("span",{css:bm({animation:"".concat(WD," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},KD=function(e){var t=e.innerProps,r=e.isRtl,s=e.size,a=s===void 0?4:s,u=ui(e,MD);return ve("div",Se({},ht(we(we({},u),{},{innerProps:t,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ve($f,{delay:0,offset:r}),ve($f,{delay:160,offset:!0}),ve($f,{delay:320,offset:!r}))},GD=function(e,t){var r=e.isDisabled,s=e.isFocused,a=e.theme,u=a.colors,f=a.borderRadius,h=a.spacing;return we({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:h.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:s?u.primary:u.neutral20,borderRadius:f,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:s?u.primary:u.neutral30}})},QD=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,a=e.innerRef,u=e.innerProps,f=e.menuIsOpen;return ve("div",Se({ref:a},ht(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":f}),u,{"aria-disabled":r||void 0}),t)},YD=QD,XD=["data"],JD=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},ZD=function(e){var t=e.children,r=e.cx,s=e.getStyles,a=e.getClassNames,u=e.Heading,f=e.headingProps,h=e.innerProps,p=e.label,y=e.theme,w=e.selectProps;return ve("div",Se({},ht(e,"group",{group:!0}),h),ve(u,Se({},f,{selectProps:w,theme:y,getStyles:s,getClassNames:a,cx:r}),p),ve("div",null,t))},eN=function(e,t){var r=e.theme,s=r.colors,a=r.spacing;return we({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},tN=function(e){var t=oS(e);t.data;var r=ui(t,XD);return ve("div",Se({},ht(e,"groupHeading",{"group-heading":!0}),r))},nN=ZD,rN=["innerRef","isDisabled","isHidden","inputClassName"],iN=function(e,t){var r=e.isDisabled,s=e.value,a=e.theme,u=a.spacing,f=a.colors;return we(we({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},sN),t?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:f.neutral80})},mS={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},sN={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":we({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},mS)},oN=function(e){return we({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},mS)},aN=function(e){var t=e.cx,r=e.value,s=oS(e),a=s.innerRef,u=s.isDisabled,f=s.isHidden,h=s.inputClassName,p=ui(s,rN);return ve("div",Se({},ht(e,"input",{"input-container":!0}),{"data-value":r||""}),ve("input",Se({className:t({input:!0},h),ref:a,style:oN(f),disabled:u},p)))},lN=aN,uN=function(e,t){var r=e.theme,s=r.spacing,a=r.borderRadius,u=r.colors;return we({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:u.neutral10,borderRadius:a/2,margin:s.baseUnit/2})},cN=function(e,t){var r=e.theme,s=r.borderRadius,a=r.colors,u=e.cropWithEllipsis;return we({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},dN=function(e,t){var r=e.theme,s=r.spacing,a=r.borderRadius,u=r.colors,f=e.isFocused;return we({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:f?u.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},gS=function(e){var t=e.children,r=e.innerProps;return ve("div",r,t)},hN=gS,fN=gS;function pN(n){var e=n.children,t=n.innerProps;return ve("div",Se({role:"button"},t),e||ve(Dm,{size:14}))}var mN=function(e){var t=e.children,r=e.components,s=e.data,a=e.innerProps,u=e.isDisabled,f=e.removeProps,h=e.selectProps,p=r.Container,y=r.Label,w=r.Remove;return ve(p,{data:s,innerProps:we(we({},ht(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),a),selectProps:h},ve(y,{data:s,innerProps:we({},ht(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:h},t),ve(w,{data:s,innerProps:we(we({},ht(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},f),selectProps:h}))},gN=mN,vN=function(e,t){var r=e.isDisabled,s=e.isFocused,a=e.isSelected,u=e.theme,f=u.spacing,h=u.colors;return we({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?h.primary:s?h.primary25:"transparent",color:r?h.neutral20:a?h.neutral0:"inherit",padding:"".concat(f.baseUnit*2,"px ").concat(f.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?h.primary:h.primary50}})},yN=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,a=e.isSelected,u=e.innerRef,f=e.innerProps;return ve("div",Se({},ht(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":a}),{ref:u,"aria-disabled":r},f),t)},_N=yN,wN=function(e,t){var r=e.theme,s=r.spacing,a=r.colors;return we({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},EN=function(e){var t=e.children,r=e.innerProps;return ve("div",Se({},ht(e,"placeholder",{placeholder:!0}),r),t)},SN=EN,TN=function(e,t){var r=e.isDisabled,s=e.theme,a=s.spacing,u=s.colors;return we({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?u.neutral40:u.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},IN=function(e){var t=e.children,r=e.isDisabled,s=e.innerProps;return ve("div",Se({},ht(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),t)},CN=IN,RN={ClearIndicator:zD,Control:YD,DropdownIndicator:jD,DownChevron:fS,CrossIcon:Dm,Group:nN,GroupHeading:tN,IndicatorsContainer:VD,IndicatorSeparator:HD,Input:lN,LoadingIndicator:KD,Menu:ED,MenuList:TD,MenuPortal:bD,LoadingMessage:PD,NoOptionsMessage:RD,MultiValue:gN,MultiValueContainer:hN,MultiValueLabel:fN,MultiValueRemove:pN,Option:_N,Placeholder:SN,SelectContainer:xD,SingleValue:CN,ValueContainer:DD},PN=function(e){return we(we({},RN),e.components)},L_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function AN(n,e){return!!(n===e||L_(n)&&L_(e))}function bN(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!AN(n[t],e[t]))return!1;return!0}function kN(n,e){e===void 0&&(e=bN);var t=null;function r(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var u=n.apply(this,s);return t={lastResult:u,lastArgs:s,lastThis:this},u}return r.clear=function(){t=null},r}var xN={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ON=function(e){return ve("span",Se({css:xN},e))},M_=ON,DN={guidance:function(e){var t=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,a=e.context,u=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,s=r===void 0?"":r,a=e.labels,u=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,s=e.options,a=e.label,u=a===void 0?"":a,f=e.selectValue,h=e.isDisabled,p=e.isSelected,y=e.isAppleDevice,w=function(b,P){return b&&b.length?"".concat(b.indexOf(P)+1," of ").concat(b.length):""};if(t==="value"&&f)return"value ".concat(u," focused, ").concat(w(f,r),".");if(t==="menu"&&y){var S=h?" disabled":"",T="".concat(p?" selected":"").concat(S);return"".concat(u).concat(T,", ").concat(w(s,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},NN=function(e){var t=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,a=e.focusableOptions,u=e.isFocused,f=e.selectValue,h=e.selectProps,p=e.id,y=e.isAppleDevice,w=h.ariaLiveMessages,S=h.getOptionLabel,T=h.inputValue,I=h.isMulti,b=h.isOptionDisabled,P=h.isSearchable,O=h.menuIsOpen,j=h.options,L=h.screenReaderStatus,G=h.tabSelectsValue,B=h.isLoading,J=h["aria-label"],k=h["aria-live"],R=A.useMemo(function(){return we(we({},DN),w||{})},[w]),x=A.useMemo(function(){var Le="";if(t&&R.onChange){var Ne=t.option,xe=t.options,se=t.removedValue,de=t.removedValues,te=t.value,H=function(Oe){return Array.isArray(Oe)?null:Oe},X=se||Ne||H(te),le=X?S(X):"",Te=xe||de||void 0,Ie=Te?Te.map(S):[],Pe=we({isDisabled:X&&b(X,f),label:le,labels:Ie},t);Le=R.onChange(Pe)}return Le},[t,R,b,f,S]),V=A.useMemo(function(){var Le="",Ne=r||s,xe=!!(r&&f&&f.includes(r));if(Ne&&R.onFocus){var se={focused:Ne,label:S(Ne),isDisabled:b(Ne,f),isSelected:xe,options:a,context:Ne===r?"menu":"value",selectValue:f,isAppleDevice:y};Le=R.onFocus(se)}return Le},[r,s,S,b,R,a,f,y]),U=A.useMemo(function(){var Le="";if(O&&j.length&&!B&&R.onFilter){var Ne=L({count:a.length});Le=R.onFilter({inputValue:T,resultsMessage:Ne})}return Le},[a,T,O,R,j,L,B]),z=(t==null?void 0:t.action)==="initial-input-focus",N=A.useMemo(function(){var Le="";if(R.guidance){var Ne=s?"value":O?"menu":"input";Le=R.guidance({"aria-label":J,context:Ne,isDisabled:r&&b(r,f),isMulti:I,isSearchable:P,tabSelectsValue:G,isInitialFocus:z})}return Le},[J,r,s,I,b,P,O,R,f,G,z]),He=ve(A.Fragment,null,ve("span",{id:"aria-selection"},x),ve("span",{id:"aria-focused"},V),ve("span",{id:"aria-results"},U),ve("span",{id:"aria-guidance"},N));return ve(A.Fragment,null,ve(M_,{id:p},z&&He),ve(M_,{"aria-live":k,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!z&&He))},VN=NN,Cp=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],LN=new RegExp("["+Cp.map(function(n){return n.letters}).join("")+"]","g"),vS={};for(var zf=0;zf<Cp.length;zf++)for(var Bf=Cp[zf],Hf=0;Hf<Bf.letters.length;Hf++)vS[Bf.letters[Hf]]=Bf.base;var yS=function(e){return e.replace(LN,function(t){return vS[t]})},MN=kN(yS),F_=function(e){return e.replace(/^\s+|\s+$/g,"")},FN=function(e){return"".concat(e.label," ").concat(e.value)},UN=function(e){return function(t,r){if(t.data.__isNew__)return!0;var s=we({ignoreCase:!0,ignoreAccents:!0,stringify:FN,trim:!0,matchFrom:"any"},e),a=s.ignoreCase,u=s.ignoreAccents,f=s.stringify,h=s.trim,p=s.matchFrom,y=h?F_(r):r,w=h?F_(f(t)):f(t);return a&&(y=y.toLowerCase(),w=w.toLowerCase()),u&&(y=MN(y),w=yS(w)),p==="start"?w.substr(0,y.length)===y:w.indexOf(y)>-1}},jN=["innerRef"];function $N(n){var e=n.innerRef,t=ui(n,jN),r=fD(t,"onExited","in","enter","exit","appear");return ve("input",Se({ref:e},r,{css:bm({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var zN=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function BN(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,s=n.onTopArrive,a=n.onTopLeave,u=A.useRef(!1),f=A.useRef(!1),h=A.useRef(0),p=A.useRef(null),y=A.useCallback(function(P,O){if(p.current!==null){var j=p.current,L=j.scrollTop,G=j.scrollHeight,B=j.clientHeight,J=p.current,k=O>0,R=G-B-L,x=!1;R>O&&u.current&&(r&&r(P),u.current=!1),k&&f.current&&(a&&a(P),f.current=!1),k&&O>R?(t&&!u.current&&t(P),J.scrollTop=G,x=!0,u.current=!0):!k&&-O>L&&(s&&!f.current&&s(P),J.scrollTop=0,x=!0,f.current=!0),x&&zN(P)}},[t,r,s,a]),w=A.useCallback(function(P){y(P,P.deltaY)},[y]),S=A.useCallback(function(P){h.current=P.changedTouches[0].clientY},[]),T=A.useCallback(function(P){var O=h.current-P.changedTouches[0].clientY;y(P,O)},[y]),I=A.useCallback(function(P){if(P){var O=cD?{passive:!1}:!1;P.addEventListener("wheel",w,O),P.addEventListener("touchstart",S,O),P.addEventListener("touchmove",T,O)}},[T,S,w]),b=A.useCallback(function(P){P&&(P.removeEventListener("wheel",w,!1),P.removeEventListener("touchstart",S,!1),P.removeEventListener("touchmove",T,!1))},[T,S,w]);return A.useEffect(function(){if(e){var P=p.current;return I(P),function(){b(P)}}},[e,I,b]),function(P){p.current=P}}var U_=["boxSizing","height","overflow","paddingRight","position"],j_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function $_(n){n.cancelable&&n.preventDefault()}function z_(n){n.stopPropagation()}function B_(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function H_(){return"ontouchstart"in window||navigator.maxTouchPoints}var W_=!!(typeof window<"u"&&window.document&&window.document.createElement),hl=0,No={capture:!1,passive:!1};function HN(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,s=A.useRef({}),a=A.useRef(null),u=A.useCallback(function(h){if(W_){var p=document.body,y=p&&p.style;if(r&&U_.forEach(function(I){var b=y&&y[I];s.current[I]=b}),r&&hl<1){var w=parseInt(s.current.paddingRight,10)||0,S=document.body?document.body.clientWidth:0,T=window.innerWidth-S+w||0;Object.keys(j_).forEach(function(I){var b=j_[I];y&&(y[I]=b)}),y&&(y.paddingRight="".concat(T,"px"))}p&&H_()&&(p.addEventListener("touchmove",$_,No),h&&(h.addEventListener("touchstart",B_,No),h.addEventListener("touchmove",z_,No))),hl+=1}},[r]),f=A.useCallback(function(h){if(W_){var p=document.body,y=p&&p.style;hl=Math.max(hl-1,0),r&&hl<1&&U_.forEach(function(w){var S=s.current[w];y&&(y[w]=S)}),p&&H_()&&(p.removeEventListener("touchmove",$_,No),h&&(h.removeEventListener("touchstart",B_,No),h.removeEventListener("touchmove",z_,No)))}},[r]);return A.useEffect(function(){if(e){var h=a.current;return u(h),function(){f(h)}}},[e,u,f]),function(h){a.current=h}}var WN=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},qN={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function KN(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,s=r===void 0?!0:r,a=n.onBottomArrive,u=n.onBottomLeave,f=n.onTopArrive,h=n.onTopLeave,p=BN({isEnabled:s,onBottomArrive:a,onBottomLeave:u,onTopArrive:f,onTopLeave:h}),y=HN({isEnabled:t}),w=function(T){p(T),y(T)};return ve(A.Fragment,null,t&&ve("div",{onClick:WN,css:qN}),e(w))}var GN={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},QN=function(e){var t=e.name,r=e.onFocus;return ve("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:GN,value:"",onChange:function(){}})},YN=QN;function Nm(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function XN(){return Nm(/^iPhone/i)}function _S(){return Nm(/^Mac/i)}function JN(){return Nm(/^iPad/i)||_S()&&navigator.maxTouchPoints>1}function ZN(){return XN()||JN()}function e2(){return _S()||ZN()}var t2=function(e){return e.label},n2=function(e){return e.label},r2=function(e){return e.value},i2=function(e){return!!e.isDisabled},s2={clearIndicator:$D,container:kD,control:GD,dropdownIndicator:UD,group:JD,groupHeading:eN,indicatorsContainer:ND,indicatorSeparator:BD,input:iN,loadingIndicator:qD,loadingMessage:CD,menu:yD,menuList:SD,menuPortal:AD,multiValue:uN,multiValueLabel:cN,multiValueRemove:dN,noOptionsMessage:ID,option:vN,placeholder:wN,singleValue:TN,valueContainer:OD},o2={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},a2=4,wS=4,l2=38,u2=wS*2,c2={baseUnit:wS,controlHeight:l2,menuGutter:u2},Wf={borderRadius:a2,colors:o2,spacing:c2},d2={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:N_(),captureMenuScroll:!N_(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:UN(),formatGroupLabel:t2,getOptionLabel:n2,getOptionValue:r2,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:i2,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!lD(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function q_(n,e,t,r){var s=TS(n,e,t),a=IS(n,e,t),u=SS(n,e),f=cd(n,e);return{type:"option",data:e,isDisabled:s,isSelected:a,label:u,value:f,index:r}}function Fc(n,e){return n.options.map(function(t,r){if("options"in t){var s=t.options.map(function(u,f){return q_(n,u,e,f)}).filter(function(u){return G_(n,u)});return s.length>0?{type:"group",data:t,options:s,index:r}:void 0}var a=q_(n,t,e,r);return G_(n,a)?a:void 0}).filter(dD)}function ES(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Im(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function K_(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Im(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function h2(n,e){return ES(Fc(n,e))}function G_(n,e){var t=n.inputValue,r=t===void 0?"":t,s=e.data,a=e.isSelected,u=e.label,f=e.value;return(!RS(n)||!a)&&CS(n,{label:u,value:f,data:s},r)}function f2(n,e){var t=n.focusedValue,r=n.selectValue,s=r.indexOf(t);if(s>-1){var a=e.indexOf(t);if(a>-1)return t;if(s<e.length)return e[s]}return null}function p2(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var qf=function(e,t){var r,s=(r=e.find(function(a){return a.data===t}))===null||r===void 0?void 0:r.id;return s||null},SS=function(e,t){return e.getOptionLabel(t)},cd=function(e,t){return e.getOptionValue(t)};function TS(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function IS(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=cd(n,e);return t.some(function(s){return cd(n,s)===r})}function CS(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var RS=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},m2=1,PS=function(n){Vx(t,n);var e=Fx(t);function t(r){var s;if(Dx(this,t),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=e2(),s.controlRef=null,s.getControlRef=function(h){s.controlRef=h},s.focusedOptionRef=null,s.getFocusedOptionRef=function(h){s.focusedOptionRef=h},s.menuListRef=null,s.getMenuListRef=function(h){s.menuListRef=h},s.inputRef=null,s.getInputRef=function(h){s.inputRef=h},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(h,p){var y=s.props,w=y.onChange,S=y.name;p.name=S,s.ariaOnChange(h,p),w(h,p)},s.setValue=function(h,p,y){var w=s.props,S=w.closeMenuOnSelect,T=w.isMulti,I=w.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:I}),S&&(s.setState({inputIsHiddenAfterUpdate:!T}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(h,{action:p,option:y})},s.selectOption=function(h){var p=s.props,y=p.blurInputOnSelect,w=p.isMulti,S=p.name,T=s.state.selectValue,I=w&&s.isOptionSelected(h,T),b=s.isOptionDisabled(h,T);if(I){var P=s.getOptionValue(h);s.setValue(T.filter(function(O){return s.getOptionValue(O)!==P}),"deselect-option",h)}else if(!b)w?s.setValue([].concat(Im(T),[h]),"select-option",h):s.setValue(h,"select-option");else{s.ariaOnChange(h,{action:"select-option",option:h,name:S});return}y&&s.blurInput()},s.removeValue=function(h){var p=s.props.isMulti,y=s.state.selectValue,w=s.getOptionValue(h),S=y.filter(function(I){return s.getOptionValue(I)!==w}),T=Sc(p,S,S[0]||null);s.onChange(T,{action:"remove-value",removedValue:h}),s.focusInput()},s.clearValue=function(){var h=s.state.selectValue;s.onChange(Sc(s.props.isMulti,[],null),{action:"clear",removedValues:h})},s.popValue=function(){var h=s.props.isMulti,p=s.state.selectValue,y=p[p.length-1],w=p.slice(0,p.length-1),S=Sc(h,w,w[0]||null);y&&s.onChange(S,{action:"pop-value",removedValue:y})},s.getFocusedOptionId=function(h){return qf(s.state.focusableOptionsWithIds,h)},s.getFocusableOptionsWithIds=function(){return K_(Fc(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];return rD.apply(void 0,[s.props.classNamePrefix].concat(p))},s.getOptionLabel=function(h){return SS(s.props,h)},s.getOptionValue=function(h){return cd(s.props,h)},s.getStyles=function(h,p){var y=s.props.unstyled,w=s2[h](p,y);w.boxSizing="border-box";var S=s.props.styles[h];return S?S(w,p):w},s.getClassNames=function(h,p){var y,w;return(y=(w=s.props.classNames)[h])===null||y===void 0?void 0:y.call(w,p)},s.getElementId=function(h){return"".concat(s.state.instancePrefix,"-").concat(h)},s.getComponents=function(){return PN(s.props)},s.buildCategorizedOptions=function(){return Fc(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return ES(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(h,p){s.setState({ariaSelection:we({value:h},p)})},s.onMenuMouseDown=function(h){h.button===0&&(h.stopPropagation(),h.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(h){s.blockOptionHover=!1},s.onControlMouseDown=function(h){if(!h.defaultPrevented){var p=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&s.onMenuClose():p&&s.openMenu("first"):(p&&(s.openAfterFocus=!0),s.focusInput()),h.target.tagName!=="INPUT"&&h.target.tagName!=="TEXTAREA"&&h.preventDefault()}},s.onDropdownIndicatorMouseDown=function(h){if(!(h&&h.type==="mousedown"&&h.button!==0)&&!s.props.isDisabled){var p=s.props,y=p.isMulti,w=p.menuIsOpen;s.focusInput(),w?(s.setState({inputIsHiddenAfterUpdate:!y}),s.onMenuClose()):s.openMenu("first"),h.preventDefault()}},s.onClearIndicatorMouseDown=function(h){h&&h.type==="mousedown"&&h.button!==0||(s.clearValue(),h.preventDefault(),s.openAfterFocus=!1,h.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(h){typeof s.props.closeMenuOnScroll=="boolean"?h.target instanceof HTMLElement&&Wd(h.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(h)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(h){var p=h.touches,y=p&&p.item(0);y&&(s.initialTouchX=y.clientX,s.initialTouchY=y.clientY,s.userIsDragging=!1)},s.onTouchMove=function(h){var p=h.touches,y=p&&p.item(0);if(y){var w=Math.abs(y.clientX-s.initialTouchX),S=Math.abs(y.clientY-s.initialTouchY),T=5;s.userIsDragging=w>T||S>T}},s.onTouchEnd=function(h){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(h.target)&&s.menuListRef&&!s.menuListRef.contains(h.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(h){s.userIsDragging||s.onControlMouseDown(h)},s.onClearIndicatorTouchEnd=function(h){s.userIsDragging||s.onClearIndicatorMouseDown(h)},s.onDropdownIndicatorTouchEnd=function(h){s.userIsDragging||s.onDropdownIndicatorMouseDown(h)},s.handleInputChange=function(h){var p=s.props.inputValue,y=h.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(y,{action:"input-change",prevInputValue:p}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(h){s.props.onFocus&&s.props.onFocus(h),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(h){var p=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(h),s.onInputChange("",{action:"input-blur",prevInputValue:p}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(h){if(!(s.blockOptionHover||s.state.focusedOption===h)){var p=s.getFocusableOptions(),y=p.indexOf(h);s.setState({focusedOption:h,focusedOptionId:y>-1?s.getFocusedOptionId(h):null})}},s.shouldHideSelectedOptions=function(){return RS(s.props)},s.onValueInputFocus=function(h){h.preventDefault(),h.stopPropagation(),s.focus()},s.onKeyDown=function(h){var p=s.props,y=p.isMulti,w=p.backspaceRemovesValue,S=p.escapeClearsValue,T=p.inputValue,I=p.isClearable,b=p.isDisabled,P=p.menuIsOpen,O=p.onKeyDown,j=p.tabSelectsValue,L=p.openMenuOnFocus,G=s.state,B=G.focusedOption,J=G.focusedValue,k=G.selectValue;if(!b&&!(typeof O=="function"&&(O(h),h.defaultPrevented))){switch(s.blockOptionHover=!0,h.key){case"ArrowLeft":if(!y||T)return;s.focusValue("previous");break;case"ArrowRight":if(!y||T)return;s.focusValue("next");break;case"Delete":case"Backspace":if(T)return;if(J)s.removeValue(J);else{if(!w)return;y?s.popValue():I&&s.clearValue()}break;case"Tab":if(s.isComposing||h.shiftKey||!P||!j||!B||L&&s.isOptionSelected(B,k))return;s.selectOption(B);break;case"Enter":if(h.keyCode===229)break;if(P){if(!B||s.isComposing)return;s.selectOption(B);break}return;case"Escape":P?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:T}),s.onMenuClose()):I&&S&&s.clearValue();break;case" ":if(T)return;if(!P){s.openMenu("first");break}if(!B)return;s.selectOption(B);break;case"ArrowUp":P?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":P?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!P)return;s.focusOption("pageup");break;case"PageDown":if(!P)return;s.focusOption("pagedown");break;case"Home":if(!P)return;s.focusOption("first");break;case"End":if(!P)return;s.focusOption("last");break;default:return}h.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++m2),s.state.selectValue=O_(r.value),r.menuIsOpen&&s.state.selectValue.length){var a=s.getFocusableOptionsWithIds(),u=s.buildFocusableOptions(),f=u.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=a,s.state.focusedOption=u[f],s.state.focusedOptionId=qf(a,u[f])}return s}return Nx(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&D_(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var a=this.props,u=a.isDisabled,f=a.menuIsOpen,h=this.state.isFocused;(h&&!u&&s.isDisabled||h&&f&&!s.menuIsOpen)&&this.focusInput(),h&&u&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!h&&!u&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(D_(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,a){this.props.onInputChange(s,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var a=this,u=this.state,f=u.selectValue,h=u.isFocused,p=this.buildFocusableOptions(),y=s==="first"?0:p.length-1;if(!this.props.isMulti){var w=p.indexOf(f[0]);w>-1&&(y=w)}this.scrollToFocusedOptionOnUpdate=!(h&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[y],focusedOptionId:this.getFocusedOptionId(p[y])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(s){var a=this.state,u=a.selectValue,f=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var h=u.indexOf(f);f||(h=-1);var p=u.length-1,y=-1;if(u.length){switch(s){case"previous":h===0?y=0:h===-1?y=p:y=h-1;break;case"next":h>-1&&h<p&&(y=h+1);break}this.setState({inputIsHidden:y!==-1,focusedValue:u[y]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,u=this.state.focusedOption,f=this.getFocusableOptions();if(f.length){var h=0,p=f.indexOf(u);u||(p=-1),s==="up"?h=p>0?p-1:f.length-1:s==="down"?h=(p+1)%f.length:s==="pageup"?(h=p-a,h<0&&(h=0)):s==="pagedown"?(h=p+a,h>f.length-1&&(h=f.length-1)):s==="last"&&(h=f.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:f[h],focusedValue:null,focusedOptionId:this.getFocusedOptionId(f[h])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Wf):we(we({},Wf),this.props.theme):Wf}},{key:"getCommonProps",value:function(){var s=this.clearValue,a=this.cx,u=this.getStyles,f=this.getClassNames,h=this.getValue,p=this.selectOption,y=this.setValue,w=this.props,S=w.isMulti,T=w.isRtl,I=w.options,b=this.hasValue();return{clearValue:s,cx:a,getStyles:u,getClassNames:f,getValue:h,hasValue:b,isMulti:S,isRtl:T,options:I,selectOption:p,selectProps:w,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,a=s.isClearable,u=s.isMulti;return a===void 0?u:a}},{key:"isOptionDisabled",value:function(s,a){return TS(this.props,s,a)}},{key:"isOptionSelected",value:function(s,a){return IS(this.props,s,a)}},{key:"filterOption",value:function(s,a){return CS(this.props,s,a)}},{key:"formatOptionLabel",value:function(s,a){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,f=this.state.selectValue;return this.props.formatOptionLabel(s,{context:a,inputValue:u,selectValue:f})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,a=s.isDisabled,u=s.isSearchable,f=s.inputId,h=s.inputValue,p=s.tabIndex,y=s.form,w=s.menuIsOpen,S=s.required,T=this.getComponents(),I=T.Input,b=this.state,P=b.inputIsHidden,O=b.ariaSelection,j=this.commonProps,L=f||this.getElementId("input"),G=we(we(we({"aria-autocomplete":"list","aria-expanded":w,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":S,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},w&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(O==null?void 0:O.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?A.createElement(I,Se({},j,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:L,innerRef:this.getInputRef,isDisabled:a,isHidden:P,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:y,type:"text",value:h},G)):A.createElement($N,Se({id:L,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ld,onFocus:this.onInputFocus,disabled:a,tabIndex:p,inputMode:"none",form:y,value:""},G))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,a=this.getComponents(),u=a.MultiValue,f=a.MultiValueContainer,h=a.MultiValueLabel,p=a.MultiValueRemove,y=a.SingleValue,w=a.Placeholder,S=this.commonProps,T=this.props,I=T.controlShouldRenderValue,b=T.isDisabled,P=T.isMulti,O=T.inputValue,j=T.placeholder,L=this.state,G=L.selectValue,B=L.focusedValue,J=L.isFocused;if(!this.hasValue()||!I)return O?null:A.createElement(w,Se({},S,{key:"placeholder",isDisabled:b,isFocused:J,innerProps:{id:this.getElementId("placeholder")}}),j);if(P)return G.map(function(R,x){var V=R===B,U="".concat(s.getOptionLabel(R),"-").concat(s.getOptionValue(R));return A.createElement(u,Se({},S,{components:{Container:f,Label:h,Remove:p},isFocused:V,isDisabled:b,key:U,index:x,removeProps:{onClick:function(){return s.removeValue(R)},onTouchEnd:function(){return s.removeValue(R)},onMouseDown:function(N){N.preventDefault()}},data:R}),s.formatOptionLabel(R,"value"))});if(O)return null;var k=G[0];return A.createElement(y,Se({},S,{data:k,isDisabled:b}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),a=s.ClearIndicator,u=this.commonProps,f=this.props,h=f.isDisabled,p=f.isLoading,y=this.state.isFocused;if(!this.isClearable()||!a||h||!this.hasValue()||p)return null;var w={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(a,Se({},u,{innerProps:w,isFocused:y}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),a=s.LoadingIndicator,u=this.commonProps,f=this.props,h=f.isDisabled,p=f.isLoading,y=this.state.isFocused;if(!a||!p)return null;var w={"aria-hidden":"true"};return A.createElement(a,Se({},u,{innerProps:w,isDisabled:h,isFocused:y}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator,u=s.IndicatorSeparator;if(!a||!u)return null;var f=this.commonProps,h=this.props.isDisabled,p=this.state.isFocused;return A.createElement(u,Se({},f,{isDisabled:h,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator;if(!a)return null;var u=this.commonProps,f=this.props.isDisabled,h=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(a,Se({},u,{innerProps:p,isDisabled:f,isFocused:h}))}},{key:"renderMenu",value:function(){var s=this,a=this.getComponents(),u=a.Group,f=a.GroupHeading,h=a.Menu,p=a.MenuList,y=a.MenuPortal,w=a.LoadingMessage,S=a.NoOptionsMessage,T=a.Option,I=this.commonProps,b=this.state.focusedOption,P=this.props,O=P.captureMenuScroll,j=P.inputValue,L=P.isLoading,G=P.loadingMessage,B=P.minMenuHeight,J=P.maxMenuHeight,k=P.menuIsOpen,R=P.menuPlacement,x=P.menuPosition,V=P.menuPortalTarget,U=P.menuShouldBlockScroll,z=P.menuShouldScrollIntoView,N=P.noOptionsMessage,He=P.onMenuScrollToTop,Le=P.onMenuScrollToBottom;if(!k)return null;var Ne=function(le,Te){var Ie=le.type,Pe=le.data,De=le.isDisabled,Oe=le.isSelected,Ke=le.label,gt=le.value,An=b===Pe,xr=De?void 0:function(){return s.onOptionHover(Pe)},sr=De?void 0:function(){return s.selectOption(Pe)},or="".concat(s.getElementId("option"),"-").concat(Te),ci={id:or,onClick:sr,onMouseMove:xr,onMouseOver:xr,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:Oe};return A.createElement(T,Se({},I,{innerProps:ci,data:Pe,isDisabled:De,isSelected:Oe,key:or,label:Ke,type:Ie,value:gt,isFocused:An,innerRef:An?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(le.data,"menu"))},xe;if(this.hasOptions())xe=this.getCategorizedOptions().map(function(X){if(X.type==="group"){var le=X.data,Te=X.options,Ie=X.index,Pe="".concat(s.getElementId("group"),"-").concat(Ie),De="".concat(Pe,"-heading");return A.createElement(u,Se({},I,{key:Pe,data:le,options:Te,Heading:f,headingProps:{id:De,data:X.data},label:s.formatGroupLabel(X.data)}),X.options.map(function(Oe){return Ne(Oe,"".concat(Ie,"-").concat(Oe.index))}))}else if(X.type==="option")return Ne(X,"".concat(X.index))});else if(L){var se=G({inputValue:j});if(se===null)return null;xe=A.createElement(w,I,se)}else{var de=N({inputValue:j});if(de===null)return null;xe=A.createElement(S,I,de)}var te={minMenuHeight:B,maxMenuHeight:J,menuPlacement:R,menuPosition:x,menuShouldScrollIntoView:z},H=A.createElement(_D,Se({},I,te),function(X){var le=X.ref,Te=X.placerProps,Ie=Te.placement,Pe=Te.maxHeight;return A.createElement(h,Se({},I,te,{innerRef:le,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:L,placement:Ie}),A.createElement(KN,{captureEnabled:O,onTopArrive:He,onBottomArrive:Le,lockEnabled:U},function(De){return A.createElement(p,Se({},I,{innerRef:function(Ke){s.getMenuListRef(Ke),De(Ke)},innerProps:{role:"listbox","aria-multiselectable":I.isMulti,id:s.getElementId("listbox")},isLoading:L,maxHeight:Pe,focusedOption:b}),xe)}))});return V||x==="fixed"?A.createElement(y,Se({},I,{appendTo:V,controlElement:this.controlRef,menuPlacement:R,menuPosition:x}),H):H}},{key:"renderFormField",value:function(){var s=this,a=this.props,u=a.delimiter,f=a.isDisabled,h=a.isMulti,p=a.name,y=a.required,w=this.state.selectValue;if(y&&!this.hasValue()&&!f)return A.createElement(YN,{name:p,onFocus:this.onValueInputFocus});if(!(!p||f))if(h)if(u){var S=w.map(function(b){return s.getOptionValue(b)}).join(u);return A.createElement("input",{name:p,type:"hidden",value:S})}else{var T=w.length>0?w.map(function(b,P){return A.createElement("input",{key:"i-".concat(P),name:p,type:"hidden",value:s.getOptionValue(b)})}):A.createElement("input",{name:p,type:"hidden",value:""});return A.createElement("div",null,T)}else{var I=w[0]?this.getOptionValue(w[0]):"";return A.createElement("input",{name:p,type:"hidden",value:I})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,a=this.state,u=a.ariaSelection,f=a.focusedOption,h=a.focusedValue,p=a.isFocused,y=a.selectValue,w=this.getFocusableOptions();return A.createElement(VN,Se({},s,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:f,focusedValue:h,isFocused:p,selectValue:y,focusableOptions:w,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),a=s.Control,u=s.IndicatorsContainer,f=s.SelectContainer,h=s.ValueContainer,p=this.props,y=p.className,w=p.id,S=p.isDisabled,T=p.menuIsOpen,I=this.state.isFocused,b=this.commonProps=this.getCommonProps();return A.createElement(f,Se({},b,{className:y,innerProps:{id:w,onKeyDown:this.onKeyDown},isDisabled:S,isFocused:I}),this.renderLiveRegion(),A.createElement(a,Se({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:S,isFocused:I,menuIsOpen:T}),A.createElement(h,Se({},b,{isDisabled:S}),this.renderPlaceholderOrValue(),this.renderInput()),A.createElement(u,Se({},b,{isDisabled:S}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,a){var u=a.prevProps,f=a.clearFocusValueOnUpdate,h=a.inputIsHiddenAfterUpdate,p=a.ariaSelection,y=a.isFocused,w=a.prevWasFocused,S=a.instancePrefix,T=s.options,I=s.value,b=s.menuIsOpen,P=s.inputValue,O=s.isMulti,j=O_(I),L={};if(u&&(I!==u.value||T!==u.options||b!==u.menuIsOpen||P!==u.inputValue)){var G=b?h2(s,j):[],B=b?K_(Fc(s,j),"".concat(S,"-option")):[],J=f?f2(a,j):null,k=p2(a,G),R=qf(B,k);L={selectValue:j,focusedOption:k,focusedOptionId:R,focusableOptionsWithIds:B,focusedValue:J,clearFocusValueOnUpdate:!1}}var x=h!=null&&s!==u?{inputIsHidden:h,inputIsHiddenAfterUpdate:void 0}:{},V=p,U=y&&w;return y&&!U&&(V={value:Sc(O,j,j[0]||null),options:j,action:"initial-input-focus"},U=!w),(p==null?void 0:p.action)==="initial-input-focus"&&(V=null),we(we(we({},L),x),{},{prevProps:s,ariaSelection:V,prevWasFocused:U})}}]),t}(A.Component);PS.defaultProps=d2;var g2=A.forwardRef(function(n,e){var t=Ox(n);return A.createElement(PS,Se({ref:e},t))}),v2=g2;const AS=({options:n,onChange:e,placeholder:t,isMulti:r=!1,defaultValue:s,label:a,value:u})=>M.jsxs("div",{className:"select-input",children:[a&&M.jsx("label",{children:a}),M.jsx(v2,{value:n.find(f=>f.value===u),options:n,onChange:e,placeholder:t,isMulti:r,defaultValue:s,className:"select-input",classNamePrefix:"react-select"})]}),y2=()=>{const[n,e]=A.useState([]),[t,r]=A.useState(!0),[s,a]=A.useState(null),u=async()=>{try{r(!0);const p=await jE();return e(p),p}catch{return a("Error fetching teachers"),[]}finally{r(!1)}};return A.useEffect(()=>{u()},[]),{teachers:n,loadTeachers:u,loading:t,error:s,handleAddTeacher:async p=>{try{await Tx(p),u()}catch{a("Error adding teacher")}},handleDeleteTeacher:async p=>{try{await Ix(p),u()}catch{a("Error deleting teacher")}}}},_2=({isEditing:n,fields:e,initialData:t,onItemAdded:r,onItemUpdated:s,onCancelEdit:a,clearFormAfterAdd:u})=>{const[f,h]=A.useState({});A.useEffect(()=>{t&&h(t)},[t]);const p=T=>{const{name:I,value:b}=T.target;h({...f,[I]:b})},y=T=>{h({...f,[T.name]:T.value})},w=async T=>{T.preventDefault(),t&&n?await(s==null?void 0:s(f)):await r(f),u===!0&&h({})},S=()=>{h({}),a&&a()};return M.jsxs("form",{onSubmit:w,className:n?"editing":"",children:[e.map(T=>{switch(T.type||"input"){case"select":return T.options&&M.jsx(AS,{label:T.label,options:T.options,value:f[T.name]||"",onChange:b=>y({name:T.name,...b}),placeholder:T.placeholder},T.name);case"number":return M.jsx("input",{type:"number",name:T.name,placeholder:T.placeholder,value:f[T.name]||"",onChange:p,required:!0},T.name);case"date":return M.jsx("input",{type:"date",name:T.name,placeholder:T.placeholder,value:f[T.name]||"",onChange:p,required:!0},T.name);case"input":return M.jsx("input",{type:"text",name:T.name,placeholder:T.placeholder,value:f[T.name]||"",onChange:p,required:!0},T.name)}}),M.jsxs("div",{className:"buttons-container",children:[M.jsx("button",{className:"save-button",type:"submit",children:n?"Save":"Add"}),n&&M.jsx("button",{className:"cancel-button",type:"button",onClick:S,children:"Cancel"})]})]})},bS=({loading:n=!1,...e})=>{const{fields:t,items:r,onItemDeleted:s,editable:a,seeable:u,onAdd:f,onEdit:h,onView:p,onSelect:y,hideForm:w}=e,[S,T]=A.useState(w||!1),[I,b]=A.useState(null),P=L=>{(I==null?void 0:I.id)===L.id?(b(null),y&&y(null)):(b(L),y&&y(L))},O=L=>{T(L),f&&f(L)};A.useEffect(()=>{w&&T(!1)},[w]);const j=s!==void 0||u||a;return!n&&M.jsxs(M.Fragment,{children:[j&&M.jsxs("div",{className:"actions buttons-container",children:[w&&M.jsxs("button",{className:S?"add-button":"save-button",onClick:()=>O(!S),"aria-expanded":S,"aria-label":S?"Hide the form":"Add a new item",children:[S?"Hide Form":"Add"," "]}),u&&p&&M.jsx("button",{disabled:!I,className:"view-button",onClick:()=>I&&p(I),"aria-label":"View selected item",children:"View "}),a&&h&&M.jsx("button",{disabled:!I,className:"edit-button",onClick:()=>I&&h(I),"aria-label":"Edit selected item",children:"Edit "}),s&&M.jsx("button",{disabled:!I,className:"delete-button",onClick:()=>(I==null?void 0:I.id)&&s(I.id),"aria-label":"Delete selected item",children:"Delete "})]}),M.jsx("div",{className:"list-header"}),M.jsx("div",{className:"table-container",children:M.jsxs("table",{className:"list-base-table","aria-label":"List of items",children:[r&&r.length>0&&M.jsx("thead",{children:M.jsx("tr",{children:t.map(L=>L.view&&M.jsx("th",{children:L.label||L.placeholder||L.name},L.name))})}),r&&r.length>0&&M.jsx("tbody",{children:r.map(L=>M.jsx("tr",{onClick:()=>P(L),className:(I==null?void 0:I.id)===L.id?"selected-row":"","aria-selected":(I==null?void 0:I.id)===L.id,children:t.map(G=>{if(G.view){if(G.type==="select"&&G.options){const B=L[G.name],J=G.options.find(k=>k.value===B);return M.jsx("td",{children:J?J.label:"Unknown"},G.name)}return M.jsx("td",{children:L[G.name]!==void 0?L[G.name]:"N/A"},G.name)}return null})},L.id))})]})})]})},w2=({hideForm:n=!0,clearFormAfterAdd:e=!0,...t})=>{const{title:r,fields:s,items:a,fetchItems:u,initialFormData:f,loading:h,children:p,onEdit:y,onView:w,onSelect:S,onItemAdded:T,onItemUpdated:I,onItemDeleted:b,importItem:P}=t,{showNotification:O}=Ud(),j=Zr.Children.toArray(p),L=(a==null?void 0:a.length)===0,[G,B]=A.useState(!0),[J,k]=A.useState(!1),[R,x]=A.useState(null),V=async()=>{u&&await u()},U=async te=>{await T(te),V(),O("Elemento agregado","success"),de()},z=async te=>{await T(te)},N=async te=>{R&&I&&(await I(R.id,te),O("Elemento actualizado","success"),de()),I||O("Error al actualizar el elemento","error")},He=async te=>{b&&(await b(te),V(),O("Elemento eliminado","success"))},Le=te=>{B(!0),k(!0),x(te),y&&y(te)},Ne=te=>{x(te),w&&w(te)},xe=te=>{x(te),S&&S(te)},se=te=>{B(te)},de=()=>{k(!1),x(null),B(!n)};return A.useEffect(()=>{!L&&B(!n)},[a]),A.useEffect(()=>{P&&z(P),V()},[P]),s.filter(te=>te.view===!0).length===0&&s.map(te=>te.view=!0),M.jsxs(M.Fragment,{children:[r&&M.jsx("h1",{className:"title",children:r}),P&&M.jsx("button",{children:"Import"}),M.jsxs("div",{className:"module-container",children:[!h&&G&&M.jsxs("div",{className:"form-container",children:[M.jsx(_2,{onItemAdded:U,onItemUpdated:N,fields:s,isEditing:J,onCancelEdit:de,initialData:J?a&&R&&a.find(te=>te.id===R.id):f,clearFormAfterAdd:e}),j[0]]}),M.jsxs("div",{className:"list-container",children:[p&&M.jsx("div",{className:"upload-container",children:j[1]}),(a==null?void 0:a.length)>0&&M.jsx(bS,{items:a,fields:s,onItemDeleted:He,editable:I!==void 0,seeable:w!==void 0,hideForm:n,loading:h||!1,onAdd:se,onEdit:Le,onView:Ne,onSelect:xe})]})]})]})},E2=async(n,e)=>{const t=rn(Be,`periods/${n}/courses/${e}/assignments`);return(await es(t)).docs.map(a=>({id:a.id,...a.data()}))},S2=async(n,e,t)=>{const r=rn(Be,`periods/${n}/courses/${e}/assignments`),s=await ha(r,{...t});console.log("Assignment added with ID: ",s.id);const a=Et(Be,`periods/${n}/courses/${e}`);await ir(a,{assignmentIds:Sm(s.id)})},T2=async(n,e,t,r,s)=>{const a=Et(Be,`periods/${n}/courses/${e}/assignments/${t}`);await ir(a,r),await C2(n,e)},I2=async(n,e,t)=>{const r=Et(Be,`periods/${n}/courses/${e}/assignments/${t}`);await da(r);const s=Et(Be,`periods/${n}`);await ir(s,{coursesIds:Tm(e)})},C2=async(n,e)=>{const t=rn(Be,`periods/${n}/courses/${e}/assignments`),s=(await es(t)).docs.map(u=>u.id),a=Et(Be,`periods/${n}`);await ir(a,{coursesIds:s})},kS=n=>{const{courseId:e,periodId:t}=n,[r,s]=A.useState([]),[a,u]=A.useState(!1),[f,h]=A.useState(null),p=A.useCallback(async()=>{u(!0);try{const T=await E2(t,e);s(T)}catch(T){h(T instanceof Error?T.message:"Error al cargar las calificaciones")}finally{u(!1)}},[t,e,u]);A.useEffect(()=>{let T=!0;return(async()=>{T&&await p()})(),()=>{T=!1}},[e,p]);const y=A.useCallback(async T=>{u(!0);try{await S2(t,e,T),await p()}catch(I){h(I instanceof Error?I.message:"Error adding assignment")}finally{u(!1)}},[t,e,p,u]),w=A.useCallback(async(T,I)=>{u(!0);try{await T2(t,e,T,I,!0),await p()}catch(b){h(b instanceof Error?b.message:"Error updating assignment")}finally{u(!1)}},[t,e,p,u]),S=A.useCallback(async T=>{u(!0);try{await I2(t,e,T),await p()}catch(I){h(I instanceof Error?I.message:"Error deleting assignment")}finally{u(!1)}},[t,e,p,u]);return{assignments:r,loadAssignments:p,loading:a,setLoading:u,error:f,handleAddAssignment:y,handleUpdateAssignment:w,handleDeleteAssignment:S}},R2=({periodId:n,courseId:e})=>{const{assignments:t,loading:r,error:s,handleAddAssignment:a,handleDeleteAssignment:u,handleUpdateAssignment:f}=kS({periodId:n,courseId:e}),h=A.useMemo(()=>t.reduce((y,w)=>y+(Number(w.contributionPercentage)||0),0),[t]),p=[{name:"title",placeholder:"Title of the assignment"},{name:"contributionPercentage",placeholder:"Contribution percentage to final grade",type:"number"}];return r?M.jsx(Fd,{text:"Loading assignments",className:"h30vh"}):s?M.jsxs("div",{children:["Error: ",s]}):M.jsxs(M.Fragment,{children:[M.jsxs("p",{children:[M.jsx("b",{children:"Total Percentage: "}),"(",h,")%"]}),M.jsx(w2,{fields:p,items:t,onItemAdded:a,onItemUpdated:f,onItemDeleted:u,loading:r,clearFormAfterAdd:!1})]})},P2=({periodId:n})=>{const e=kp(),{courses:t,availableCourses:r,handleAddCourse:s,handleDeleteCourse:a,handleUpdateCourse:u}=Cx(n),{teachers:f}=y2(),[h,p]=A.useState(null),[y,w]=A.useState(null),[S]=Ls("selectPeriod",null),T=()=>{e(-1)},I=async O=>{if(y){const{id:j,...L}=O,G={...L,teacherId:y};await u(j,G),w(null)}},b=async()=>{const{id:O,...j}=r.filter(L=>L.id===h)[0];if(h){const L={...j,courseId:O,status:"Not Started",assignmentsIds:[]};await s(L),p(null)}},P=(O,j)=>O&&j&&String(O)===String(j);return M.jsxs("div",{className:"periods-manager card",children:[M.jsxs("div",{className:"container",children:[M.jsx("h3",{children:S==null?void 0:S.name}),M.jsx("button",{onClick:T,children:"Volver"})]}),M.jsxs("div",{className:"container",children:[n&&M.jsxs("div",{className:"item",children:[M.jsx("h3",{children:"Available Courses"}),M.jsx("div",{className:"buttons-container flex",children:r.map(O=>M.jsx("button",{className:`button ${P(h,O.id)?"active":""}`,onClick:()=>p(O.id),children:O.name},O.id))}),r.length===0&&M.jsx("div",{className:"empty",children:"No courses available for this period"})]}),n&&h&&M.jsx("button",{className:"edit-button",onClick:b,children:"Assign course"})]}),M.jsx("div",{className:"periods-list",children:M.jsx("ul",{children:t.map(O=>M.jsxs("li",{children:[M.jsxs("div",{className:"buttons-container flex",children:[M.jsx("button",{className:"save-button",onClick:()=>I(O),children:"Save"}),O.assignmentsIds&&O.assignmentsIds.length==0&&M.jsx("button",{className:"delete-button",onClick:()=>a(O.id),children:"Delete"})]}),M.jsx("h3",{children:O.name}),M.jsx("p",{children:O.description}),M.jsxs("p",{children:["Teacher: ",O.teacherName]}),!O.teacherId&&M.jsx(AS,{label:"Teacher",options:f.map(j=>({value:j.id,label:j.name})),value:"",onChange:j=>w(j.value),placeholder:"Select Teacher"},"teacherId"),M.jsx(R2,{courseId:O.id,periodId:S==null?void 0:S.id})]},O.id))})})]})},A2=()=>{const{id:n}=l0();return M.jsx("div",{children:n&&M.jsx(P2,{periodId:n})})},b2=async n=>{const e=rn(Be,"students");await ha(e,n)},k2=async n=>{const e=fx(Be),t=rn(Be,"students");n.forEach(r=>{const s=Et(t);e.set(s,r)});try{await e.commit()}catch(r){throw console.error("Error committing batch:",r),new Error("Error adding students")}},x2=async()=>{const n=rn(Be,"students");return(await es(n)).docs.map(t=>({id:t.id,fullName:t.data().fullName,identificationNumber:t.data().identificationNumber,email:t.data().email}))},O2=async n=>{try{const e=Et(Be,"students",n),t=await cx(e);return t.exists()?{id:t.id,...t.data()}:(console.log("No such document!"),null)}catch(e){throw console.error("Error fetching student:",e),e}},D2=async n=>{const e=Et(Be,"students",n);await da(e)},N2=async(n,e)=>{const{id:t,...r}=e,s=Et(Be,"students",n);await ir(s,r)},V2=()=>{const{setIsLoading:n,setLoadingText:e}=jd(),[t,r]=A.useState([]),[s,a]=A.useState(),[u,f]=A.useState(!0),[h,p]=A.useState(null),{showNotification:y}=Ud();A.useEffect(()=>{e("Loading Student"),n(u)},[u,n]);const w=async()=>{try{f(!0);const L=await x2();r(L)}catch{p("Error loading students")}finally{f(!1)}},S=async L=>{try{if(!L){console.error("Student ID is null or undefined");return}f(!0);const G=await O2(L);console.log("studentData",G),a(G)}catch{p("Error loading student"),y("Error loading student","error"),console.error(`Error loading student ${L}`)}finally{f(!1)}};A.useEffect(()=>{w()},[]);const T=async L=>{try{if(!j(L))return;await b2(L),y("Element added","success"),w()}catch{p("Error adding the student")}},I=async L=>{try{const G=L.filter(J=>!t.some(k=>k.fullName===J.fullName));if(G.length===0){y("All students already exist","error");return}if(G.filter(J=>!j(J)).length>0){y("Some students have invalid data","error");return}await k2(G),y(`${G.length} elements added`,"success"),w()}catch(G){console.error("Error adding students:",G),p("Error adding students")}},b=async L=>{try{await D2(L),w()}catch{p("Error deleting the student")}},P=async(L,G)=>{try{await N2(L,G),w()}catch{p("Error updating the student")}},O=L=>typeof L>"u"||L.trim()===""?!1:/\S+@\S+\.\S+/.test(L),j=L=>t.some(B=>B.fullName===L.fullName)?(y("The student already exists","error"),!1):!L.fullName||!O(L.email)?(y("Invalid student data","error"),!1):!0;return{students:t,student:s,loadStudents:w,loadStudent:S,loading:u,error:h,handleAddStudent:T,handleAddStudents:I,handleRemoveStudent:b,handleUpdateStudent:P}},L2=async n=>{const e=rn(Be,`students/${n}/courses`);return(await es(e)).docs.map(r=>({id:r.id,...r.data()}))},M2=async(n,e)=>{const t=rn(Be,`students/${n}/courses`),r=await ha(t,e);console.log("Course added with ID: ",r.id);const s=Et(Be,`students/${n}`);await ir(s,{coursesIds:Sm(r.id)})},F2=async(n,e)=>{const t=Et(Be,`students/${n}/courses`,e);await da(t);const r=Et(Be,`students/${n}`);await ir(r,{coursesIds:Tm(e)})},U2=async()=>{const n=rn(Be,"periods");return(await es(n)).docs.map(r=>({id:r.id,...r.data()}))},SV=async n=>{const e=rn(Be,"periods");await ha(e,n)},TV=async n=>{const e=Et(Be,"periods",n);await da(e)},IV=async(n,e)=>{const{id:t,...r}=e,s=Et(Be,"periods",n);await ir(s,r)},j2=n=>{const{setIsLoading:e}=jd(),[t,r]=Ls("selectedPeriodId",null),[s]=A.useState([]),[a,u]=A.useState([]),[f,h]=A.useState(!0),[p,y]=A.useState(null),[w,S]=A.useState([]),[T,I]=Ls("availablePeriods",[]),{showNotification:b}=Ud();A.useEffect(()=>{e(f)},[f,e]);const P=async()=>{if(T.length===0)try{h(!0);const B=await U2();I(B)}catch{y("Error fetching available periods"),b("Error fetching available periods","error")}finally{h(!1)}},O=async B=>{try{if(h(!0),B){r(B);const J=await FE(B);console.log({periodId:B,fetchedAvailableCourses:J}),S(J)}else S([])}catch{b("Error fetching available courses","error")}finally{h(!1)}},j=async B=>{try{h(!0);const J=await L2(B);u(J)}catch{b("Error fetching courses","error")}finally{h(!1)}};return A.useEffect(()=>{P()},[]),A.useEffect(()=>{n&&j(n)},[n]),A.useEffect(()=>{t&&O(t)},[t]),{loading:f,error:p,courses:s,studentCourses:a,availablePeriods:T,handleAddCourse:async(B,J)=>{try{h(!0),await M2(B,J),j(B)}catch{b("Error adding course","error")}finally{h(!1)}},handleDeleteCourse:async(B,J)=>{try{if(!J)return;h(!0),await F2(B,J),j(B)}catch{y("Error deleting course"),b("Error deleting course","error")}finally{h(!1)}},availableCourses:w,loadAvailableCourses:O,loadAvailablePeriods:P,setPeriodId:r}},$2=({course:n,onEdit:e,onDelete:t})=>{var r;return M.jsxs("div",{className:"course-card",children:[M.jsx("h3",{children:n.name}),n.description&&M.jsxs("p",{children:[M.jsx("strong",{children:"Description:"})," ",n.description]}),n.status&&M.jsxs("p",{children:[M.jsx("strong",{children:"Status:"})," ",n.status]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Assignments:"})," ",((r=n.assignmentsIds)==null?void 0:r.length)||0]}),M.jsxs("div",{className:"course-card-actions",children:[e&&M.jsx("button",{onClick:()=>e(n),className:"edit-button",children:"Edit"}),t&&n.id&&M.jsx("button",{onClick:()=>t(n.id),className:"delete-button",children:"Delete"})]})]})},z2=({periodId:n,courseId:e})=>{const{assignments:t,loading:r}=kS({periodId:n,courseId:e}),s=[{name:"name",placeholder:"Course name"},{name:"description",placeholder:"Course description"}],a=f=>{console.log(f)},u=f=>{console.log(f)};return M.jsx("div",{children:M.jsx("div",{className:"list-container",children:M.jsx(bS,{items:t,fields:s,editable:!1,seeable:!1,loading:r,onEdit:a,onView:u})})})},B2=({student:n})=>{const[e,t]=Ls("selectedPeriodId",null),[r,s]=Ls("selectedCourseId",null),{error:a,availableCourses:u,availablePeriods:f,studentCourses:h,handleAddCourse:p,setPeriodId:y}=j2(n.id),w=async()=>{if(e&&r){const{id:I,duration:b,hours:P,...O}=u.filter(L=>L.id===r)[0],j={...O,courseId:I,periodId:e,status:"Not Started",finalGrade:0,assignmentsIds:[]};await p(n.id,j),t(null)}},S=I=>{console.log(I),t(I),y(I),s(null)},T=(I,b)=>I&&b&&String(I)===String(b);return a?M.jsx("div",{className:"error",children:a}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"container",children:[M.jsxs("div",{className:"item",children:[M.jsx("h3",{children:"Periods"}),M.jsx("div",{className:"buttons-container",children:f.map(I=>M.jsx("button",{className:`button ${T(e,I.id)?"active":""}`,onClick:()=>S(I.id),children:I.code},I.id))})]}),e&&M.jsxs("div",{className:"item",children:[M.jsx("h3",{children:"Available Courses"}),M.jsx("div",{className:"buttons-container",children:u.map(I=>M.jsx("button",{className:`button ${T(r,I.id)?"active":""}`,onClick:()=>s(I.id),children:I.name},I.id))}),u.length===0&&M.jsx("div",{className:"empty",children:"No courses available for this period"})]}),e&&r&&M.jsx("button",{className:"edit-button",onClick:w,children:"Assign course"})]}),e&&r&&M.jsx(z2,{courseId:e,periodId:e}),M.jsx("div",{className:"container",children:h.map(I=>M.jsx($2,{course:I},`card-${I.id}`))})]})},H2=({student:n,onEdit:e,onDelete:t})=>M.jsxs("div",{className:"student-card",children:[M.jsx("h3",{children:n.fullName}),n.identificationNumber&&M.jsxs("p",{children:[M.jsx("strong",{children:"ID:"})," ",n.identificationNumber]}),n.email&&M.jsxs("p",{children:[M.jsx("strong",{children:"Email:"})," ",n.email]}),M.jsxs("div",{className:"student-card-actions",children:[e&&M.jsx("button",{onClick:()=>e(n),className:"edit-button",children:"Edit"}),t&&n.id&&M.jsx("button",{onClick:()=>t(n.id),className:"delete-button",children:"Delete"})]})]}),W2=({student:n})=>M.jsxs("div",{children:[M.jsx("h2",{className:"title",children:"Student Details"}),n&&M.jsx(H2,{student:n}),n&&n.id&&M.jsx(B2,{student:n})]}),Q_=()=>{const{loadStudent:n,student:e,loading:t}=V2(),{id:r}=l0();return A.useEffect(()=>{r&&!e&&n(r)},[r,e]),M.jsx(M.Fragment,{children:!t&&e&&M.jsx(W2,{student:e})})},q2=A.lazy(()=>Xi(()=>import("./Login-fA6A9otY.js"),[])),K2=A.lazy(()=>Xi(()=>import("./Register-D_S5-beB.js"),__vite__mapDeps([0,1]))),G2=A.lazy(()=>Xi(()=>import("./Courses-C88O6vv9.js"),[])),Q2=A.lazy(()=>Xi(()=>import("./Grades-BDj83bJv.js"),[])),Y_=A.lazy(()=>Xi(()=>import("./Periods-BUjLLRdz.js"),[])),Y2=A.lazy(()=>Xi(()=>import("./Dashboard-CvFi--_k.js"),__vite__mapDeps([2,3]))),X2=A.lazy(()=>Xi(()=>import("./Students-mfGY8KlA.js"),__vite__mapDeps([4,5]))),J2=A.lazy(()=>Xi(()=>import("./Teachers-D15G-hYf.js"),[])),Z2=()=>{const{loading:n}=LE(),{setIsLoading:e}=jd(),[t,r]=A.useState(!1),[s,a]=A.useState(!1);if(A.useEffect(()=>{let f;return n?e(!0):f=setTimeout(()=>{e(!1),r(!0),a(!0)},2e3),()=>{f&&clearTimeout(f)}},[n,e]),!t)return null;const u=M.jsxs(MT,{children:[M.jsx(fn,{path:"/",element:M.jsx(q2,{})}),M.jsx(fn,{path:"/register",element:M.jsx(K2,{})}),M.jsx(fn,{path:"/dashboard",element:M.jsx(yr,{element:M.jsx(Y2,{})})}),M.jsx(fn,{path:"/students",element:M.jsx(yr,{element:M.jsx(X2,{})})}),M.jsx(fn,{path:"/students/:id/periods",element:M.jsx(yr,{element:M.jsx(Q_,{})})}),M.jsx(fn,{path:"/students/:id/courses",element:M.jsx(yr,{element:M.jsx(Q_,{})})}),M.jsx(fn,{path:"/teachers",element:M.jsx(yr,{element:M.jsx(J2,{})})}),M.jsx(fn,{path:"/courses",element:M.jsx(yr,{element:M.jsx(G2,{})})}),M.jsx(fn,{path:"/grades",element:M.jsx(yr,{element:M.jsx(Q2,{})})}),M.jsx(fn,{path:"/periods",element:M.jsx(yr,{element:M.jsx(Y_,{})})}),M.jsx(fn,{path:"/periods/courses",element:M.jsx(yr,{element:M.jsx(Y_,{})})}),M.jsx(fn,{path:"/periods/:id/courses",element:M.jsx(yr,{element:M.jsx(A2,{})})}),M.jsx(fn,{path:"*",element:M.jsx(d0,{to:"/"})})," "]});return M.jsx(A.Suspense,{fallback:M.jsx(Fd,{text:"Cargando componente..."}),children:s?u:null})},xS=A.createContext(void 0),eV=({children:n})=>{const[e,t]=A.useState(null);return M.jsx(xS.Provider,{value:{openDropdown:e,setOpenDropdown:t},children:n})},tV=()=>{const n=A.useContext(xS);if(n===void 0)throw new Error("useDropdown must be used within a DropdownProvider");return n},OS=({id:n,title:e,items:t})=>{const{openDropdown:r,setOpenDropdown:s}=tV(),a=kr(),u=()=>{s(r===n?null:n)},f=r===n,h=t.some(p=>a.pathname===p.to);return M.jsxs("div",{className:"dropdown",children:[M.jsxs("button",{onClick:u,className:`dropdown-button ${h?"active":""}`,children:[e," ",M.jsx("span",{className:"dropdown-icon",children:"▼"})]}),f&&M.jsx("ul",{className:"dropdown-menu",children:t.map((p,y)=>M.jsx("li",{className:a.pathname===p.to?"active":"",onClick:()=>s(null),children:M.jsxs(Vl,{to:p.to,style:{display:"flex",alignItems:"center"},children:[p.icon&&M.jsx("span",{className:"item-icon",children:p.icon}),p.label]})},y))})]})},nV=({items:n})=>{const e=kr(),t=n.some(r=>e.pathname===r.to);return M.jsx("header",{className:"navbar",children:M.jsx("ul",{children:n.map(r=>M.jsx("li",{className:e.pathname===r.to?"active":"",children:r.children?M.jsx(OS,{id:`${r.label.toLowerCase()}-dropdown-desktop`,title:r.label,items:r.children}):M.jsx("button",{className:`${t?"active":""}`,children:M.jsx(Vl,{to:r.to,children:r.label})})},r.label))})})},rV=({items:n,isOpen:e,onClose:t})=>M.jsxs("div",{className:`sidebar ${e?"open":""}`,children:[M.jsx("button",{className:"close-button",onClick:t,children:"× "}),M.jsx("ul",{children:n.map(r=>M.jsx("li",{children:r.children?M.jsx(OS,{id:`${r.label.toLowerCase()}-dropdown`,title:r.label,items:r.children}):M.jsx(Vl,{to:r.to,onClick:t,children:r.label})},r.label))})]});var DS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},X_=Zr.createContext&&Zr.createContext(DS),iV=["attr","size","title"];function sV(n,e){if(n==null)return{};var t=oV(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function oV(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function dd(){return dd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dd.apply(this,arguments)}function J_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function hd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(t),!0).forEach(function(r){aV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function aV(n,e,t){return e=lV(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lV(n){var e=uV(n,"string");return typeof e=="symbol"?e:e+""}function uV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function NS(n){return n&&n.map((e,t)=>Zr.createElement(e.tag,hd({key:t},e.attr),NS(e.child)))}function VS(n){return e=>Zr.createElement(cV,dd({attr:hd({},n.attr)},e),NS(n.child))}function cV(n){var e=t=>{var{attr:r,size:s,title:a}=n,u=sV(n,iV),f=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Zr.createElement("svg",dd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:h,style:hd(hd({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),a&&Zr.createElement("title",null,a),n.children)};return X_!==void 0?Zr.createElement(X_.Consumer,null,t=>e(t)):e(DS)}function dV(n){return VS({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function CV(n){return VS({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(n)}const Z_=[{label:"Dashboard",to:"/dashboard"},{label:"Students",to:"",children:[{label:"Estudiantes",to:"/students"},{label:"Calificaciones",to:"/grades"}]},{label:"Periods",to:"",children:[{label:"Courses",to:"/courses-period"},{label:"Calificaciones",to:"/grades"}]},{label:"Params",to:"",children:[{label:"Periods",to:"/periods"},{label:"Courses",to:"/courses"},{label:"Profesores",to:"/teachers"}]},{label:"User",to:"",children:[{label:"Login",to:"/login"},{label:"Register",to:"/register"}]}],hV=()=>{const[n,e]=A.useState(!1),t=()=>{e(!n)};return M.jsxs("div",{children:[M.jsxs("button",{className:"toggle-button",onClick:t,children:[M.jsx(dV,{})," "]}),M.jsx(rV,{items:Z_,isOpen:n,onClose:()=>e(!1)}),M.jsx(nV,{items:Z_})]})},fV=({children:n})=>M.jsxs("div",{className:"grid",children:[M.jsx("div",{className:"header",children:M.jsx(hV,{})}),M.jsx("div",{className:"main",children:n})," "]}),pV=()=>M.jsx(aI,{basename:"/learntrackcenter",children:M.jsx(vx,{children:M.jsx(Sx,{children:M.jsx(eV,{children:M.jsx(fV,{children:M.jsx(Z2,{})})})})})});K1.createRoot(document.getElementById("root")).render(M.jsx(A.StrictMode,{children:M.jsx(pV,{})}));export{w2 as B,CV as F,Fd as L,B2 as P,H2 as S,mx as a,gV as b,kp as c,Ud as d,mV as e,rn as f,EV as g,Be as h,es as i,M as j,ha as k,Et as l,da as m,ir as n,jd as o,U2 as p,SV as q,A as r,vV as s,TV as t,LE as u,IV as v,Ls as w,V2 as x,y2 as y};
