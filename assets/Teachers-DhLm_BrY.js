import{r as c,q as i,t as u,v as T,w as m,e as p,j as s,D as f}from"./index-lcYHgldp.js";const g=()=>{const[t,d]=c.useState([]),[h,n]=c.useState(!0),[l,a]=c.useState(null),r=async()=>{try{n(!0);const e=await i();return d(e),e}catch{return a("Error fetching teachers"),[]}finally{n(!1)}};return c.useEffect(()=>{r()},[]),{teachers:t,loadTeachers:r,loading:h,error:l,handleAddTeacher:async e=>{try{await u(e),r()}catch{a("Error adding teacher")}},handleDeleteTeacher:async e=>{try{await T(e),r()}catch{a("Error deleting teacher")}},handleUpdateTeacher:async(e,o)=>{try{await m(e,o),r()}catch{a("Error adding teacher")}}}},y=()=>{const{loading:t,teachers:d,handleAddTeacher:h,handleDeleteTeacher:n,handleUpdateTeacher:l}=g(),{setIsLoading:a}=p();c.useEffect(()=>{a(t)},[t,a]);const r=[{name:"name",placeholder:"Full Name"},{name:"idNumber",placeholder:"Id"},{name:"specialty",placeholder:"specialty"}];return s.jsx(s.Fragment,{children:s.jsx(f,{title:"Manage Teacher",fields:r,items:d,handlers:{onItemAdded:h,onItemDeleted:n,onItemUpdated:l},loading:t,showForm:!1})})},I=()=>s.jsx("div",{children:s.jsx(y,{})});export{I as default};
