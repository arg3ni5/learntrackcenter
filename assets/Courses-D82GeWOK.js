import{r as n,f as h,j as o,B as C}from"./index-BozJdoqh.js";import{f as m,a as p,d as f,u as g}from"./courseService-BKmjs8rX.js";const x=()=>{const[d,u]=n.useState([]),[t,a]=n.useState(!0),[c,r]=n.useState(null),s=async()=>{try{a(!0);const e=await m();return u(e),e}catch{return r("Error fetching courses"),[]}finally{a(!1)}};return n.useEffect(()=>{s()},[]),{courses:d,loadCourses:s,loading:t,error:c,setError:r,handleAddCourse:async e=>{try{await p(e),s()}catch{r("Error adding course")}},handleDeleteCourse:async e=>{try{await f(e),s()}catch{r("Error deleting course")}},handleUpdateCourse:async(e,l)=>{try{await g(e,l),s()}catch{r("Error updating course")}}}},y=()=>{const{setIsLoading:d}=h(),{courses:u,loading:t,error:a,handleAddCourse:c,handleDeleteCourse:r,handleUpdateCourse:s}=x();n.useEffect(()=>{d(t)},[t,d]);const i=[{name:"name",placeholder:"Course name"},{name:"description",placeholder:"Course description"},{name:"duration",placeholder:"Duration (weeks)"},{name:"hours",placeholder:"Hours per week"}];return o.jsxs(o.Fragment,{children:[o.jsx(C,{title:"Course Management",fields:i,items:u,onItemAdded:c,onItemDeleted:r,onItemUpdated:s,loading:t,showForm:!1}),a&&o.jsx("div",{className:"error",children:a})," "]})},I=()=>o.jsx("div",{children:o.jsx(y,{})});export{I as default};
