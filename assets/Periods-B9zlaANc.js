import{f as p,l,m,h as u,i as P,k as f,r as t,j as d,L as D}from"./index-CjQusIVV.js";import{B as g}from"./BaseModule-oJippv06.js";const x=async()=>{const e=p(l,"periodos_academicos");return(await m(e)).docs.map(r=>({id:r.id,...r.data()}))},y=async e=>{const o=p(l,"periodos_academicos");await u(o,e)},j=async e=>{const o=P(l,"periodos_academicos",e);await f(o)},E=()=>{const[e,o]=t.useState([]),[a,r]=t.useState(!0),[i,c]=t.useState(null),n=async()=>{try{r(!0);const s=await x();o(s)}catch{c("Error fetching periods")}finally{r(!1)}};return t.useEffect(()=>{n()},[]),{periods:e,loading:a,error:i,handleAddPeriod:async s=>{try{await y(s),n()}catch{c("Error adding period")}},handleDeletePeriod:async s=>{try{await j(s),n()}catch{c("Error deleting period")}}}},w=()=>{const{periods:e,loading:o,error:a,handleAddPeriod:r,handleDeletePeriod:i}=E();return d.jsxs(d.Fragment,{children:[d.jsx(g,{collectionName:"periods",title:"Manage Academic Periods",fields:[{name:"periodId",placeholder:"ID Periodo"},{name:"periodName",placeholder:"Nombre del Periodo"},{name:"startDate",placeholder:"Fecha de Inicio"},{name:"endDate",placeholder:"Fecha de Fin"},{name:"description",placeholder:"DescripciÃ³n"},{name:"status",placeholder:"Estado"}],fetchItems:async()=>e,onItemAdded:r,onItemDeleted:i,initialFormData:null,loading:o}),o&&d.jsx("div",{className:"loading",children:d.jsx(D,{})})," ",a&&d.jsx("div",{className:"error",children:a})," "]})},N=()=>d.jsx("div",{children:d.jsx(w,{})});export{N as default};
