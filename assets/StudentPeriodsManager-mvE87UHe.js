import{j as s,C as u,e as m}from"./index-CqjrHKFh.js";import{u as f}from"./useStudentCourses-8lVYJJle.js";const P=[{name:"identificationNumber",placeholder:"Identification"},{name:"email",placeholder:"Email Address"}],k=({student:d,onDelete:a,onEdit:i})=>s.jsx(s.Fragment,{children:s.jsx(u,{titleName:"fullName",fields:P,data:d,handlers:{onDelete:a,onItemUpdated:i}})}),D=({student:d})=>{const[a,i]=m("selectedPeriodId",null),[t,r]=m("selectedCourseId",null),{availableCourses:l,availablePeriods:h,studentCourses:o,handleAddCourse:x,handleDeleteCourse:j,setPeriodId:p}=f(d.id),C=async()=>{if(a&&t){const{id:e,duration:n,hours:S,...I}=l.filter(b=>b.id===t)[0],v={...I,periodId:a,periodCourseId:t,courseId:t,status:"Not Started",finalGrade:0,assignmentsIds:[]};await x(d.id,v)}},N=e=>{i(e),p(e),r(null)},c=(e,n)=>e&&n&&String(e)===String(n),g=[{name:"description",placeholder:"description"},{name:"duration",placeholder:"duration"},{name:"hours",placeholder:"hours"},{name:"status",placeholder:"status"},{name:"teacherName",placeholder:"teacherName"},{name:"assignmentsIds",placeholder:"Assignments",type:"array"}];return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"item",children:[s.jsx("h3",{children:"Periods"}),s.jsx("div",{className:"buttons-container",children:h.map(e=>s.jsx("button",{className:`button ${c(a,e.id)?"active":""}`,onClick:()=>N(e.id),children:e.code},e.id))})]}),a&&s.jsxs("div",{className:"item",children:[s.jsx("h3",{children:"Available Courses"}),s.jsx("div",{className:"buttons-container",children:l.filter(e=>!o.some(n=>n.id===e.id)).map(e=>s.jsx("button",{className:`button ${c(t,e.id)?"active":""}`,onClick:()=>r(e.id),children:e.name},e.id))}),l.length===0&&s.jsx("div",{className:"empty",children:"No courses available for this period"})]}),a&&t&&s.jsx("button",{className:"edit-button",onClick:C,children:"Assign course"})]}),s.jsx("h2",{className:"title",children:"Assigned Courses"}),s.jsx("div",{className:"container",children:o.map(e=>s.jsx("div",{className:"item",children:s.jsx(u,{titleName:"name",fields:g,data:e,handlers:{onDelete:()=>j(d.id,e.courseId,e.periodId)},ableDelete:e.assignmentsIds.length===0})},`div-${e.id}`))})]})};export{D as P,k as S};
