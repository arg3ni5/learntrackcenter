import{f as i,h as m,i as u,k as p,c as T,j as s,D as f}from"./index-BktWWyx6.js";import{r as c}from"./vendor-react-BWjxQFbR.js";import"./vendor-firebase-auth-jxUAlChc.js";import"./vendor-firebase-CmWpKus1.js";import"./vendor-firebase-firestore-B5VfNmRa.js";import"./vendor-ui-CZ9GI7ht.js";import"./vendor-utils-BDfVuDdi.js";const g=()=>{const[t,d]=c.useState([]),[h,n]=c.useState(!0),[o,a]=c.useState(null),r=async()=>{try{n(!0);const e=await i();return d(e),e}catch{return a("Error fetching teachers"),[]}finally{n(!1)}};return c.useEffect(()=>{r()},[]),{teachers:t,loadTeachers:r,loading:h,error:o,handleAddTeacher:async e=>{try{await m(e),r()}catch{a("Error adding teacher")}},handleDeleteTeacher:async e=>{try{await u(e),r()}catch{a("Error deleting teacher")}},handleUpdateTeacher:async(e,l)=>{try{await p(e,l),r()}catch{a("Error adding teacher")}}}},y=()=>{const{loading:t,teachers:d,handleAddTeacher:h,handleDeleteTeacher:n,handleUpdateTeacher:o}=g(),{setIsLoading:a}=T();c.useEffect(()=>{a(t)},[t,a]);const r=[{name:"name",placeholder:"Full Name"},{name:"idNumber",placeholder:"Id"},{name:"specialty",placeholder:"specialty"}];return s.jsx(s.Fragment,{children:s.jsx(f,{title:"Manage Teacher",fields:r,items:d,handlers:{onItemAdded:h,onItemDeleted:n,onItemUpdated:o},loading:t,showForm:!1})})},S=()=>s.jsx("div",{children:s.jsx(y,{})});export{S as default};
