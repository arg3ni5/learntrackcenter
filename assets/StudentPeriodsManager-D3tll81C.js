import{j as s,C as u,o as m}from"./index-lcYHgldp.js";import{u as v}from"./useStudentCourses-DEHyb5Gj.js";const S=[{name:"identificationNumber",placeholder:"Identification"},{name:"email",placeholder:"Email Address"}],k=({student:n,onDelete:a,onEdit:i})=>s.jsx(s.Fragment,{children:s.jsx(u,{titleName:"fullName",fields:S,data:n,handlers:{onDelete:a,onItemUpdated:i}})}),E=({student:n})=>{const[a,i]=m("selectedPeriodId",null),[t,o]=m("selectedCourseId",null),{availableCourses:l,availablePeriods:h,studentCourses:r,handleAddCourse:x,handleDeleteCourse:C,setPeriodId:j}=v(n.id),p=async()=>{if(!a||!t)return;const e=l.find(f=>f.id===t);if(!e)return;const{id:d,duration:P,hours:A,...I}=e,b={...I,periodId:a,periodCourseId:t,courseId:t,status:"Not Started",finalGrade:0,assignmentsIds:[]};await x(n.id,b)},N=e=>{i(e),j(e),o(null)},c=(e,d)=>String(e)===String(d),g=[{name:"description",placeholder:"Description"},{name:"duration",placeholder:"Duration"},{name:"hours",placeholder:"Hours"},{name:"status",placeholder:"Status"},{name:"teacherName",placeholder:"Teacher"},{name:"assignmentsIds",placeholder:"Assignments",type:"array"}];return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"item",children:[s.jsx("h3",{children:"Periods"}),s.jsx("div",{className:"buttons-container",children:h.map(e=>s.jsx("button",{className:`button ${c(a,e.id)?"active":""}`,onClick:()=>N(e.id),children:e.code},e.id))})]}),a&&s.jsxs("div",{className:"item",children:[s.jsx("h3",{children:"Available Courses"}),s.jsx("div",{className:"buttons-container",children:l.filter(e=>!r.some(d=>d.id===e.id)).map(e=>s.jsx("button",{className:`button ${c(t,e.id)?"active":""}`,onClick:()=>o(e.id),children:e.name},e.id))}),l.filter(e=>!r.some(d=>d.id===e.id)).length===0&&s.jsx("div",{className:"empty",children:"No courses available for this period"})]}),a&&t&&s.jsx("button",{className:"edit-button",onClick:p,children:"Assign Course"})]}),s.jsx("h2",{className:"title",children:"Assigned Courses"}),s.jsx("div",{className:"container",children:r.map(e=>s.jsx("div",{className:"item",children:s.jsx(u,{titleName:"name",fields:g,data:e,handlers:{onDelete:()=>C(n.id,e.courseId,e.periodId)},ableDelete:e.assignmentsIds.length===0})},e.id))})]})};export{k as S,E as a};
