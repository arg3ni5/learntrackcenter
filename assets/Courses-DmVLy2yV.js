import{r as n,e as h,j as t,D as C}from"./index-B1GdCpt6.js";import{f as m,a as p,d as f,u as g}from"./courseService-DlHroZ-x.js";const x=()=>{const[d,u]=n.useState([]),[o,a]=n.useState(!0),[c,r]=n.useState(null),s=async()=>{try{a(!0);const e=await m();return u(e),e}catch{return r("Error fetching courses"),[]}finally{a(!1)}};return n.useEffect(()=>{s()},[]),{courses:d,loadCourses:s,loading:o,error:c,setError:r,handleAddCourse:async e=>{try{await p(e),s()}catch{r("Error adding course")}},handleDeleteCourse:async e=>{try{await f(e),s()}catch{r("Error deleting course")}},handleUpdateCourse:async(e,l)=>{try{await g(e,l),s()}catch{r("Error updating course")}}}},y=()=>{const{setIsLoading:d}=h(),{courses:u,loading:o,error:a,handleAddCourse:c,handleDeleteCourse:r,handleUpdateCourse:s}=x();n.useEffect(()=>{d(o)},[o,d]);const i=[{name:"name",placeholder:"Course name"},{name:"description",placeholder:"Course description"},{name:"duration",placeholder:"Duration (weeks)"},{name:"hours",placeholder:"Hours per week"}];return t.jsxs(t.Fragment,{children:[t.jsx(C,{title:"Course Management",fields:i,items:u,handlers:{onItemAdded:c,onItemDeleted:r,onItemUpdated:s},loading:o,showForm:!1}),a&&t.jsx("div",{className:"error",children:a})," "]})},I=()=>t.jsx("div",{children:t.jsx(y,{})});export{I as default};
